
<div class="mb-10 w-11/12 mx-auto mt-20 font-extrabold text-center flex justify-center items-center py-4 rounded-[10px] text-white md:text-3xl text-xl bg-amber-400 ">
    Forum
</div>

<div class="flex border rounded-xl mx-4 border-amber-100 ">

    <div class="flex-1    p-4   ">

        <div class="text-3xl py-4 text-amber-600 text-center relative">
            <button (click)="setVisible(true)" *ngIf="screenSize < 780" class="absolute left-0 -top-1">
                <svg fill="rgb(217 119 6)" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                    width="24px" height="24xp" viewBox="0 0 31.95 31.951"
                    xml:space="preserve">
                <g>
                    <g>
                        <path d="M21.009,22.119h-9.782c-1.809,0-3.3,1.502-3.3,3.312v5.1h16.339v-5.1C24.268,23.621,22.816,22.119,21.009,22.119z"/>
                        <circle cx="16.117" cy="15.565" r="4.696"/>
                        <path d="M8.997,9.43c0-0.997-0.803-1.803-1.798-1.803h-5.38C0.824,7.627,0,8.434,0,9.43v2.817h8.997V9.43z"/>
                        <circle cx="4.509" cy="4.002" r="2.583"/>
                        <path d="M30.177,7.627h-5.38c-0.995,0-1.795,0.806-1.795,1.803v2.817h8.948V9.431C31.95,8.434,31.172,7.627,30.177,7.627z"/>
                        <circle cx="27.486" cy="4.002" r="2.583"/>
                        <path d="M12.138,7.822h8.266c0.57,0,1.033-0.45,1.033-1.021c0-0.571-0.463-1.022-1.033-1.022h-8.266
                            c-0.571,0-1.033,0.451-1.033,1.022C11.105,7.371,11.567,7.822,12.138,7.822z"/>
                        <path d="M8.838,20.958c0.21,0,0.422-0.062,0.606-0.195c0.462-0.336,0.564-0.981,0.23-1.442l-3.77-5.205
                            c-0.336-0.464-0.981-0.566-1.443-0.231c-0.463,0.335-0.565,0.981-0.23,1.443L8,20.534C8.203,20.812,8.519,20.958,8.838,20.958z"/>
                        <path d="M26.945,13.982c-0.48-0.31-1.118-0.168-1.426,0.312l-3.252,5.075c-0.31,0.479-0.168,1.119,0.312,1.429
                            c0.172,0.108,0.364,0.161,0.558,0.161c0.34,0,0.674-0.166,0.87-0.476l3.251-5.073C27.566,14.931,27.426,14.291,26.945,13.982z"/>
                    </g>
                </g>
                </svg>
            </button>
            {{course.name}} {{course.level}}
        </div>



        <div class="md:h-[60vh] h-[58vh] overflow-auto w-full px-8 text-sm">

            <div [ngClass]="{'flex items-center my-4': item.user !== user.id, 'flex items-center justify-end my-4':  item.user === user.id}" *ngFor="let item of messages">
                    
                    <div class="md:w-1/2 w-44">
                        <div *ngIf="item.user !== user.id" class="text-md">{{item.userName}}</div>
                        <div *ngIf="item.user === user.id" class="text-md">Vous</div>
                        <div class="mx-4 p-4 bg-gray-100 rounded-xl text-justify"  [ngClass]="{'w-full': true, 'bg-amber-100': item.isTeacher}">
                            {{item.message}}
                        </div>
                    </div>
            </div>

            <div *ngIf="messages.length === 0">
            </div>

        </div>

        <div class="mt-10">
            <div class="flex  justify-center items-center">
                <div class="relative z-0 w-full">
                    <input [disabled]="course.name=== undefined" #text type="text" id="floating_standard" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-amber-300 appearance-none  focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" " />
                    <label for="floating_standard" class="absolute text-sm text-gray-500  duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Message...</label>
                </div>
                <button (click)="sendMessage(text.value)"  class="p-2.5 ml-2 text-sm font-medium text-white bg-amber-400 rounded-lg  focus:ring-4 focus:outline-none focus:ring-amber-300 ">
                    <svg fill="#ffffff" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                            width="24px" height="24px" viewBox="0 0 31.806 31.806"
                            xml:space="preserve">
                        <g>
                            <g>
                                <path d="M1.286,12.465c-0.685,0.263-1.171,0.879-1.268,1.606c-0.096,0.728,0.213,1.449,0.806,1.88l6.492,4.724L30.374,2.534
                                    L9.985,22.621l8.875,6.458c0.564,0.41,1.293,0.533,1.964,0.33c0.67-0.204,1.204-0.713,1.444-1.368l9.494-25.986
                                    c0.096-0.264,0.028-0.559-0.172-0.756c-0.199-0.197-0.494-0.259-0.758-0.158L1.286,12.465z"/>
                                <path d="M5.774,22.246l0.055,0.301l1.26,6.889c0.094,0.512,0.436,0.941,0.912,1.148c0.476,0.206,1.025,0.162,1.461-0.119
                                    c1.755-1.132,4.047-2.634,3.985-2.722L5.774,22.246z"/>
                            </g>
                        </g>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <div *ngIf="screenSize > 780" class=" text-sm  flex  flex-col items-center overflow-y-auto">
        <button (click)="getMessages(item)" *ngFor="let item of courses" class="p-4 bg-amber-200 text-black font-bold w-full rounded-xl text-center my-1">
            {{item.name}}
        </button>
    </div>

    <div *ngIf="chatroomVisible && screenSize < 780" class=" text-sm   left-5 fixed flex  flex-col items-center overflow-y-auto">
        <button (click)="getMessages(item)" *ngFor="let item of courses" class="p-4 bg-amber-200 text-black font-bold w-full rounded-xl text-center my-1">
            {{item.name}}
        </button>
    </div>
</div>