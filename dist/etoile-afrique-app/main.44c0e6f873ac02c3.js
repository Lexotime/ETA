"use strict";(self.webpackChunketoile_afrique_app=self.webpackChunketoile_afrique_app||[]).push([[179],{8639:(kt,Ze,P)=>{P.r(Ze),P.d(Ze,{AdminRoutingModule:()=>An});var f=P(433),h=P(4650),C=P(9051),pe=P(5024),V=P(6895);function _e(Fe,ie){if(1&Fe&&(h.TgZ(0,"option",16),h._uU(1),h.qZA()),2&Fe){const K=ie.$implicit;h.Q6J("value",K.value),h.xp6(1),h.Oqu(K.name)}}function Ie(Fe,ie){if(1&Fe&&(h.TgZ(0,"option",16),h._uU(1),h.qZA()),2&Fe){const K=ie.$implicit;h.Q6J("value",K.value),h.xp6(1),h.Oqu(K.name)}}function ye(Fe,ie){if(1&Fe&&(h.TgZ(0,"option",16),h._uU(1),h.qZA()),2&Fe){const K=ie.$implicit;h.Q6J("value",K),h.xp6(1),h.Oqu(K)}}function le(Fe,ie){if(1&Fe&&(h.TgZ(0,"option",16),h._uU(1),h.qZA()),2&Fe){const K=ie.$implicit;h.Q6J("value",K),h.xp6(1),h.Oqu(K)}}class re{constructor(ie,K,ut){this.formBuilder=ie,this.router=K,this.adminService=ut,this.newCourse=!1,this.columns=[{name:"firstname",value:"nom"},{name:"lastname",value:"prenom"},{name:"email",value:"email"},{name:"status",value:"etat"}],this.level=[{name:"CI",value:"CI"},{name:"CP",value:"CP"},{name:"CE1",value:"CE1"},{name:"CE1",value:"CE1"},{name:"CM1",value:"CM1"},{name:"CM2",value:"CM2"},{name:"6e",value:"6\xe9me"},{name:"5e",value:"5\xe9me"},{name:"4e",value:"4\xe9me"},{name:"3e",value:"3\xe9me"},{name:"Second",value:"Second"},{name:"Premi\xe8re",value:"Premi\xe8re"},{name:"Terminale",value:"Terminale"}],this.option=[{name:"n\xe9an",value:"n\xe9an"},{name:"L",value:"L"},{name:"S",value:"S"}],this.days=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],this.hours=["8h-10h","10h-12h","15h-17h","17h-19h","20h-22h"]}ngOnInit(){this.initNewForm()}initNewForm(){this.newForm=this.formBuilder.group({day:["Lundi",f.kI.required],hours:["8h-10h",f.kI.required],level:["CI",f.kI.required],option:["none",f.kI.required],name:[,f.kI.required],description:["",f.kI.required]})}onSubmit(){let ie={...this.newForm.value};this.adminService.createCourse(ie).then(K=>{console.log(K),this.router.navigate(["/admin/cours"])},K=>{console.log(K)}),this.initNewForm()}}re.\u0275fac=function(ie){return new(ie||re)(h.Y36(f.qu),h.Y36(C.F0),h.Y36(pe.l))},re.\u0275cmp=h.Xpm({type:re,selectors:[["app-new-course"]],decls:37,vars:6,consts:[[1,"w-full","h-screen","flex","justify-center","items-center","bg-white"],[3,"formGroup","ngSubmit"],[1,"block","my-2","space-y-3","cursor-pointer","w-[520px]","p-8","drop-shadow-md","bg-white","shadow-amber-800","mx-4","rounded-xl","relative","overflow-hidden"],[1,"text-center","text-xl","text-amber-500"],[1,"relative"],["formControlName","name","required","","type","text","id","floating_standard","placeholder"," ",1,"block","py-2.5","px-0","w-full","text","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["for","floating_standard",1,"absolute","text-sm","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:left-0","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],["name","level","formControlName","level","id","level",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],[3,"value",4,"ngFor","ngForOf"],["name","option","formControlName","option","id","option",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["name","day","placeholder"," ","formControlName","day","id","language",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["name","hours","placeholder"," ","formControlName","hours","id","language",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],[1,"relative","z-0"],["name","description","formControlName","description","id","floating_standard","placeholder"," ",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],[1,"text-center"],[1,"p-1","px-6","bg-green-400","text-white","font-bold","rounded",3,"disabled"],[3,"value"]],template:function(ie,K){1&ie&&(h.TgZ(0,"div",0)(1,"form",1),h.NdJ("ngSubmit",function(){return K.onSubmit()}),h.TgZ(2,"div",2)(3,"p",3),h._uU(4," Ajouter nouveau cours "),h.qZA(),h.TgZ(5,"div",4),h._UZ(6,"input",5),h.TgZ(7,"label",6),h._uU(8,"Libell\xe9"),h.qZA()(),h.TgZ(9,"div",4)(10,"select",7),h.YNc(11,_e,2,2,"option",8),h.qZA(),h.TgZ(12,"label",6),h._uU(13,"Niveau"),h.qZA()(),h.TgZ(14,"div",4)(15,"select",9),h.YNc(16,Ie,2,2,"option",8),h.qZA(),h.TgZ(17,"label",6),h._uU(18,"Option"),h.qZA()(),h.TgZ(19,"div",4)(20,"select",10),h.YNc(21,ye,2,2,"option",8),h.qZA(),h.TgZ(22,"label",6),h._uU(23,"Jour"),h.qZA()(),h.TgZ(24,"div",4)(25,"select",11),h.YNc(26,le,2,2,"option",8),h.qZA(),h.TgZ(27,"label",6),h._uU(28,"Heurs"),h.qZA()(),h.TgZ(29,"div",12)(30,"textarea",13),h._uU(31,"                "),h.qZA(),h.TgZ(32,"label",6),h._uU(33,"Description"),h.qZA()(),h.TgZ(34,"div",14)(35,"button",15),h._uU(36,"Valider"),h.qZA()()()()()),2&ie&&(h.xp6(1),h.Q6J("formGroup",K.newForm),h.xp6(10),h.Q6J("ngForOf",K.level),h.xp6(5),h.Q6J("ngForOf",K.option),h.xp6(5),h.Q6J("ngForOf",K.days),h.xp6(5),h.Q6J("ngForOf",K.hours),h.xp6(9),h.Q6J("disabled",K.newForm.invalid))},dependencies:[V.sg,f._Y,f.YN,f.Kr,f.Fj,f.EJ,f.JJ,f.JL,f.Q7,f.sg,f.u]});class te{constructor(ie,K){this.router=ie,this.adminService=K,this.video={}}ngOnInit(){this.adminService.getVideoLink(this.router.snapshot.params.id).subscribe(K=>{K.forEach(ut=>{this.video=ut.payload.doc.data()}),console.log(this.video)})}}te.\u0275fac=function(ie){return new(ie||te)(h.Y36(C.gz),h.Y36(pe.l))},te.\u0275cmp=h.Xpm({type:te,selectors:[["app-look-video"]],decls:9,vars:3,consts:[[1,"min-h-screen","flex","items-center","justify-center"],[1,"w-3/4","h-2/3","bg-white","shadow","rounded","p-10"],["alt","","controls","",1,"h-full","w-auto","mx-auto",3,"src"]],template:function(ie,K){1&ie&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div"),h._UZ(3,"video",2),h.qZA(),h.TgZ(4,"div")(5,"p"),h._uU(6),h.qZA(),h.TgZ(7,"p"),h._uU(8),h.qZA()()()()),2&ie&&(h.xp6(3),h.Q6J("src",K.video.link,h.LSH),h.xp6(3),h.hij("Titre : ",K.video.name," "),h.xp6(2),h.hij("Description : ",K.video.description," "))}});var me=P(110);function nt(Fe,ie){if(1&Fe){const K=h.EpF();h.TgZ(0,"th",28),h.NdJ("click",function(){const Ft=h.CHM(K).$implicit,Fn=h.oxw();return h.KtG(Fn.sort(Ft.name))}),h._uU(1),h.qZA()}if(2&Fe){const K=ie.$implicit;h.xp6(1),h.hij(" ",K.value," ")}}function ze(Fe,ie){if(1&Fe&&(h.TgZ(0,"td",30),h._uU(1),h.qZA()),2&Fe){const K=ie.$implicit,ut=h.oxw().$implicit;h.xp6(1),h.hij(" ",ut[K.name]," ")}}function Ke(Fe,ie){if(1&Fe&&(h.TgZ(0,"tr"),h.YNc(1,ze,2,1,"td",29),h.TgZ(2,"td",30)(3,"div",31)(4,"a",32),h._uU(5,"Voir"),h.qZA()()()()),2&Fe){const K=ie.$implicit,ut=h.oxw();h.xp6(1),h.Q6J("ngForOf",ut.columns),h.xp6(3),h.Q6J("routerLink","/admin/videos/visionner/"+K.id)}}function lt(Fe,ie){if(1&Fe){const K=h.EpF();h.TgZ(0,"button",33),h.NdJ("click",function(){const Ft=h.CHM(K).$implicit,Fn=h.oxw();return h.KtG(Fn.goToPage(Ft))}),h._uU(1),h.qZA()}if(2&Fe){const K=ie.$implicit,ut=h.oxw();h.Q6J("disabled",K===ut.page),h.xp6(1),h.hij(" ",K+1," ")}}class Ne{constructor(ie,K){this.adminService=ie,this.route=K,this.data=[],this.columns=[{name:"name",value:"nom"},{name:"description",value:"description"}],this.canSelect=!0,this.itemEmitter=new h.vpe,this.sens=!1,this.saveColumn="",this.currentEmit="1",this.course={name:"",level:""},this.page=0,this.numberOfElement=20}ngOnInit(){this.adminService.getAllVideos().subscribe(ie=>{ie.docs.forEach(ut=>{this.data.push(ut.data())}),console.log(this.data);let K=this.route.snapshot.params.id;this.saveData=K?this.data.filter(ut=>ut.course===K):this.data,this.listFragments=this.getListFragment(this.page,this.numberOfElement)})}emitItem(ie){this.currentEmit=ie,this.itemEmitter.emit(ie)}getListFragment(ie,K){let ut=[];for(let At=ie*K,Ft=0;At<K*(ie+1)&&this.saveData.length>At;At++,Ft++)ut.push(this.saveData[At]);return ut}getPages(){let ie=[];for(let K=0;K<this.data.length/this.numberOfElement;K++)ie.push(K);return ie}setNumberOfElement(ie){this.page=0,this.numberOfElement=+ie,this.listFragments=this.getListFragment(this.page,this.numberOfElement)}goToPage(ie){this.page=ie,this.listFragments=this.getListFragment(ie,this.numberOfElement)}nextPage(){this.page<this.getPages()[this.getPages().length-1]&&(this.listFragments=this.getListFragment(++this.page,this.numberOfElement))}previousPage(){this.page>this.getPages()[0]&&(this.listFragments=this.getListFragment(--this.page,this.numberOfElement))}filter(ie){this.page=0,this.saveData=ie?this.data.filter(K=>{for(const ut of this.columns)if(-1!=ie.toUpperCase().search(K[`${ut.name}`].toString().toUpperCase()))return!0;return!1}):this.data,this.saveData||(this.saveData=this.data),console.log(this.saveData),this.listFragments=this.getListFragment(this.page,this.numberOfElement)}sort(ie){this.saveColumn===ie?this.sens=!this.sens:(this.sens=!0,this.saveColumn=ie),this.page=0,this.saveData=this.data.sort((K,ut)=>K[`${ie}`]>ut[`${ie}`]?this.sens?1:-1:this.sens?-1:1),this.listFragments=this.getListFragment(this.page,this.numberOfElement)}}Ne.\u0275fac=function(ie){return new(ie||Ne)(h.Y36(pe.l),h.Y36(C.gz))},Ne.\u0275cmp=h.Xpm({type:Ne,selectors:[["app-video-list"]],inputs:{extra:"extra",canSelect:"canSelect"},outputs:{itemEmitter:"itemEmitter"},decls:41,vars:5,consts:[[1,"flex","items-center","justify-center","flex-1"],[1,"flex","flex-col","justify-center","items-center","w-full","mx-10"],[1,"my-10"],[1,"flex","space-x-4","items-center"],[1,"relative","z-0"],["type","text","id","floating_standard","placeholder"," ",1,"w-80","block","py-2.5","px-0","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["search",""],["for","floating_standard",1,"w-80","absolute","text-sm","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:left-0","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],[1,"p-2.5","ml-2","text-sm","font-medium","text-white","bg-amber-400","rounded-lg","border","border-amber-500","hover:bg-amber-700","focus:ring-4","focus:outline-none","focus:ring-amber-300",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"sr-only"],[1,"w-full"],[1,"bg-amber-400","text-white","rounded-xl"],["class","p-2 text-sm capitalize text-start cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"p-2","text-sm","capitalize","text-start"],[1,"border-b","border-amber-500"],[4,"ngFor","ngForOf"],[1,"flex","w-full","items-center","mt-10","text-sm","justify-between"],[1,"flex","items-center"],[1,"mr-2","border-r-2","border-black"],["name","numberOfElement","id","numberOfElement",3,"change"],["select",""],["value","10"],["value","20"],["value","30"],["class"," mx-2",3,"disabled","click",4,"ngFor","ngForOf"],[1,"mx-1",3,"disabled","click"],[1,"p-2","text-sm","capitalize","text-start","cursor-pointer",3,"click"],["class","p-2 text-md  w-44",4,"ngFor","ngForOf"],[1,"p-2","text-md","w-44"],[1,"flex","justify-between"],[1,"py-1","px-8","rounded","bg-blue-400","text-white","font-bold",3,"routerLink"],[1,"mx-2",3,"disabled","click"]],template:function(ie,K){if(1&ie){const ut=h.EpF();h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),h._UZ(5,"input",5,6),h.TgZ(7,"label",7),h._uU(8,"Rechercher..."),h.qZA()(),h.TgZ(9,"button",8),h.NdJ("click",function(){h.CHM(ut);const Ft=h.MAs(6);return h.KtG(K.filter(Ft.value))}),h.O4$(),h.TgZ(10,"svg",9),h._UZ(11,"path",10),h.qZA(),h.kcU(),h.TgZ(12,"span",11),h._uU(13,"Search"),h.qZA()()()(),h.TgZ(14,"table",12)(15,"thead",13),h.YNc(16,nt,2,1,"th",14),h.TgZ(17,"th",15),h._uU(18,"Actions"),h.qZA()(),h.TgZ(19,"tbody",16),h.YNc(20,Ke,6,2,"tr",17),h.qZA()(),h.TgZ(21,"div",18)(22,"div",19)(23,"div",20),h._uU(24," tableau de : "),h.TgZ(25,"select",21,22),h.NdJ("change",function(){h.CHM(ut);const Ft=h.MAs(26);return h.KtG(K.setNumberOfElement(Ft.value))}),h.TgZ(27,"option",23),h._uU(28,"10"),h.qZA(),h.TgZ(29,"option",24),h._uU(30,"10"),h.qZA(),h.TgZ(31,"option",25),h._uU(32,"30"),h.qZA()()(),h.TgZ(33,"div"),h._uU(34," page : "),h.YNc(35,lt,2,2,"button",26),h.qZA()(),h.TgZ(36,"div")(37,"button",27),h.NdJ("click",function(){return K.previousPage()}),h._uU(38,"Pr\xe9cedent"),h.qZA(),h.TgZ(39,"button",27),h.NdJ("click",function(){return K.nextPage()}),h._uU(40,"Suivant"),h.qZA()()()()()}2&ie&&(h.xp6(16),h.Q6J("ngForOf",K.columns),h.xp6(4),h.Q6J("ngForOf",K.listFragments),h.xp6(15),h.Q6J("ngForOf",K.getPages()),h.xp6(2),h.Q6J("disabled",K.page===K.getPages()[0]),h.xp6(2),h.Q6J("disabled",K.page===K.getPages()[K.getPages().length-1]))},dependencies:[V.sg,f.YN,f.Kr,C.rH]});class xe{}function Ve(Fe,ie){if(1&Fe&&(h.TgZ(0,"option",15),h._uU(1),h.qZA()),2&Fe){const K=ie.$implicit;h.Q6J("value",K.value),h.xp6(1),h.Oqu(K.name)}}function Xe(Fe,ie){if(1&Fe&&(h.TgZ(0,"option",15),h._uU(1),h.qZA()),2&Fe){const K=ie.$implicit;h.Q6J("value",K.value),h.xp6(1),h.Oqu(K.name)}}function oe(Fe,ie){if(1&Fe&&(h.TgZ(0,"option",15),h._uU(1),h.qZA()),2&Fe){const K=ie.$implicit;h.Q6J("value",K.uid),h.xp6(1),h.Oqu(K.name)}}xe.\u0275fac=function(ie){return new(ie||xe)},xe.\u0275cmp=h.Xpm({type:xe,selectors:[["app-video"]],decls:5,vars:0,consts:[[1,"bg-white","pt-32","flex","flex-col","min-h-screen"],[1,"text-4xl","text-center","mb-16"],[1,"mt-10","rounded-t-[60px]","bg-white","drop-shadow-xl","shadow","shadow-gray-300","rounde-t-xl","mx-4","flex-1"]],template:function(ie,K){1&ie&&(h.TgZ(0,"div",0)(1,"p",1),h._uU(2," Liste des videos "),h.qZA(),h.TgZ(3,"div",2),h._UZ(4,"app-video-list"),h.qZA()())},dependencies:[Ne]});class He{constructor(ie,K,ut,At){this.formBuilder=ie,this.route=K,this.router=ut,this.adminService=At,this.courseForm=new f.cw({level:new f.NI,name:new f.NI,option:new f.NI}),this.newCourse=!1,this.teacher={},this.columns=[{name:"firstname",value:"nom"},{name:"lastname",value:"prenom"},{name:"email",value:"email"},{name:"status",value:"etat"}],this.level=[{name:"CI",value:"CI"},{name:"CP",value:"CP"},{name:"CE1",value:"CE1"},{name:"CE1",value:"CE1"},{name:"CM1",value:"CM1"},{name:"CM2",value:"CM2"},{name:"6e",value:"6\xe9me"},{name:"5e",value:"5\xe9me"},{name:"4e",value:"4\xe9me"},{name:"3e",value:"3\xe9me"},{name:"Second",value:"Second"},{name:"Premi\xe8re",value:"Premi\xe8re"},{name:"Terminale",value:"Terminale"}],this.option=[{name:"S",value:"S"},{name:"L",value:"L"},{name:"n\xe9an",value:"none"}],this.coursesList=[],this.courses=[]}ngOnInit(){this.initForm(),this.adminService.getAllCourses().subscribe(ie=>{this.coursesList=[],ie.forEach(K=>{let ut={...K.payload.doc.data(),uid:K.payload.doc.id};this.coursesList.push(ut)})}),this.route.params.subscribe(ie=>{this.adminService.getItem(ie.id,"Teachers").subscribe(ut=>{this.teacher=ut.docs[0].data()})})}initForm(){this.courseForm=this.formBuilder.group({name:[,f.kI.required],level:["CI",f.kI.required],option:["none",f.kI.required]})}filter(){return this.coursesList.filter(ie=>ie.option==this.courseForm.get("option")?.value&&ie.level==this.courseForm.get("level")?.value&&!ie.teacher)}onSubmit(){this.teacher&&this.courseForm.get("name")?.value&&this.adminService.updateCourseTeacher(this.teacher.id,this.courseForm.get("name")?.value,this.teacher.firstname+" "+this.teacher.lastname).then(ie=>{console.log(ie),this.router.navigate(["/admin/enseignants"])}).catch(ie=>{console.log(ie)})}}He.\u0275fac=function(ie){return new(ie||He)(h.Y36(f.qu),h.Y36(C.gz),h.Y36(C.F0),h.Y36(pe.l))},He.\u0275cmp=h.Xpm({type:He,selectors:[["app-add-course"]],decls:28,vars:7,consts:[[1,"w-full","h-screen","flex","justify-center","items-center","bg-white"],[3,"formGroup","ngSubmit"],[1,""],[1,"block","my-2","space-y-6","cursor-pointer","w-[520px]","p-8","drop-shadow-md","bg-white","shadow-amber-800","mx-4","rounded-xl","relative","overflow-hidden"],[1,"text-center","text-2xl","text-amber-500"],[1,"text-red-400"],[1,"relative"],["name","level","formControlName","level","id","level",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],[3,"value",4,"ngFor","ngForOf"],["for","floating_standard",1,"absolute","text-sm","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:left-0","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],["name","option","formControlName","option","id","option",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],[1,"relative","z-0"],["type","text","id","floating_standard","placeholder"," ","formControlName","name","id","courses",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],[1,"text-center"],[1,"p-1","px-6","bg-green-400","text-white","font-bold","rounded",3,"disabled"],[3,"value"]],template:function(ie,K){1&ie&&(h.TgZ(0,"div",0)(1,"form",1),h.NdJ("ngSubmit",function(){return K.onSubmit()}),h.TgZ(2,"div",2)(3,"div",3)(4,"div",4),h._uU(5," Ajouter matiere pour "),h.TgZ(6,"p"),h._uU(7),h.qZA()(),h.TgZ(8,"p",5),h._uU(9),h.qZA(),h.TgZ(10,"div",6)(11,"select",7),h.YNc(12,Ve,2,2,"option",8),h.qZA(),h.TgZ(13,"label",9),h._uU(14,"Niveau"),h.qZA()(),h.TgZ(15,"div",6)(16,"select",10),h.YNc(17,Xe,2,2,"option",8),h.qZA(),h.TgZ(18,"label",9),h._uU(19,"Option"),h.qZA()(),h.TgZ(20,"div",11)(21,"select",12),h.YNc(22,oe,2,2,"option",8),h.qZA(),h.TgZ(23,"label",9),h._uU(24,"Cours"),h.qZA()(),h.TgZ(25,"div",13)(26,"button",14),h._uU(27,"Valider"),h.qZA()()()()()()),2&ie&&(h.xp6(1),h.Q6J("formGroup",K.courseForm),h.xp6(6),h.Oqu(K.teacher.firstname+" "+K.teacher.lastname),h.xp6(2),h.Oqu(K.errorMessage),h.xp6(3),h.Q6J("ngForOf",K.level),h.xp6(5),h.Q6J("ngForOf",K.option),h.xp6(5),h.Q6J("ngForOf",K.filter()),h.xp6(4),h.Q6J("disabled",K.courseForm.invalid))},dependencies:[V.sg,f._Y,f.YN,f.Kr,f.EJ,f.JJ,f.JL,f.sg,f.u]});const Be=function(Fe){return{"p-2 px-6 text-xl font-semibold border-2 rounded-2xl text-amber-500 ":!0,"border-b-amber-300 border-r-amber-300 cursor-pointer":Fe}};class at{constructor(ie,K,ut){this.formBuilder=ie,this.router=K,this.adminService=ut,this.teacher=new h.vpe,this.level=[{name:"CI",value:"CI"},{name:"CP",value:"CP"},{name:"CE1",value:"CE1"},{name:"CE1",value:"CE1"},{name:"CM1",value:"CM1"},{name:"CM2",value:"CM2"},{name:"6e",value:"6e"},{name:"5e",value:"5e"},{name:"4e",value:"4e"},{name:"3e",value:"3e"},{name:"Second",value:"Second"},{name:"Premi\xe8re",value:"Premi\xe8re"},{name:"Terminale",value:"Terminale"}],this.courses=["Math","Francais","Anglais"],this.language=["francais","anglais","espagnol"],this.isAuth=!1}ngOnInit(){this.initForm()}initForm(){this.form=this.formBuilder.group({firstname:["",f.kI.required],lastname:["",f.kI.required],email:["",[f.kI.email,f.kI.required]]})}onSubmit(){let ie={...this.form.value};this.adminService.createTeacher(ie,ie.email).then(ut=>{this.router.navigate(["/admin/enseignants"])},ut=>{this.errorMessage=ut.message.search("(auth/email-already-in-use)")?"Vous ne pouvez pas ajouter cet enseignant.":"Une erreur c'est produit veuillez ressayer"})}}function Qe(Fe,ie){if(1&Fe){const K=h.EpF();h.TgZ(0,"th",30),h.NdJ("click",function(){const Ft=h.CHM(K).$implicit,Fn=h.oxw();return h.KtG(Fn.sort(Ft.name))}),h._uU(1),h.qZA()}if(2&Fe){const K=ie.$implicit;h.xp6(1),h.hij(" ",K.value," ")}}function he(Fe,ie){if(1&Fe&&(h.TgZ(0,"td",37),h._uU(1),h.qZA()),2&Fe){const K=ie.$implicit,ut=h.oxw().$implicit;h.xp6(1),h.hij(" ",ut[K.name]," ")}}function Oe(Fe,ie){1&Fe&&(h.TgZ(0,"button",35),h._uU(1,"g\xe9n\xe9rer lien"),h.qZA())}function Y(Fe,ie){if(1&Fe&&(h.TgZ(0,"tr"),h.YNc(1,he,2,1,"td",31),h.TgZ(2,"td",32)(3,"div",33),h.YNc(4,Oe,2,0,"button",34),h.TgZ(5,"button",35)(6,"a",36),h._uU(7,"+ vid\xe9o"),h.qZA()(),h.TgZ(8,"button",35)(9,"a",36),h._uU(10,"voir vid\xe9o"),h.qZA()()()()()),2&Fe){const K=ie.$implicit,ut=h.oxw();h.xp6(1),h.Q6J("ngForOf",ut.columns),h.xp6(3),h.Q6J("ngIf",!K.link),h.xp6(2),h.Q6J("href","/admin/videos/ajouter/"+K.id,h.LSH),h.xp6(3),h.Q6J("href","/admin/videos/"+K.id,h.LSH)}}function se(Fe,ie){if(1&Fe){const K=h.EpF();h.TgZ(0,"button",38),h.NdJ("click",function(){const Ft=h.CHM(K).$implicit,Fn=h.oxw();return h.KtG(Fn.goToPage(Ft))}),h._uU(1),h.qZA()}if(2&Fe){const K=ie.$implicit,ut=h.oxw();h.Q6J("disabled",K===ut.page),h.xp6(1),h.hij(" ",K+1," ")}}at.\u0275fac=function(ie){return new(ie||at)(h.Y36(f.qu),h.Y36(C.F0),h.Y36(pe.l))},at.\u0275cmp=h.Xpm({type:at,selectors:[["app-add-teacher"]],outputs:{teacher:"teacher"},decls:20,vars:6,consts:[[1,"flex","items-center","justify-center","h-screen","bg-white"],[1,"p-4","px-16","space-y-8","bg-white","drop-shadow",3,"formGroup","ngSubmit"],[1,"text-3xl","text-center","mt-2","text-amber-500","font-bold"],[1,"text-red-400"],[1,"relative","z-0","mx-2","w-80"],["formControlName","firstname","type","text","id","floating_standard","placeholder"," ",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["for","floating_standard",1,"absolute","text-sm","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:left-0","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],["formControlName","lastname","type","text","id","floating_standard","placeholder"," ",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["formControlName","email","type","email","id","floating_standard","placeholder"," ",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],[1,"text-center"],["type","submit","value","Ajouter",3,"disabled","ngClass"]],template:function(ie,K){1&ie&&(h.TgZ(0,"div",0)(1,"form",1),h.NdJ("ngSubmit",function(){return K.onSubmit()}),h.TgZ(2,"p",2),h._uU(3,"Ajouter Enseignant"),h.qZA(),h.TgZ(4,"p",3),h._uU(5),h.qZA(),h.TgZ(6,"div",4),h._UZ(7,"input",5),h.TgZ(8,"label",6),h._uU(9,"Prenom"),h.qZA()(),h.TgZ(10,"div",4),h._UZ(11,"input",7),h.TgZ(12,"label",6),h._uU(13,"Nom"),h.qZA()(),h.TgZ(14,"div",4),h._UZ(15,"input",8),h.TgZ(16,"label",6),h._uU(17,"Email"),h.qZA()(),h.TgZ(18,"div",9),h._UZ(19,"input",10),h.qZA()()()),2&ie&&(h.xp6(1),h.Q6J("formGroup",K.form),h.xp6(4),h.Oqu(K.errorMessage),h.xp6(14),h.Q6J("disabled",K.form.invalid)("ngClass",h.VKq(4,Be,!K.form.invalid)))},dependencies:[V.mk,f._Y,f.Fj,f.JJ,f.JL,f.sg,f.u]});class ae{constructor(ie,K){this.adminService=ie,this.route=K,this.data=[],this.columns=[{name:"name",value:"Libell\xe9"},{name:"day",value:"Jour"},{name:"hours",value:"Heure"},{name:"level",value:"Niveau"},{name:"link",value:"lien"}],this.sens=!1,this.saveColumn="",this.currentEmit="1",this.page=0,this.numberOfElement=20}ngOnInit(){this.adminService.getAllCourses().subscribe(ie=>{this.data=[],ie.forEach(ut=>{this.data.push(ut.payload.doc.data())});let K=this.route.snapshot.params.id;K?this.adminService.getItem(K,"Teachers").subscribe(ut=>{this.teacher=ut.docs[0].data().email,this.saveData=this.data.filter(At=>At.teacher===this.teacher),this.listFragments=this.getListFragment(this.page,this.numberOfElement)}):(this.saveData=this.data,this.listFragments=this.getListFragment(this.page,this.numberOfElement))})}getListFragment(ie,K){let ut=[];for(let At=ie*K,Ft=0;At<K*(ie+1)&&this.saveData.length>At;At++,Ft++)ut.push(this.saveData[At]);return ut}getPages(){let ie=[];for(let K=0;K<this.data.length/this.numberOfElement;K++)ie.push(K);return ie}setNumberOfElement(ie){this.page=0,this.numberOfElement=+ie,this.listFragments=this.getListFragment(this.page,this.numberOfElement)}goToPage(ie){this.page=ie,this.listFragments=this.getListFragment(ie,this.numberOfElement)}nextPage(){this.page<this.getPages()[this.getPages().length-1]&&(this.listFragments=this.getListFragment(++this.page,this.numberOfElement))}previousPage(){this.page>this.getPages()[0]&&(this.listFragments=this.getListFragment(--this.page,this.numberOfElement))}filter(ie){this.page=0,this.saveData=ie?this.data.filter(K=>{for(const ut of this.columns)if(-1!=ie.toUpperCase().search(K[`${ut.name}`].toString().toUpperCase()))return!0;return!1}):this.data,this.saveData||(this.saveData=this.data),console.log(this.saveData),this.listFragments=this.getListFragment(this.page,this.numberOfElement)}sort(ie){this.saveColumn===ie?this.sens=!this.sens:(this.sens=!0,this.saveColumn=ie),this.page=0,this.saveData=this.data.sort((K,ut)=>K[`${ie}`]>ut[`${ie}`]?this.sens?1:-1:this.sens?-1:1),this.listFragments=this.getListFragment(this.page,this.numberOfElement)}}ae.\u0275fac=function(ie){return new(ie||ae)(h.Y36(pe.l),h.Y36(C.gz))},ae.\u0275cmp=h.Xpm({type:ae,selectors:[["app-course-list-admin"]],decls:44,vars:5,consts:[[1,"flex","items-center","justify-center","flex-1"],[1,"flex","flex-col","justify-center","items-center","w-full","mx-10"],[1,"my-10"],[1,"flex","space-x-4","items-center"],[1,"relative","z-0"],["type","text","id","floating_standard","placeholder"," ",1,"w-80","block","py-2.5","px-0","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["search",""],["for","floating_standard",1,"w-80","absolute","text-sm","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:left-0","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],[1,"p-2.5","ml-2","text-sm","font-medium","text-white","bg-amber-400","rounded-lg","border","border-amber-500","hover:bg-amber-700","focus:ring-4","focus:outline-none","focus:ring-amber-300",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"sr-only"],[1,"absolute","top-10","right-10"],["routerLink","/admin/cours/ajouter"],[1,"w-full"],[1,"bg-amber-400","text-white","rounded-xl"],["class","p-2 text-sm capitalize text-start cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"p-2","text-sm","capitalize","text-start"],[1,"border-b","border-amber-500"],[4,"ngFor","ngForOf"],[1,"flex","w-full","items-center","mt-10","text-sm","justify-between"],[1,"flex","items-center"],[1,"mr-2","border-r-2","border-black"],["name","numberOfElement","id","numberOfElement",3,"change"],["select",""],["value","10"],["value","20"],["value","30"],["class"," mx-2",3,"disabled","click",4,"ngFor","ngForOf"],[1,"mx-1",3,"disabled","click"],[1,"p-2","text-sm","capitalize","text-start","cursor-pointer",3,"click"],["class","p-2 text-sm  max-w-44",4,"ngFor","ngForOf"],[1,"p-2","text-sm","max-44"],[1,"flex","justify-between"],["class"," px-4 py-1 rounded bg-blue-500 text-white font-bold",4,"ngIf"],[1,"px-4","py-1","rounded","bg-blue-500","text-white","font-bold"],[3,"href"],[1,"p-2","text-sm","max-w-44"],[1,"mx-2",3,"disabled","click"]],template:function(ie,K){if(1&ie){const ut=h.EpF();h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),h._UZ(5,"input",5,6),h.TgZ(7,"label",7),h._uU(8,"Rechercher..."),h.qZA()(),h.TgZ(9,"button",8),h.NdJ("click",function(){h.CHM(ut);const Ft=h.MAs(6);return h.KtG(K.filter(Ft.value))}),h.O4$(),h.TgZ(10,"svg",9),h._UZ(11,"path",10),h.qZA(),h.kcU(),h.TgZ(12,"span",11),h._uU(13,"Search"),h.qZA()()(),h.TgZ(14,"div",12)(15,"a",13),h._uU(16,"Ajouter cours"),h.qZA()()(),h.TgZ(17,"table",14)(18,"thead",15),h.YNc(19,Qe,2,1,"th",16),h.TgZ(20,"th",17),h._uU(21,"Actions"),h.qZA()(),h.TgZ(22,"tbody",18),h.YNc(23,Y,11,4,"tr",19),h.qZA()(),h.TgZ(24,"div",20)(25,"div",21)(26,"div",22),h._uU(27," tableau de : "),h.TgZ(28,"select",23,24),h.NdJ("change",function(){h.CHM(ut);const Ft=h.MAs(29);return h.KtG(K.setNumberOfElement(Ft.value))}),h.TgZ(30,"option",25),h._uU(31,"10"),h.qZA(),h.TgZ(32,"option",26),h._uU(33,"10"),h.qZA(),h.TgZ(34,"option",27),h._uU(35,"30"),h.qZA()()(),h.TgZ(36,"div"),h._uU(37," page : "),h.YNc(38,se,2,2,"button",28),h.qZA()(),h.TgZ(39,"div")(40,"button",29),h.NdJ("click",function(){return K.previousPage()}),h._uU(41,"Pr\xe9cedent"),h.qZA(),h.TgZ(42,"button",29),h.NdJ("click",function(){return K.nextPage()}),h._uU(43,"Suivant"),h.qZA()()()()()}2&ie&&(h.xp6(19),h.Q6J("ngForOf",K.columns),h.xp6(4),h.Q6J("ngForOf",K.listFragments),h.xp6(15),h.Q6J("ngForOf",K.getPages()),h.xp6(2),h.Q6J("disabled",K.page===K.getPages()[0]),h.xp6(2),h.Q6J("disabled",K.page===K.getPages()[K.getPages().length-1]))},dependencies:[V.sg,V.O5,f.YN,f.Kr,C.rH]});class De{}De.\u0275fac=function(ie){return new(ie||De)},De.\u0275cmp=h.Xpm({type:De,selectors:[["app-courses"]],decls:5,vars:0,consts:[[1,"bg-white","pt-32","flex","flex-col","min-h-screen"],[1,"text-4xl","text-center","mb-16"],[1,"mt-10","rounded-t-[60px]","bg-white","drop-shadow-xl","shadow","shadow-gray-300","rounde-t-xl","mx-4","flex-1","overflow-auto"]],template:function(ie,K){1&ie&&(h.TgZ(0,"div",0)(1,"p",1),h._uU(2," Liste des cours "),h.qZA(),h.TgZ(3,"div",2),h._UZ(4,"app-course-list-admin"),h.qZA()())},dependencies:[ae]});var ft=P(4119);function mt(Fe,ie){if(1&Fe){const K=h.EpF();h.TgZ(0,"th",28),h.NdJ("click",function(){const Ft=h.CHM(K).$implicit,Fn=h.oxw();return h.KtG(Fn.sort(Ft.name))}),h._uU(1),h.qZA()}if(2&Fe){const K=ie.$implicit;h.xp6(1),h.hij(" ",K.value," ")}}function Ct(Fe,ie){if(1&Fe&&(h.TgZ(0,"span"),h._uU(1),h.qZA()),2&Fe){const K=h.oxw(2).$implicit;h.xp6(1),h.Oqu(K.option)}}function Ot(Fe,ie){if(1&Fe&&(h.TgZ(0,"td",30),h._uU(1),h.YNc(2,Ct,2,1,"span",34),h.qZA()),2&Fe){const K=ie.$implicit,ut=h.oxw().$implicit;h.xp6(1),h.hij(" ",ut[K.name]," "),h.xp6(1),h.Q6J("ngIf","level"===K.name)}}function Yt(Fe,ie){if(1&Fe){const K=h.EpF();h.TgZ(0,"button",35),h.NdJ("click",function(){h.CHM(K);const At=h.oxw().$implicit,Ft=h.oxw();return h.KtG(Ft.onBlock(At.id))}),h._uU(1,"bloquer"),h.qZA()}}function Nt(Fe,ie){if(1&Fe){const K=h.EpF();h.TgZ(0,"button",36),h.NdJ("click",function(){h.CHM(K);const At=h.oxw().$implicit,Ft=h.oxw();return h.KtG(Ft.onUnblock(At.id))}),h._uU(1,"d\xe9bloquer"),h.qZA()}}function Lt(Fe,ie){if(1&Fe&&(h.TgZ(0,"tr"),h.YNc(1,Ot,3,2,"td",29),h.TgZ(2,"td",30)(3,"div",31),h.YNc(4,Yt,2,0,"button",32),h.YNc(5,Nt,2,0,"button",33),h.qZA()()()),2&Fe){const K=ie.$implicit,ut=h.oxw();h.xp6(1),h.Q6J("ngForOf",ut.columns),h.xp6(3),h.Q6J("ngIf","actif"===K.status),h.xp6(1),h.Q6J("ngIf","inactif"===K.status)}}function Et(Fe,ie){if(1&Fe){const K=h.EpF();h.TgZ(0,"button",37),h.NdJ("click",function(){const Ft=h.CHM(K).$implicit,Fn=h.oxw();return h.KtG(Fn.goToPage(Ft))}),h._uU(1),h.qZA()}if(2&Fe){const K=ie.$implicit,ut=h.oxw();h.Q6J("disabled",K===ut.page),h.xp6(1),h.hij(" ",K+1," ")}}class Zt{constructor(ie){this.adminService=ie,this.data=[],this.columns=[{name:"name",value:"pseudo"},{name:"email",value:"email"},{name:"level",value:"niveau"},{name:"status",value:"status"}],this.sens=!1,this.saveColumn="",this.currentEmit="1",this.page=0,this.numberOfElement=20}ngOnInit(){this.adminService.getAllStudents().subscribe(ie=>{ie.docs.forEach(K=>{this.data.push(K.data())}),console.log(this.data),this.saveData=this.data,this.listFragments=this.getListFragment(this.page,this.numberOfElement)})}getListFragment(ie,K){let ut=[];for(let At=ie*K,Ft=0;At<K*(ie+1)&&this.saveData.length>At;At++,Ft++)ut.push(this.saveData[At]);return ut}getPages(){let ie=[];for(let K=0;K<this.data.length/this.numberOfElement;K++)ie.push(K);return ie}setNumberOfElement(ie){this.page=0,this.numberOfElement=+ie,this.listFragments=this.getListFragment(this.page,this.numberOfElement)}goToPage(ie){this.page=ie,this.listFragments=this.getListFragment(ie,this.numberOfElement)}nextPage(){this.page<this.getPages()[this.getPages().length-1]&&(this.listFragments=this.getListFragment(++this.page,this.numberOfElement))}previousPage(){this.page>this.getPages()[0]&&(this.listFragments=this.getListFragment(--this.page,this.numberOfElement))}filter(ie){this.page=0,this.saveData=ie?this.data.filter(K=>{for(const ut of this.columns)if(-1!=ie.toUpperCase().search(K[`${ut.name}`].toString().toUpperCase()))return!0;return!1}):this.data,this.saveData||(this.saveData=this.data),console.log(this.saveData),this.listFragments=this.getListFragment(this.page,this.numberOfElement)}sort(ie){this.saveColumn===ie?this.sens=!this.sens:(this.sens=!0,this.saveColumn=ie),this.page=0,this.saveData=this.data.sort((K,ut)=>K[`${ie}`]>ut[`${ie}`]?this.sens?1:-1:this.sens?-1:1),this.listFragments=this.getListFragment(this.page,this.numberOfElement)}onBlock(ie){this.message=this.adminService.blockUser(ie,"Students"),this.data.filter(K=>K.id===ie)[0].status="inactif"}onUnblock(ie){this.message=this.adminService.unBlockUser(ie,"Students"),this.data.filter(K=>K.id===ie)[0].status="actif"}}Zt.\u0275fac=function(ie){return new(ie||Zt)(h.Y36(pe.l))},Zt.\u0275cmp=h.Xpm({type:Zt,selectors:[["app-student-list"]],decls:41,vars:5,consts:[[1,"flex","items-center","justify-center","flex-1"],[1,"flex","flex-col","justify-center","items-center","w-full","mx-10"],[1,"my-10"],[1,"flex","space-x-4","items-center"],[1,"relative","z-0"],["type","text","id","floating_standard","placeholder"," ",1,"w-80","block","py-2.5","px-0","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["search",""],["for","floating_standard",1,"w-80","absolute","text-sm","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:left-0","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],[1,"p-2.5","ml-2","text-sm","font-medium","text-white","bg-amber-400","rounded-lg","border","border-amber-500","hover:bg-amber-700","focus:ring-4","focus:outline-none","focus:ring-amber-300",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"sr-only"],[1,"w-full"],[1,"bg-amber-400","text-white","rounded-xl"],["class","p-2 text-sm capitalize text-start cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"p-2","text-sm","capitalize","text-start"],[1,"border-b","border-amber-500"],[4,"ngFor","ngForOf"],[1,"flex","w-full","items-center","mt-10","text-sm","justify-between"],[1,"flex","items-center"],[1,"mr-2","border-r-2","border-black"],["name","numberOfElement","id","numberOfElement",3,"change"],["select",""],["value","10"],["value","20"],["value","30"],["class"," mx-2",3,"disabled","click",4,"ngFor","ngForOf"],[1,"mx-1",3,"disabled","click"],[1,"p-2","text-sm","capitalize","text-start","cursor-pointer",3,"click"],["class","p-2 text-sm  w-44",4,"ngFor","ngForOf"],[1,"p-2","text-sm","w-44"],[1,"flex","justify-between"],["class","py-1 px-8 rounded bg-red-400 text-white font-bold",3,"click",4,"ngIf"],["class","py-1 px-8 rounded bg-green-400 text-white font-bold",3,"click",4,"ngIf"],[4,"ngIf"],[1,"py-1","px-8","rounded","bg-red-400","text-white","font-bold",3,"click"],[1,"py-1","px-8","rounded","bg-green-400","text-white","font-bold",3,"click"],[1,"mx-2",3,"disabled","click"]],template:function(ie,K){if(1&ie){const ut=h.EpF();h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),h._UZ(5,"input",5,6),h.TgZ(7,"label",7),h._uU(8,"Rechercher..."),h.qZA()(),h.TgZ(9,"button",8),h.NdJ("click",function(){h.CHM(ut);const Ft=h.MAs(6);return h.KtG(K.filter(Ft.value))}),h.O4$(),h.TgZ(10,"svg",9),h._UZ(11,"path",10),h.qZA(),h.kcU(),h.TgZ(12,"span",11),h._uU(13,"Search"),h.qZA()()()(),h.TgZ(14,"table",12)(15,"thead",13),h.YNc(16,mt,2,1,"th",14),h.TgZ(17,"th",15),h._uU(18,"Actions"),h.qZA()(),h.TgZ(19,"tbody",16),h.YNc(20,Lt,6,3,"tr",17),h.qZA()(),h.TgZ(21,"div",18)(22,"div",19)(23,"div",20),h._uU(24," tableau de : "),h.TgZ(25,"select",21,22),h.NdJ("change",function(){h.CHM(ut);const Ft=h.MAs(26);return h.KtG(K.setNumberOfElement(Ft.value))}),h.TgZ(27,"option",23),h._uU(28,"10"),h.qZA(),h.TgZ(29,"option",24),h._uU(30,"10"),h.qZA(),h.TgZ(31,"option",25),h._uU(32,"30"),h.qZA()()(),h.TgZ(33,"div"),h._uU(34," page : "),h.YNc(35,Et,2,2,"button",26),h.qZA()(),h.TgZ(36,"div")(37,"button",27),h.NdJ("click",function(){return K.previousPage()}),h._uU(38,"Pr\xe9cedent"),h.qZA(),h.TgZ(39,"button",27),h.NdJ("click",function(){return K.nextPage()}),h._uU(40,"Suivant"),h.qZA()()()()()}2&ie&&(h.xp6(16),h.Q6J("ngForOf",K.columns),h.xp6(4),h.Q6J("ngForOf",K.listFragments),h.xp6(15),h.Q6J("ngForOf",K.getPages()),h.xp6(2),h.Q6J("disabled",K.page===K.getPages()[0]),h.xp6(2),h.Q6J("disabled",K.page===K.getPages()[K.getPages().length-1]))},dependencies:[V.sg,V.O5,f.YN,f.Kr]});class Wt{constructor(){this.students=ft.eM,this.currentStudent=this.students[0],this.columns=[{name:"firstname",value:"nom"},{name:"lastname",value:"prenom"},{name:"email",value:"email"},{name:"status",value:"etat"}],this.item=0}getItem(ie){this.currentStudent=this.students.filter(K=>K.id===ie)}onBlocked(ie){}}Wt.\u0275fac=function(ie){return new(ie||Wt)},Wt.\u0275cmp=h.Xpm({type:Wt,selectors:[["app-student"]],decls:5,vars:0,consts:[[1,"bg-white","pt-32","flex","flex-col","min-h-screen"],[1,"text-4xl","text-center","mb-16"],[1,"mt-10","rounded-t-[60px]","bg-white","drop-shadow-xl","shadow","shadow-gray-300","rounde-t-xl","mx-4","flex-1"]],template:function(ie,K){1&ie&&(h.TgZ(0,"div",0)(1,"p",1),h._uU(2," Liste des Etudiants "),h.qZA(),h.TgZ(3,"div",2),h._UZ(4,"app-student-list"),h.qZA()())},dependencies:[Zt]});var bn=P(5861);function Ht(Fe,ie){if(1&Fe){const K=h.EpF();h.TgZ(0,"div",31)(1,"div",32)(2,"p",33),h._uU(3,"Etes vous s\xfbre de vouloir continuer ? "),h.qZA(),h.TgZ(4,"div",34)(5,"button",35),h.NdJ("click",function(){h.CHM(K);const At=h.oxw();return h.KtG(At.getNotifyResponse(!0))}),h._uU(6,"Valider"),h.qZA(),h.TgZ(7,"button",36),h.NdJ("click",function(){h.CHM(K);const At=h.oxw();return h.KtG(At.getNotifyResponse(!1))}),h._uU(8,"Annuler"),h.qZA()()()()}}function On(Fe,ie){if(1&Fe){const K=h.EpF();h.TgZ(0,"th",37),h.NdJ("click",function(){const Ft=h.CHM(K).$implicit,Fn=h.oxw();return h.KtG(Fn.sort(Ft.name))}),h._uU(1),h.qZA()}if(2&Fe){const K=ie.$implicit;h.xp6(1),h.hij(" ",K.value," ")}}function Nn(Fe,ie){if(1&Fe&&(h.TgZ(0,"td",47),h._uU(1),h.qZA()),2&Fe){const K=ie.$implicit,ut=h.oxw().$implicit;h.xp6(1),h.hij(" ",ut[K.name]," ")}}function wr(Fe,ie){if(1&Fe){const K=h.EpF();h.TgZ(0,"button",48),h.NdJ("click",function(){h.CHM(K);const At=h.oxw().$implicit,Ft=h.oxw();return h.KtG(Ft.onBlock(At.id))}),h._uU(1,"bloquer"),h.qZA()}}function Pn(Fe,ie){if(1&Fe){const K=h.EpF();h.TgZ(0,"button",49),h.NdJ("click",function(){h.CHM(K);const At=h.oxw().$implicit,Ft=h.oxw();return h.KtG(Ft.onUnBlock(At.id))}),h._uU(1,"d\xe9bloquer"),h.qZA()}}function _r(Fe,ie){if(1&Fe){const K=h.EpF();h.TgZ(0,"tr",38),h.NdJ("click",function(){const Ft=h.CHM(K).$implicit,Fn=h.oxw();return h.KtG(Fn.emitItem(Ft.id))}),h.YNc(1,Nn,2,1,"td",39),h.TgZ(2,"td",40)(3,"div",41)(4,"button",42)(5,"a",43),h._uU(6,"+ cours"),h.qZA()(),h.TgZ(7,"button",44)(8,"a",43),h._uU(9,"voir cours"),h.qZA()(),h.YNc(10,wr,2,0,"button",45),h.YNc(11,Pn,2,0,"button",46),h.qZA()()()}if(2&Fe){const K=ie.$implicit,ut=h.oxw();h.xp6(1),h.Q6J("ngForOf",ut.columns),h.xp6(4),h.Q6J("routerLink","/admin/enseignants/ajouter/cours/"+K.id),h.xp6(3),h.Q6J("routerLink","/admin/cours/"+K.id),h.xp6(2),h.Q6J("ngIf","actif"===K.status),h.xp6(1),h.Q6J("ngIf","inactif"===K.status)}}function Pr(Fe,ie){if(1&Fe){const K=h.EpF();h.TgZ(0,"button",50),h.NdJ("click",function(){const Ft=h.CHM(K).$implicit,Fn=h.oxw();return h.KtG(Fn.goToPage(Ft))}),h._uU(1),h.qZA()}if(2&Fe){const K=ie.$implicit,ut=h.oxw();h.Q6J("disabled",K===ut.page),h.xp6(1),h.hij(" ",K+1," ")}}class Jt{constructor(ie){this.adminService=ie,this.data=[],this.alertVisible=!1,this.canSelect=!0,this.itemEmitter=new h.vpe,this.sens=!1,this.saveColumn="",this.currentEmit="1",this.loadData=!0,this.page=0,this.numberOfElement=20}ngOnInit(){var ie=this;return(0,bn.Z)(function*(){ie.initTable()})()}initTable(){this.data=[],this.adminService.getAllTeachers().subscribe(ie=>{ie.docs.forEach(K=>{this.data.push(K.data())}),console.log(this.data),this.saveData=this.data,this.listFragments=this.getListFragment(this.page,this.numberOfElement)})}emitItem(ie){this.currentEmit=ie,this.itemEmitter.emit(ie)}getListFragment(ie,K){let ut=[];for(let At=ie*K,Ft=0;At<K*(ie+1)&&this.saveData.length>At;At++,Ft++)ut.push(this.saveData[At]);return ut}getPages(){let ie=[];for(let K=0;K<this.data.length/this.numberOfElement;K++)ie.push(K);return ie}setNumberOfElement(ie){this.page=0,this.numberOfElement=+ie,this.listFragments=this.getListFragment(this.page,this.numberOfElement)}goToPage(ie){this.page=ie,this.listFragments=this.getListFragment(ie,this.numberOfElement)}nextPage(){this.page<this.getPages()[this.getPages().length-1]&&(this.listFragments=this.getListFragment(++this.page,this.numberOfElement))}previousPage(){this.page>this.getPages()[0]&&(this.listFragments=this.getListFragment(--this.page,this.numberOfElement))}filter(ie){this.page=0,this.saveData=ie?this.data.filter(K=>{for(const ut of this.columns)if(-1!=ie.toUpperCase().search(K[`${ut.name}`].toString().toUpperCase()))return!0;return!1}):this.data,this.saveData||(this.saveData=this.data),console.log(this.saveData),this.listFragments=this.getListFragment(this.page,this.numberOfElement)}sort(ie){this.saveColumn===ie?this.sens=!this.sens:(this.sens=!0,this.saveColumn=ie),this.page=0,this.saveData=this.data.sort((K,ut)=>K[`${ie}`]>ut[`${ie}`]?this.sens?1:-1:this.sens?-1:1),this.listFragments=this.getListFragment(this.page,this.numberOfElement)}refreshList(){this.listFragments=void 0,this.page=0}addCourse(ie){}goToCourses(ie){}onBlock(ie){this.adminService.blockUser(ie,"Teachers"),this.data.filter(K=>K.id===ie)[0].status="inactif"}onUnBlock(ie){this.adminService.unBlockUser(ie,"Teachers")&&(this.data.filter(K=>K.id===ie)[0].status="actif")}getNotifyResponse(ie){return console.log(ie),this.alertVisible=!1,ie}showNotification(ie,K){}}Jt.\u0275fac=function(ie){return new(ie||Jt)(h.Y36(pe.l))},Jt.\u0275cmp=h.Xpm({type:Jt,selectors:[["app-teacher-list"]],inputs:{columns:"columns",extra:"extra",canSelect:"canSelect"},outputs:{itemEmitter:"itemEmitter"},decls:45,vars:6,consts:[["class","absolute left-0 top-0 right-0 bottom-0 flex items-center justify-center  z-[2000] bg-black bg-opacity-20",4,"ngIf"],[1,"flex","items-center","justify-center","flex-1"],[1,"flex","flex-col","justify-center","items-center","w-full","mx-10","relative"],[1,"my-10"],[1,"flex","space-x-4","items-center"],[1,"relative","z-0"],["type","text","id","floating_standard","placeholder"," ",1,"w-80","block","py-2.5","px-0","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["search",""],["for","floating_standard",1,"w-80","absolute","text-sm","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:left-0","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],[1,"p-2.5","ml-2","text-sm","font-medium","text-white","bg-amber-400","rounded-lg","border","border-amber-500","hover:bg-amber-700","focus:ring-4","focus:outline-none","focus:ring-amber-300",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"sr-only"],[1,"absolute","top-10","right-10"],["routerLink","/admin/enseignants/ajouter"],[1,"w-full"],[1,"bg-amber-400","text-white","rounded-xl"],["class","p-2  capitalize text-start cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"p-2","capitalize","text-start"],[1,"border-b","border-amber-500"],[3,"click",4,"ngFor","ngForOf"],[1,"flex","w-full","items-center","mt-10","text-xl","justify-between"],[1,"flex","items-center"],[1,"mr-2","border-r-2","border-black"],["name","numberOfElement","id","numberOfElement",3,"change"],["select",""],["value","10"],["value","20"],["value","30"],["class"," mx-2",3,"disabled","click",4,"ngFor","ngForOf"],[1,"mx-1",3,"disabled","click"],[1,"absolute","left-0","top-0","right-0","bottom-0","flex","items-center","justify-center","z-[2000]","bg-black","bg-opacity-20"],[1,"w-96","space-y-2","p-10","fixed","bg-white","flex","flex-col","items-center","justify-between","rounded"],[1,"text-xl"],[1,"text-xl","w-full","flex","justify-between"],[1,"px-6","py-1","bg-green-500","text-white","font-bold","rounded",3,"click"],[1,"px-6","py-1","bg-red-500","text-white","font-bold","rounded",3,"click"],[1,"p-2","capitalize","text-start","cursor-pointer",3,"click"],[3,"click"],["class","p-2 text-sm  w-44",4,"ngFor","ngForOf"],[1,"p-2","text-sm","w-80"],[1,"w-auto","flex","justify-between"],[1,"px-4","py-1","rounded","bg-green-500","text-white","font-bold"],[3,"routerLink"],[1,"px-4","py-1","rounded","bg-blue-500","text-white","font-bold"],["class"," py-1 px-4 rounded bg-red-400 text-white font-bold",3,"click",4,"ngIf"],["class"," py-1 px-4 rounded bg-green-400 text-white font-bold",3,"click",4,"ngIf"],[1,"p-2","text-sm","w-44"],[1,"py-1","px-4","rounded","bg-red-400","text-white","font-bold",3,"click"],[1,"py-1","px-4","rounded","bg-green-400","text-white","font-bold",3,"click"],[1,"mx-2",3,"disabled","click"]],template:function(ie,K){if(1&ie){const ut=h.EpF();h.YNc(0,Ht,9,0,"div",0),h.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),h._UZ(6,"input",6,7),h.TgZ(8,"label",8),h._uU(9,"Rechercher..."),h.qZA()(),h.TgZ(10,"button",9),h.NdJ("click",function(){h.CHM(ut);const Ft=h.MAs(7);return h.KtG(K.filter(Ft.value))}),h.O4$(),h.TgZ(11,"svg",10),h._UZ(12,"path",11),h.qZA(),h.kcU(),h.TgZ(13,"span",12),h._uU(14,"Search"),h.qZA()()()(),h.TgZ(15,"div",13)(16,"a",14),h._uU(17,"Ajouter enseignants"),h.qZA()(),h.TgZ(18,"table",15)(19,"thead",16),h.YNc(20,On,2,1,"th",17),h.TgZ(21,"th",18),h._uU(22,"Actions"),h.qZA()(),h.TgZ(23,"tbody",19),h.YNc(24,_r,12,5,"tr",20),h.qZA()(),h.TgZ(25,"div",21)(26,"div",22)(27,"div",23),h._uU(28," tableau de : "),h.TgZ(29,"select",24,25),h.NdJ("change",function(){h.CHM(ut);const Ft=h.MAs(30);return h.KtG(K.setNumberOfElement(Ft.value))}),h.TgZ(31,"option",26),h._uU(32,"10"),h.qZA(),h.TgZ(33,"option",27),h._uU(34,"10"),h.qZA(),h.TgZ(35,"option",28),h._uU(36,"30"),h.qZA()()(),h.TgZ(37,"div"),h._uU(38," page : "),h.YNc(39,Pr,2,2,"button",29),h.qZA()(),h.TgZ(40,"div")(41,"button",30),h.NdJ("click",function(){return K.previousPage()}),h._uU(42,"Pr\xe9cedent"),h.qZA(),h.TgZ(43,"button",30),h.NdJ("click",function(){return K.nextPage()}),h._uU(44,"Suivant"),h.qZA()()()()()}2&ie&&(h.Q6J("ngIf",K.alertVisible),h.xp6(20),h.Q6J("ngForOf",K.columns),h.xp6(4),h.Q6J("ngForOf",K.listFragments),h.xp6(15),h.Q6J("ngForOf",K.getPages()),h.xp6(2),h.Q6J("disabled",K.page===K.getPages()[0]),h.xp6(2),h.Q6J("disabled",K.page===K.getPages()[K.getPages().length-1]))},dependencies:[V.sg,V.O5,f.YN,f.Kr,C.rH]});class Gn{constructor(ie){this.adminService=ie,this.teachers=[],this.columns=[{name:"firstname",value:"Pr\xe9nom"},{name:"lastname",value:"Nom"},{name:"email",value:"Email"},{name:"status",value:"Status"}],this.loadData=!0,this.item=0}ngOnInit(){}getCourse(ie){console.log(ie)}getNewTeacher(ie){this.adminService.createTeacher(ie,ie.email)}getItem(ie){}getTeacherCourses(){}getCourseVideos(ie){}}Gn.\u0275fac=function(ie){return new(ie||Gn)(h.Y36(pe.l))},Gn.\u0275cmp=h.Xpm({type:Gn,selectors:[["app-teacher"]],decls:5,vars:1,consts:[[1,"bg-white","pt-32","flex","flex-col","min-h-screen"],[1,"text-4xl","text-center","pb-24"],[1,"rounded-t-[60px]","bg-white","drop-shadow-xl","shadow","shadow-gray-300","rounde-t-xl","mx-4","flex-1"],[3,"columns","itemEmitter"]],template:function(ie,K){1&ie&&(h.TgZ(0,"div",0)(1,"p",1),h._uU(2," Liste des Enseignants "),h.qZA(),h.TgZ(3,"div",2)(4,"app-teacher-list",3),h.NdJ("itemEmitter",function(At){return K.getItem(At)}),h.qZA()()()),2&ie&&(h.xp6(4),h.Q6J("columns",K.columns))},dependencies:[Jt]});const er=[{path:"cours",component:De},{path:"cours/ajouter",component:re},{path:"cours/:id",component:De},{path:"enseignants",component:Gn},{path:"etudiants",component:Wt},{path:"videos",component:xe},{path:"videos/:id",component:xe},{path:"enseignants/ajouter/cours/:id",component:He},{path:"enseignants/ajouter",component:at},{path:"videos/ajouter/:id",component:me.J},{path:"videos/visionner/:id",component:te}];class An{}An.\u0275fac=function(ie){return new(ie||An)},An.\u0275mod=h.oAB({type:An}),An.\u0275inj=h.cJS({imports:[C.Bz.forChild(er),C.Bz]})},110:(kt,Ze,P)=>{P.d(Ze,{J:()=>Ie});var f=P(433),h=P(4650),C=P(5024),pe=P(9051),V=P(6895);const _e=function(ye){return{"p-2 px-6 text-xl font-semibold border-2 rounded-2xl text-amber-500 ":!0,"border-b-amber-300 border-r-amber-300 cursor-pointer":ye}};class Ie{constructor(le,re,te,me){this.formBuilder=le,this.adminService=re,this.route=te,this.router=me,this.course={name:"",level:""}}ngOnInit(){this.initForm(),this.route.params.subscribe(le=>{this.adminService.getItem(le.id,"Courses").subscribe(te=>{this.course=te.docs[0].data()})})}initForm(){this.form=this.formBuilder.group({name:["",f.kI.required],description:["",f.kI.required],file:["",f.kI.required]})}onSubmit(){let le=this.form.get("name").value,re=this.form.get("description").value,te=this.form.get("file").value;this.adminService.createVideo({name:le,description:re,course:this.course.id,id:""},this.course.id,te),this.router.navigate(["/admin/videos"])}onFileSelect(le){if(le.target.files.length>0){const re=le.target.files[0];this.form.get("file").setValue(re)}}}Ie.\u0275fac=function(le){return new(le||Ie)(h.Y36(f.qu),h.Y36(C.l),h.Y36(pe.gz),h.Y36(pe.F0))},Ie.\u0275cmp=h.Xpm({type:Ie,selectors:[["app-add-video"]],decls:26,vars:5,consts:[[1,"flex","items-center","justify-center","h-screen","bg-white"],[1,"py-6","px-16","space-y-8","bg-white","drop-shadow",3,"formGroup","ngSubmit"],[1,"text-2xl","text-center","mt-2","text-amber-500","font-bold"],[1,"flex","items-center","justify-center","w-80","mx-auto"],["for","dropzone-file",1,"flex","flex-col","items-center","justify-center","w-full","h-44","border-2","border-gray-300","border-dashed","rounded-lg","cursor-pointer","bg-gray-50","hover:bg-gray-100"],[1,"flex","flex-col","items-center","justify-center","pt-5","pb-6"],["aria-hidden","true","fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-10","h-10","mb-3","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"],[1,"mb-2","text-sm","text-gray-500"],[1,"font-semibold"],["id","dropzone-file","formControlName","file","type","file",1,"hidden",3,"change"],[1,"relative","z-0"],["formControlName","name","type","text","id","floating_standard","placeholder"," ",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["for","floating_standard",1,"absolute","text-sm","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:left-0","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],["name","description","formControlName","description","id","floating_standard","placeholder"," ",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],[1,"text-center"],["type","submit","value","Ajouter",3,"ngClass"]],template:function(le,re){1&le&&(h.TgZ(0,"div",0)(1,"form",1),h.NdJ("ngSubmit",function(){return re.onSubmit()}),h.TgZ(2,"p",2),h._uU(3,"Ajouter une video pour le cours "),h._UZ(4,"br"),h._uU(5),h.qZA(),h.TgZ(6,"div",3)(7,"label",4)(8,"div",5),h.O4$(),h.TgZ(9,"svg",6),h._UZ(10,"path",7),h.qZA(),h.kcU(),h.TgZ(11,"p",8)(12,"span",9),h._uU(13,"Click to upload"),h.qZA(),h._uU(14," or drag and drop Video"),h.qZA()(),h.TgZ(15,"input",10),h.NdJ("change",function(me){return re.onFileSelect(me)}),h.qZA()()(),h.TgZ(16,"div",11),h._UZ(17,"input",12),h.TgZ(18,"label",13),h._uU(19,"Nom"),h.qZA()(),h.TgZ(20,"div",11),h._UZ(21,"textarea",14),h.TgZ(22,"label",13),h._uU(23,"Description"),h.qZA()(),h.TgZ(24,"div",15),h._UZ(25,"input",16),h.qZA()()()),2&le&&(h.xp6(1),h.Q6J("formGroup",re.form),h.xp6(4),h.hij(" ",re.course.name+" niveau "+re.course.level,""),h.xp6(20),h.Q6J("ngClass",h.VKq(3,_e,!re.form.invalid)))},dependencies:[V.mk,f._Y,f.Fj,f.JJ,f.JL,f.sg,f.u]})},5024:(kt,Ze,P)=>{P.d(Ze,{l:()=>lt});var f=P(8996),h=P(3900);const C={_origin:"https://api.emailjs.com"};class _e{constructor(xe){this.status=xe?xe.status:0,this.text=xe?xe.responseText:"Network Error"}}const te_send=(Ne,xe,Ve,Xe)=>{const oe=Xe||C._userID;return((Ne,xe,Ve)=>{if(!Ne)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!xe)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!Ve)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"})(oe,Ne,xe),((Ne,xe,Ve={})=>new Promise((Xe,oe)=>{const He=new XMLHttpRequest;He.addEventListener("load",({target:Be})=>{const at=new _e(Be);200===at.status||"OK"===at.text?Xe(at):oe(at)}),He.addEventListener("error",({target:Be})=>{oe(new _e(Be))}),He.open("POST",C._origin+Ne,!0),Object.keys(Ve).forEach(Be=>{He.setRequestHeader(Be,Ve[Be])}),He.send(xe)}))("/api/v1.0/email/send",JSON.stringify({lib_version:"3.10.0",user_id:oe,service_id:Ne,template_id:xe,template_params:Ve}),{"Content-type":"application/json"})};var me=P(4650),nt=P(2095),ze=P(1205),Ke=P(377);class lt{constructor(xe,Ve,Xe){this.fireStore=xe,this.fireAuth=Ve,this.storage=Xe,this.chars="abcdefghijklmnopqrstuvwxyz",this.CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZ",this.num="123456789",this.passwordLength=3}generatePassword(xe,Ve){let Xe="";for(let oe=0;oe<=Ve;oe++){let He=Math.floor(Math.random()*this.chars.length);Xe+=xe.substring(He,He+1)+""}return Xe}createTeacher(xe,Ve){xe.id=this.fireStore.createId(),xe.courses=[],console.log(xe);const Xe=this.generatePassword(this.CHARS,1)+this.generatePassword(this.chars,4)+"@"+this.generatePassword(this.num,2);return console.log(Xe),this.fireAuth.createUserWithEmailAndPassword(Ve,Xe).then(oe=>oe.user?.uid?(xe.uid=oe.user?.uid,new Promise((He,Be)=>{this.fireStore.collection("Teachers").add({...xe,status:"actif"}).then(at=>{this.sendEmail({password:Xe,email:Ve,name:xe.firstname+" "+xe.lastname}),He(at)},at=>Be(at))})):"Une erreur c'est produite")}createCourse(xe){return xe.id=this.fireStore.createId(),console.log("hey"),new Promise((Ve,Xe)=>{this.fireStore.collection("Courses").add({...xe,link:"",videos:[],teacherName:""}).then(oe=>{Ve("Cours cr\xe9\xe9e vec succ\xe8s")},oe=>{Xe("Une erreur est survenue impossible de continuer l'op\xe9ration")})})}updateCourseTeacher(xe,Ve,Xe){return this.fireStore.collection("Courses").doc(Ve).update({teacher:xe,teacherName:Xe})}createVideo(xe,Ve,Xe){xe.id=this.fireStore.createId();let oe=0;return this.fireStore.collection("Courses",He=>He.where("id","==",Ve)).snapshotChanges().subscribe(He=>{if(oe++,1==oe){let Be=He[0].payload.doc.data().videos;Be.push(xe.id),this.fireStore.collection("Courses").doc(He[0].payload.doc.id).update({videos:Be}).then(at=>{},at=>{}),this.uploadFileAndGetMetadata("videos",Xe).downloadUrl$.subscribe(at=>{new Promise((Qe,he)=>this.fireStore.collection("Videos").add({...xe,link:at}).then(Oe=>{Qe("Vid\xe9o cr\xe9\xe9e vec succ\xe8s")},Oe=>{he("Une erreur est survenue impossible de continuer l'op\xe9ration")}))})}})}deleteStudent(xe){this.fireStore.collection("/Students").doc(xe).delete()}blockUser(xe,Ve){let Xe=0;return this.fireStore.collection(`${Ve}`,oe=>oe.where("id","==",xe)).snapshotChanges().subscribe(oe=>{Xe++,1===Xe&&this.fireStore.collection(`${Ve}`).doc(oe[0].payload.doc.id).update({status:"inactif"}).then(He=>"Utilisateur bloquer").catch(He=>"Une erreur c'est produite veuillez ressager")})}unBlockUser(xe,Ve){let Xe=0;return this.fireStore.collection(`${Ve}`,oe=>oe.where("id","==",xe)).snapshotChanges().subscribe(oe=>{if(Xe++,1===Xe)return this.fireStore.collection(`${Ve}`).doc(oe[0].payload.doc.id).update({status:"actif"}).then(He=>"Utilisateur d\xe9bloquer").catch(He=>"Une erreur c'est produite veuillez ressager")})}getAllTeachers(){return this.fireStore.collection("/Teachers").get()}getAllStudents(){return this.fireStore.collection("/Students").get()}getAllCourses(){return this.fireStore.collection("/Courses").snapshotChanges()}getCourseId(){return this.fireStore.collection("/Courses").get()}getAllVideos(){return this.fireStore.collection("/Videos").get()}getItem(xe,Ve){return this.fireStore.collection(`/${Ve}`,Xe=>Xe.where("id","==",xe)).get()}uploadFileAndGetMetadata(xe,Ve){const{name:Xe}=Ve,oe=`${xe}/${(new Date).getTime()}_${Xe}`,He=this.storage.upload(oe,Ve);return{uploadProgress$:He.percentageChanges()?He.percentageChanges():0,downloadUrl$:this.getDownloadUrl$(He,oe)}}getVideoLink(xe){return this.fireStore.collection("Videos",Ve=>Ve.where("id","==",xe)).snapshotChanges()}getDownloadUrl$(xe,Ve){return(0,f.D)(xe).pipe((0,h.w)(Xe=>this.storage.ref(Ve).getDownloadURL()))}addCourseVideos(){}deleteVideo(){}deleteCourse(){}sendEmail(xe){te_send("etoile-d-afrique-web-app","etoile-afrique-send-pass",xe,"BCidLL6hrWDmpzwyN").then(Ve=>{console.log(Ve.text)},Ve=>{console.log(Ve.text)})}}lt.\u0275fac=function(xe){return new(xe||lt)(me.LFG(nt.ST),me.LFG(ze.zQ),me.LFG(Ke.Q1))},lt.\u0275prov=me.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"})},8796:(kt,Ze,P)=>{P.r(Ze),P.d(Ze,{AuthRoutingModule:()=>nt});var f=P(433),h=P(4650),C=P(9051),pe=P(7501);class V{constructor(Ke,lt,Ne){this.formBuilder=Ke,this.router=lt,this.authService=Ne,this.isAuth=!1,localStorage.clear()}ngOnInit(){this.initForm()}initForm(){this.loginForm=this.formBuilder.group({login:["",f.kI.required],password:["",[f.kI.required,f.kI.pattern(/(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/)]]})}onSubmit(){const Ke=this.loginForm.get("login").value,lt=this.loginForm.get("password").value;this.authService.searchAdmin(Ke).subscribe(Ne=>{let xe=null;Ne.forEach(Ve=>{xe=Ve.data()}),xe?this.authService.adminLogin(Ke,lt).then(Ve=>{localStorage.setItem("login",Ve.user?.uid?Ve.user?.uid:""),Ve.user?.getIdToken().then(Xe=>{localStorage.setItem("token",Xe),localStorage.setItem("user","admin"),this.router.navigateByUrl("/admin/cours")},Xe=>{this.errorMessage="Login ou mot de passe incorrect"})}):this.errorMessage="Login ou mot de passe incorrect"})}}V.\u0275fac=function(Ke){return new(Ke||V)(h.Y36(f.qu),h.Y36(C.F0),h.Y36(pe.e))},V.\u0275cmp=h.Xpm({type:V,selectors:[["app-admin-auth"]],decls:26,vars:3,consts:[[1,"min-h-screen","flex","items-center","justify-center"],[1,"w-2/5","bg-amber-400","h-screen","flex","flex-col","items-center","justify-center"],["src","","alt"," ",1,"w-80","h-44","bg-red-400","mb-4"],[1,"ofont-extrabold","mt-4","w-3/4","text-xl","text-center"],[1,"flex","justify-center","flex-1"],[1,"p-10","mb-16","bg-white","drop-shadow","shadow-md","shadow-amber-50","rounded-3xl","overflow-hidden"],[1,"text-center","text-3xl"],[1,"p-4","px-16","space-y-12",3,"formGroup","ngSubmit"],[1,"text-red-500"],[1,"relative","z-0","w-80"],["formControlName","login","required","","type","email","id","floating_standard","placeholder"," ",1,"block","py-2.5","px-0","w-full","text","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["for","floating_standard",1,"absolute","text-sm","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:left-0","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],[1,"relative","z-0"],["formControlName","password","required","","type","password","id","floating_standard","placeholder"," ",1,"block","py-2.5","px-0","w-full","text","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],[1,"text-center"],["type","submit","value","Se Connecter",1,"cursor-pointer","p-2","px-4","font-semibold","border-2","rounded-2xl","drop-shadow-login-button","bg-main-bg","border-b-amber-300","border-r-amber-300",3,"disabled"],["href","/inscription",1,"text-amber-400"]],template:function(Ke,lt){1&Ke&&(h.TgZ(0,"div",0)(1,"div",1),h._UZ(2,"img",2),h.TgZ(3,"p",3),h._uU(4," Lorem, ipsum dolor sit amet consectetur adipisicing elit. Incidunt nobis debitis cum, tempore est fugit earum quibusdam rem beatae ducimus placeat repellat libero laborum quam, iure pariatur quasi molestias eligendi. "),h.qZA()(),h.TgZ(5,"div",4)(6,"div",5)(7,"p",6),h._uU(8,"Connexion"),h.qZA(),h.TgZ(9,"form",7),h.NdJ("ngSubmit",function(){return lt.onSubmit()}),h.TgZ(10,"p",8),h._uU(11),h.qZA(),h.TgZ(12,"div",9),h._UZ(13,"input",10),h.TgZ(14,"label",11),h._uU(15,"Email"),h.qZA()(),h.TgZ(16,"div",12),h._UZ(17,"input",13),h.TgZ(18,"label",11),h._uU(19,"Mot de passe"),h.qZA()(),h.TgZ(20,"div",14),h._UZ(21,"input",15),h.qZA(),h.TgZ(22,"div",14),h._uU(23,"Pas encore inscrit ? "),h.TgZ(24,"a",16),h._uU(25,"S'inscrire."),h.qZA()()()()()()),2&Ke&&(h.xp6(9),h.Q6J("formGroup",lt.loginForm),h.xp6(2),h.Oqu(lt.errorMessage),h.xp6(10),h.Q6J("disabled",lt.loginForm.invalid))},dependencies:[f._Y,f.Fj,f.JJ,f.JL,f.Q7,f.sg,f.u]});class _e{constructor(Ke,lt,Ne){this.formBuilder=Ke,this.router=lt,this.authService=Ne,this.isAuth=!1,localStorage.clear()}ngOnInit(){this.initForm()}initForm(){this.loginForm=this.formBuilder.group({login:["",f.kI.required],password:["",[f.kI.required,f.kI.pattern(/(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/)]],role:["Student",f.kI.required]})}onSubmit(){const Ke=this.loginForm.get("login").value,lt=this.loginForm.get("password").value,Ne=this.loginForm.get("role").value;this.authService.login(Ke,lt,Ne).then(xe=>{this.errorMessage=xe.toString()})}}_e.\u0275fac=function(Ke){return new(Ke||_e)(h.Y36(f.qu),h.Y36(C.F0),h.Y36(pe.e))},_e.\u0275cmp=h.Xpm({type:_e,selectors:[["app-login"]],decls:34,vars:3,consts:[[1,"min-h-screen","flex","items-center","justify-center"],[1,"md:flex","hidden","w-2/5","bg-amber-400","h-screen","flex-col","items-center","justify-center"],["src","","alt"," ",1,"w-80","h-44","bg-red-400","mb-4"],[1,"ofont-extrabold","mt-4","w-3/4","text-xl","text-center"],[1,"flex","justify-center","flex-1"],[1,"md:p-10","py-10","mb-16","bg-white","md:drop-shadow","md:shadow-md","shadow-amber-50","rounded-3xl","overflow-hidden"],[1,"text-center","text-3xl"],[1,"md:p-4","px-16","space-y-12",3,"formGroup","ngSubmit"],[1,"text-red-500"],[1,"relative","z-0","w-80"],["formControlName","login","required","","type","email","id","floating_standard","placeholder"," ",1,"block","py-2.5","px-0","w-full","text","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["for","floating_standard",1,"absolute","text-sm","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:left-0","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],[1,"relative","z-0"],["formControlName","password","required","","type","password","id","floating_standard","placeholder"," ",1,"block","py-2.5","px-0","w-full","text","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["formControlName","role","required","","id","floating_standard","placeholder"," ",1,"block","py-2.5","px-0","w-full","text","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["value","Student"],["value","Teacher"],["for","floating_standard",1,"absolute","text-xl","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:left-0","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],[1,"text-center"],["type","submit","value","Se Connecter",1,"cursor-pointer","p-2","px-4","font-semibold","border-2","rounded-2xl","drop-shadow-login-button","bg-main-bg","border-b-amber-300","border-r-amber-300",3,"disabled"],["href","/inscription",1,"text-amber-400"]],template:function(Ke,lt){1&Ke&&(h.TgZ(0,"div",0)(1,"div",1),h._UZ(2,"img",2),h.TgZ(3,"p",3),h._uU(4," Lorem, ipsum dolor sit amet consectetur adipisicing elit. Incidunt nobis debitis cum, tempore est fugit earum quibusdam rem beatae ducimus placeat repellat libero laborum quam, iure pariatur quasi molestias eligendi. "),h.qZA()(),h.TgZ(5,"div",4)(6,"div",5)(7,"p",6),h._uU(8,"Connexion"),h.qZA(),h.TgZ(9,"form",7),h.NdJ("ngSubmit",function(){return lt.onSubmit()}),h.TgZ(10,"p",8),h._uU(11),h.qZA(),h.TgZ(12,"div",9),h._UZ(13,"input",10),h.TgZ(14,"label",11),h._uU(15,"Email"),h.qZA()(),h.TgZ(16,"div",12),h._UZ(17,"input",13),h.TgZ(18,"label",11),h._uU(19,"Mot de passe"),h.qZA()(),h.TgZ(20,"div",12)(21,"select",14)(22,"option",15),h._uU(23,"\xc9tudiant"),h.qZA(),h.TgZ(24,"option",16),h._uU(25,"Professeur"),h.qZA()(),h.TgZ(26,"label",17),h._uU(27,"Vous \xeates ?"),h.qZA()(),h.TgZ(28,"div",18),h._UZ(29,"input",19),h.qZA(),h.TgZ(30,"div",18),h._uU(31,"Pas encore inscrit ? "),h.TgZ(32,"a",20),h._uU(33,"S'inscrire."),h.qZA()()()()()()),2&Ke&&(h.xp6(9),h.Q6J("formGroup",lt.loginForm),h.xp6(2),h.Oqu(lt.errorMessage),h.xp6(18),h.Q6J("disabled",lt.loginForm.invalid))},dependencies:[f._Y,f.YN,f.Kr,f.Fj,f.EJ,f.JJ,f.JL,f.Q7,f.sg,f.u]});var Ie=P(2893),ye=P(6895);function le(ze,Ke){if(1&ze&&(h.TgZ(0,"option",22),h._uU(1),h.qZA()),2&ze){const lt=Ke.$implicit;h.Q6J("value",lt.value),h.xp6(1),h.Oqu(lt.name)}}function re(ze,Ke){if(1&ze&&(h.TgZ(0,"option",22),h._uU(1),h.qZA()),2&ze){const lt=Ke.$implicit;h.Q6J("value",lt),h.xp6(1),h.Oqu(lt)}}class te{constructor(Ke,lt,Ne,xe){this.formBuilder=Ke,this.router=lt,this.authService=Ne,this.dataService=xe,this.level=[{name:"CI",value:"CI",option:["n\xe9an"]},{name:"CP",value:"CP",option:["n\xe9an"]},{name:"CE1",value:"CE1",option:["n\xe9an"]},{name:"CE1",value:"CE1",option:["n\xe9an"]},{name:"CM1",value:"CM1",option:["n\xe9an"]},{name:"CM2",value:"CM2",option:["n\xe9an"]},{name:"6e",value:"6\xe9me",option:["n\xe9an"]},{name:"5e",value:"5\xe9me",option:["n\xe9an"]},{name:"4e",value:"4\xe9me",option:["n\xe9an"]},{name:"3e",value:"3\xe9me",option:["n\xe9an"]},{name:"Second",value:"Second",option:["L","S"]},{name:"Premi\xe8re",value:"Premi\xe8re",option:["L","S"]},{name:"Terminale",value:"Terminale",option:["L","S"]}],this.option=[{name:"n\xe9an",value:"none"},{name:"L",value:"L"},{name:"S",value:"S"}],this.isAuth=!1,localStorage.clear()}ngOnInit(){this.initForm()}initForm(){this.registerForm=this.formBuilder.group({login:["",f.kI.required],name:["",f.kI.required],level:["CI",f.kI.required],option:[,f.kI.required],password:["",[f.kI.required,f.kI.pattern(/(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/)]],confirmPassword:["",[f.kI.required,f.kI.pattern(/(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/)]]})}getOption(){return this.level.filter(Ke=>Ke.value==this.registerForm.get("level")?.value)[0].option}onSubmit(){const Ke=this.registerForm.get("name").value,lt=this.registerForm.get("login").value,Ne=this.registerForm.get("password").value;Ne!==this.registerForm.get("confirmPassword").value?this.errorMessage="Mot de passe incorrecte":this.authService.register(lt,Ne).then(Xe=>{Xe?Xe.uid?(this.dataService.createStudent({id:"",uid:Xe.uid,courses:[],name:Ke,email:lt,status:"actif"}).then(He=>{this.message=""}).catch(He=>{}),console.log(this.dataService.getStudent(Xe.uid)),this.router.navigate(["/connexion"])):this.errorMessage=Xe.message:this.errorMessage="Une erreur c'est produit veuillez ressayer plutard"})}}te.\u0275fac=function(Ke){return new(Ke||te)(h.Y36(f.qu),h.Y36(C.F0),h.Y36(pe.e),h.Y36(Ie.k))},te.\u0275cmp=h.Xpm({type:te,selectors:[["app-register"]],decls:44,vars:5,consts:[[1,"min-h-screen","flex","items-center","justify-between","overflow-hidden"],[1,"w-2/5","bg-amber-400","h-screen","md:flex","hidden","flex-col","items-center","justify-center"],["src","","alt"," ",1,"w-80","h-44","bg-red-400","mb-4"],[1,"ofont-extrabold","mt-4","w-3/4","text-xl","text-center"],[1,"flex","justify-center","flex-1"],[1,"p-6","block","bg-white","md:shadow-xl","md:drop-shadow","shadow-amber-50","rounded-3xl","overflow-hidden"],[1,"text-center","text-3xl"],[1,"p-4","px-16","space-y-5",3,"formGroup","ngSubmit"],[1,"text-red-500","text-center"],[1,"relative","z-0","w-80"],["formControlName","name","required","","type","text","id","floating_standard","placeholder"," ",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["for","floating_standard",1,"absolute","text-sm","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:left-0","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],["formControlName","login","required","","type","email","id","floating_standard","placeholder"," ",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],[1,"relative","z-0"],["name","level","formControlName","level","id","level",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],[3,"value",4,"ngFor","ngForOf"],["name","option","formControlName","option","id","option",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["formControlName","password","required","","type","password","id","floating_standard","placeholder"," ",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["formControlName","confirmPassword","required","","type","password","id","floating_standard","placeholder"," ",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],[1,"text-center"],["type","submit","value","S'inscrire",1,"cursor-pointer","p-2","px-4","font-semibold","border-2","rounded-2xl","drop-shadow-login-button","bg-main-bg","border-b-amber-300","border-r-amber-300",3,"disabled"],["href","/connexion",1,"text-amber-400"],[3,"value"]],template:function(Ke,lt){1&Ke&&(h.TgZ(0,"div",0)(1,"div",1),h._UZ(2,"img",2),h.TgZ(3,"p",3),h._uU(4," Lorem, ipsum dolor sit amet consectetur adipisicing elit. Incidunt nobis debitis cum, tempore est fugit earum quibusdam rem beatae ducimus placeat repellat libero laborum quam, iure pariatur quasi molestias eligendi. "),h.qZA()(),h.TgZ(5,"div",4)(6,"div",5)(7,"p",6),h._uU(8,"Inscription"),h.qZA(),h.TgZ(9,"form",7),h.NdJ("ngSubmit",function(){return lt.onSubmit()}),h.TgZ(10,"p",8),h._uU(11),h.qZA(),h.TgZ(12,"div",9),h._UZ(13,"input",10),h.TgZ(14,"label",11),h._uU(15,"Pseudo"),h.qZA()(),h.TgZ(16,"div",9),h._UZ(17,"input",12),h.TgZ(18,"label",11),h._uU(19,"Email"),h.qZA()(),h.TgZ(20,"div",13)(21,"select",14),h.YNc(22,le,2,2,"option",15),h.qZA(),h.TgZ(23,"label",11),h._uU(24,"Niveau"),h.qZA()(),h.TgZ(25,"div",13)(26,"select",16),h.YNc(27,re,2,2,"option",15),h.qZA(),h.TgZ(28,"label",11),h._uU(29,"Option"),h.qZA()(),h.TgZ(30,"div",13),h._UZ(31,"input",17),h.TgZ(32,"label",11),h._uU(33,"Mot de passe"),h.qZA()(),h.TgZ(34,"div",13),h._UZ(35,"input",18),h.TgZ(36,"label",11),h._uU(37,"Confirmer le Mot de passe"),h.qZA()(),h.TgZ(38,"div",19),h._UZ(39,"input",20),h.qZA(),h.TgZ(40,"div",19),h._uU(41,"D\xe9j\xe0 inscrit ? "),h.TgZ(42,"a",21),h._uU(43,"Se connecter."),h.qZA()()()()()()),2&Ke&&(h.xp6(9),h.Q6J("formGroup",lt.registerForm),h.xp6(2),h.Oqu(lt.errorMessage),h.xp6(11),h.Q6J("ngForOf",lt.level),h.xp6(5),h.Q6J("ngForOf",lt.getOption()),h.xp6(12),h.Q6J("disabled",lt.registerForm.invalid))},dependencies:[ye.sg,f._Y,f.YN,f.Kr,f.Fj,f.EJ,f.JJ,f.JL,f.Q7,f.sg,f.u]});const me=[{path:"",component:_e},{path:"connexion",component:_e},{path:"inscription",component:te},{path:"admin",component:V}];class nt{}nt.\u0275fac=function(Ke){return new(Ke||nt)},nt.\u0275mod=h.oAB({type:nt}),nt.\u0275inj=h.cJS({imports:[C.Bz.forChild(me),C.Bz]})},7501:(kt,Ze,P)=>{P.d(Ze,{e:()=>Ie});var f=P(5861),h=P(4650),C=P(1205),pe=P(9051),V=P(2893),_e=P(2095);class Ie{constructor(le,re,te,me){this.fireAuth=le,this.router=re,this.dataService=te,this.fireStore=me}getToken(){return this.token}getUserId(){return""}setToken(le){this.token=le,console.log(this.token)}adminLogin(le,re){return this.fireAuth.signInWithEmailAndPassword(le,re)}searchAdmin(le){return this.fireStore.collection("Admins",re=>re.where("email","==",le)).get()}login(le,re,te){return this.fireAuth.signInWithEmailAndPassword(le,re).then(me=>me.user?.getIdToken().then(nt=>{switch(te){case"Student":this.fireStore.collection("Students",ze=>ze.where("uid","==",me.user?.uid)).get().subscribe(ze=>{ze.docs.forEach(Ke=>Ke.data().uid===me.user?.uid?(localStorage.setItem("login",me.user?.uid?me.user?.uid:""),localStorage.setItem("user","student"),localStorage.setItem("token",nt),this.router.navigate(["/etud/accueil"])):"V\xe9rifiez les informations saisies")});break;case"Teacher":this.fireStore.collection("Teachers",ze=>ze.where("uid","==",me.user?.uid)).get().subscribe(ze=>{ze.docs.forEach(Ke=>Ke.data().uid===me.user?.uid?(localStorage.setItem("login",me.user?.uid?me.user?.uid:""),localStorage.setItem("token",nt),localStorage.setItem("user","teacher"),this.router.navigate(["/en/accueil"])):"V\xe9rifiez les informations saisies")});break;default:return"Saisie incorrecte"}return""}).catch(nt=>"Veuillez ressayer"),me=>"Veuillez ressayer")}register(le,re){var te=this;return(0,f.Z)(function*(){let me;return yield te.fireAuth.createUserWithEmailAndPassword(le,re).then(nt=>{me={uid:nt.user?.uid,message:""}},nt=>{me=nt.message.search("auth/email-already-in-use")?{uid:null,message:"Email d\xe9j\xe0 utilis\xe9"}:{uid:null,message:"Une erreur c'est produit veuillez ressayer"}}),me})()}logout(){this.fireAuth.signOut().then(()=>{localStorage.removeItem("token"),this.router.navigate(["/connexion"])},le=>{alert(le.message)})}forgotPassword(le){this.fireAuth.sendPasswordResetEmail(le).then(()=>{this.router.navigate(["/varify-email"])},re=>{alert("Something went wrong")})}}Ie.\u0275fac=function(le){return new(le||Ie)(h.LFG(C.zQ),h.LFG(pe.F0),h.LFG(V.k),h.LFG(_e.ST))},Ie.\u0275prov=h.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})},2893:(kt,Ze,P)=>{P.d(Ze,{k:()=>pe});var f=P(4650),h=P(2095),C=P(1205);class pe{constructor(_e,Ie){this.fireStore=_e,this.fireAuth=Ie}createStudent(_e){return _e.id=this.fireStore.createId(),new Promise((Ie,ye)=>{this.fireStore.collection("Students").add(_e).then(le=>{Ie(le)},le=>ye(le))})}getStudent(_e){return this.fireStore.collection("/Students",Ie=>Ie.where("uid","==",_e)).snapshotChanges()}getAllStudent(){return this.fireStore.collection("Students").snapshotChanges()}}pe.\u0275fac=function(_e){return new(_e||pe)(f.LFG(h.ST),f.LFG(C.zQ))},pe.\u0275prov=f.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"})},4119:(kt,Ze,P)=>{P.d(Ze,{FM:()=>C,Wv:()=>pe,eM:()=>V,nO:()=>h});const h=[],C=[{name:"Proba partie 1",date:"10-12-2022",link:"lien vers video",id:"1",course:"5"},{name:"Proba partie 2",date:"14-12-2022",link:"lien vers video",id:"2",course:"5"},{name:"Proba partie 3",date:"21-12-2022",link:"lien vers video",id:"3",course:"5"}],pe=[{day:"Lundi",hours:"8h-10h",cover:"",id:"1",name:"Math",description:"Description programme de Math en CI",teacher:"1",link:"",language:"Francais",level:"CI"},{day:"Mardi",hours:"10h-12h",cover:"",id:"2",name:"Math",description:"Description programme de Math en CP",teacher:"1",link:"",language:"Francais",level:"CP"},{day:"Jeudi",hours:"8h-10h",cover:"",id:"3",name:"Histoire",description:"Description programme de Histoire en 6e",teacher:"2",link:"",language:"Francais",level:"6e"},{day:"Samedi",hours:"17h-19h",cover:"",id:"4",name:"Histoire",description:"Description programme de Histoire en 3e",teacher:"2",link:"",language:"Francais",level:"3e"},{day:"Mercredi",hours:"17h-19h",cover:"",id:"5",name:"Math",description:"Description programme de Math en 4e",teacher:"3",link:"",language:"Francais",level:"4e"},{day:"Mercredi",hours:"15h-17h",cover:"",id:"6",name:"PC",description:"Description programme de PC en 4e",teacher:"3",link:"",language:"Francais",level:"4e"},{day:"Mardi",hours:"8h-10h",cover:"",id:"7",name:"Math",description:"Description programme de Math en CM2",teacher:"4",link:"",language:"Francais",level:"CM2"},{day:"Samedi",hours:"15h-17h",cover:"",id:"8",name:"Francais",description:"francais pour les anglais ",teacher:"5",link:"",language:"Francais",level:"6e"}],V=[{level:"CI",firstname:"Papa",lastname:"Bar",email:"bounabamba@gmail.com",status:"inactif",courses:["5","6"],picture:"",id:"1"},{level:"CI",firstname:"Amdy",lastname:"Diop",email:"amdy@gmail.com",status:"inactif",courses:["5"],picture:"",id:"2"},{level:"CI",firstname:"Sidy",lastname:"Ndiaye",email:"sylla@gmail.com",status:"inactif",courses:["5","6"],picture:"",id:"3"},{level:"CI",firstname:"Papa",lastname:"Bar",email:"bounabamba@gmail.com",status:"inactif",courses:["5","6"],picture:"",id:"1"},{level:"CI",firstname:"Amdy",lastname:"Diop",email:"amdy@gmail.com",status:"inactif",courses:["5"],picture:"",id:"2"},{level:"CI",firstname:"Sidy",lastname:"Ndiaye",email:"sylla@gmail.com",status:"inactif",courses:["5","6"],picture:"",id:"3"},{level:"CI",firstname:"Papa",lastname:"Bar",email:"bounabamba@gmail.com",status:"inactif",courses:["5","6"],picture:"",id:"1"},{level:"CI",firstname:"Amdy",lastname:"Diop",email:"amdy@gmail.com",status:"inactif",courses:["5"],picture:"",id:"2"},{level:"CI",firstname:"Sidy",lastname:"Ndiaye",email:"sylla@gmail.com",status:"inactif",courses:["5","6"],picture:"",id:"3"},{level:"CI",firstname:"Papa",lastname:"Bar",email:"bounabamba@gmail.com",status:"inactif",courses:["5","6"],picture:"",id:"1"},{level:"CI",firstname:"Amdy",lastname:"Diop",email:"amdy@gmail.com",status:"inactif",courses:["5"],picture:"",id:"2"},{level:"CI",firstname:"Sidy",lastname:"Ndiaye",email:"sylla@gmail.com",status:"inactif",courses:["5","6"],picture:"",id:"3"},{level:"CI",firstname:"Papa",lastname:"Bar",email:"bounabamba@gmail.com",status:"inactif",courses:["5","6"],picture:"",id:"1"},{level:"CI",firstname:"Amdy",lastname:"Diop",email:"amdy@gmail.com",status:"inactif",courses:["5"],picture:"",id:"2"},{level:"CI",firstname:"Sidy",lastname:"Ndiaye",email:"sylla@gmail.com",status:"inactif",courses:["5","6"],picture:"",id:"3"},{level:"CI",firstname:"Papa",lastname:"Bar",email:"bounabamba@gmail.com",status:"inactif",courses:["5","6"],picture:"",id:"1"},{level:"CI",firstname:"Amdy",lastname:"Diop",email:"amdy@gmail.com",status:"inactif",courses:["5"],picture:"",id:"2"},{level:"CI",firstname:"Sidy",lastname:"Ndiaye",email:"sylla@gmail.com",status:"inactif",courses:["5","6"],picture:"",id:"3"},{level:"CI",firstname:"Papa",lastname:"Bar",email:"bounabamba@gmail.com",status:"inactif",courses:["5","6"],picture:"",id:"1"},{level:"CI",firstname:"Amdy",lastname:"Diop",email:"amdy@gmail.com",status:"inactif",courses:["5"],picture:"",id:"2"},{level:"CI",firstname:"Sidy",lastname:"Ndiaye",email:"sylla@gmail.com",status:"inactif",courses:["5","6"],picture:"",id:"3"},{level:"CI",firstname:"Papa",lastname:"Bar",email:"bounabamba@gmail.com",status:"inactif",courses:["5","6"],picture:"",id:"1"},{level:"CI",firstname:"Amdy",lastname:"Diop",email:"amdy@gmail.com",status:"inactif",courses:["5"],picture:"",id:"2"},{level:"CI",firstname:"Sidy",lastname:"Ndiaye",email:"sylla@gmail.com",status:"inactif",courses:["5","6"],picture:"",id:"3"}]},6082:(kt,Ze,P)=>{P.d(Ze,{Y:()=>Ie});var f=P(4650),h=P(2451),C=P(9051),pe=P(6895);function V(ye,le){if(1&ye&&(f.TgZ(0,"div",12)(1,"div",13),f._UZ(2,"video",14),f.qZA(),f.TgZ(3,"div",15)(4,"p"),f._uU(5),f.qZA(),f.TgZ(6,"p"),f._uU(7),f.qZA()()()),2&ye){const re=le.$implicit;f.xp6(1),f.Q6J("routerLink","/etud/videos/voir/"+re.id),f.xp6(1),f.Q6J("src",re.link,f.LSH),f.xp6(3),f.hij("Titre: ",re.name," "),f.xp6(2),f.hij("Description: ",re.description," ")}}function _e(ye,le){1&ye&&(f.TgZ(0,"div",16),f._uU(1," Videos non disponible.\n"),f.qZA())}class Ie{constructor(le){this.studentService=le,this.idVideos=[],this.videos=[],this.fragVideos=[],this.page=1,this.numberOfElement=10}ngOnInit(){this.studentService.getCoursesVideo(this.course.id).subscribe(re=>{this.videos=[],re.forEach(te=>{this.videos.push(te.payload.doc.data())}),console.log(this.videos)}),this.fragVideos=[];let le=0;for(;le<this.videos.length&&le<this.page*this.numberOfElement;)this.fragVideos.push(this.videos[le]),le++}filter(le){}next(){if(this.videos.length>this.page*this.numberOfElement){this.fragVideos=[];let le=this.page*this.numberOfElement;for(;le<this.videos.length&&le<(this.page+1)*this.numberOfElement;)this.fragVideos.push(this.videos[le]),le++;this.page++}}previous(){if(this.page>1){this.page--,this.fragVideos=[];let le=(this.page-1)*this.numberOfElement;for(;le<this.videos.length&&le-(this.page-1)*this.numberOfElement<this.numberOfElement;)this.fragVideos.push(this.videos[le]),le++}}}Ie.\u0275fac=function(le){return new(le||Ie)(f.Y36(h.V))},Ie.\u0275cmp=f.Xpm({type:Ie,selectors:[["app-video-list"]],inputs:{idVideos:"idVideos",course:"course"},decls:16,vars:3,consts:[[1,"flex","items-center"],[1,""],[1,"flex-1"],[1,"flex","justify-between","items-center","flex-1"],[1,"flex","h-10","items-center","text-amber-400",3,"click"],["fill","#FBBF24","width","2.5rem","clip-rule","evenodd","fill-rule","evenodd","stroke-linejoin","round","stroke-miterlimit","2","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg"],["d","m13.789 7.155c.141-.108.3-.157.456-.157.389 0 .755.306.755.749v8.501c0 .445-.367.75-.755.75-.157 0-.316-.05-.457-.159-1.554-1.203-4.199-3.252-5.498-4.258-.184-.142-.29-.36-.29-.592 0-.23.107-.449.291-.591 1.299-1.002 3.945-3.044 5.498-4.243z"],[1,"flex","items-center","h-10","text-amber-400",3,"click"],["d","m10.211 7.155c-.141-.108-.3-.157-.456-.157-.389 0-.755.306-.755.749v8.501c0 .445.367.75.755.75.157 0 .316-.05.457-.159 1.554-1.203 4.199-3.252 5.498-4.258.184-.142.29-.36.29-.592 0-.23-.107-.449-.291-.591-1.299-1.002-3.945-3.044-5.498-4.243z"],[1,"flex","items-center","space-x-2","overflow-hidden"],["class","flex flex-wrap md:flex-nowrap md:space-x-3 p-2 my-3",4,"ngFor","ngForOf"],["class","h-16 flex text-sm items-center justify-center",4,"ngIf"],[1,"flex","flex-wrap","md:flex-nowrap","md:space-x-3","p-2","my-3"],[3,"routerLink"],["alt","",1,"w-auto","h-32",3,"src"],[1,"text-sm","w-52"],[1,"h-16","flex","text-sm","items-center","justify-center"]],template:function(le,re){1&le&&(f.TgZ(0,"div",0)(1,"p",1),f._uU(2),f.qZA(),f.TgZ(3,"div",2)(4,"div",3)(5,"button",4),f.NdJ("click",function(){return re.previous()}),f.O4$(),f.TgZ(6,"svg",5),f._UZ(7,"path",6),f.qZA(),f._uU(8," pr\xe9cedent "),f.qZA(),f.kcU(),f.TgZ(9,"button",7),f.NdJ("click",function(){return re.next()}),f._uU(10," suivant "),f.O4$(),f.TgZ(11,"svg",5),f._UZ(12,"path",8),f.qZA()()()()(),f.kcU(),f.TgZ(13,"div",9),f.YNc(14,V,8,4,"div",10),f.qZA(),f.YNc(15,_e,2,0,"div",11)),2&le&&(f.xp6(2),f.Oqu(re.course.name),f.xp6(12),f.Q6J("ngForOf",re.videos),f.xp6(1),f.Q6J("ngIf",null==re.videos[0]))},dependencies:[C.rH,pe.sg,pe.O5]})},7363:(kt,Ze,P)=>{P.d(Ze,{u:()=>ye});var f=P(4650),h=P(9051),C=P(2451),pe=P(6895),V=P(433),_e=P(6082);function Ie(le,re){if(1&le&&f._UZ(0,"app-video-list",18),2&le){const te=f.oxw();f.Q6J("course",te.course)}}class ye{constructor(re,te){this.router=re,this.studentService=te,this.video={},this.course={}}ngOnInit(){this.studentService.getVideo(this.router.snapshot.params.id).subscribe(te=>{te.forEach(me=>{this.video=me.payload.doc.data()}),this.studentService.getCourse(this.video.course).subscribe(me=>{me.forEach(nt=>{this.course=nt.payload.doc.data()})})})}filter(re){}}ye.\u0275fac=function(re){return new(re||ye)(f.Y36(h.gz),f.Y36(C.V))},ye.\u0275cmp=f.Xpm({type:ye,selectors:[["app-video-view"]],decls:29,vars:4,consts:[[1,"md:pt-20","md:w-11/12","mx-auto"],[1,"mb-10","font-extrabold","text-center","flex","justify-center","items-center","py-4","rounded-[20px]","text-white","md:text-3xl","text-xl","bg-amber-400","w-full"],[1,"h-full","w-auto","bg-white","p-10"],["alt","","controls","",1,"h-full","w-auto","mx-auto",3,"src"],[1,"mt-4","pt-4","border-t"],[1,"font-semibold","underline"],["action","",1,"flex","md:space-x-4","items-center","justify-center"],[1,"md:my-10","my-6"],[1,"flex","md:space-x-4","items-center"],[1,"relative","z-0"],["type","text","id","floating_standard","placeholder"," ",1,"md:w-80","block","py-2.5","px-0","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["search",""],["for","floating_standard",1,"w-80","absolute","text-sm","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:left-0","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],[1,"p-2.5","ml-2","text-sm","font-medium","text-white","bg-amber-400","rounded-lg","border","hover:bg-amber-500","focus:ring-4","focus:outline-none","focus:ring-amber-300",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"sr-only"],[3,"course",4,"ngIf"],[3,"course"]],template:function(re,te){if(1&re){const me=f.EpF();f.TgZ(0,"div",0)(1,"div",1),f._uU(2," Vid\xe9os "),f.qZA(),f.TgZ(3,"div",2)(4,"div"),f._UZ(5,"video",3),f.qZA(),f.TgZ(6,"div",4)(7,"p")(8,"span",5),f._uU(9,"Titre :"),f.qZA(),f._uU(10),f.qZA(),f.TgZ(11,"p")(12,"span",5),f._uU(13,"Description :"),f.qZA(),f._uU(14),f.qZA()()(),f.TgZ(15,"form",6)(16,"div",7)(17,"div",8)(18,"div",9),f._UZ(19,"input",10,11),f.TgZ(21,"label",12),f._uU(22,"Rechercher..."),f.qZA()(),f.TgZ(23,"button",13),f.NdJ("click",function(){f.CHM(me);const ze=f.MAs(20);return f.KtG(te.filter(ze.value))}),f.O4$(),f.TgZ(24,"svg",14),f._UZ(25,"path",15),f.qZA(),f.kcU(),f.TgZ(26,"span",16),f._uU(27,"Search"),f.qZA()()()()(),f.YNc(28,Ie,1,1,"app-video-list",17),f.qZA()}2&re&&(f.xp6(5),f.Q6J("src",te.video.link,f.LSH),f.xp6(5),f.hij(" ",te.video.name," "),f.xp6(4),f.hij(" ",te.video.description," "),f.xp6(14),f.Q6J("ngIf",te.course.id))},dependencies:[pe.O5,V._Y,V.JL,_e.Y]})},2451:(kt,Ze,P)=>{P.d(Ze,{V:()=>_e});var f=P(4650),h=P(2095),C=P(1205),pe=P(377),V=P(9051);class _e{constructor(ye,le,re,te){this.fireStore=ye,this.fireAuth=le,this.storage=re,this.router=te}getStudent(){let ye=localStorage.getItem("login");return(!ye||"admin"===localStorage.getItem("user")||"teacher"===localStorage.getItem("user"))&&this.router.navigate(["/"]),this.fireStore.collection("Students",le=>le.where("uid","==",ye)).snapshotChanges()}getCoursesById(ye){return this.fireStore.collection("Courses",le=>le.where("id","==",ye)).snapshotChanges()}getStudentCourses(ye){return this.fireStore.collection("Courses",le=>le.where("level","==",ye)).snapshotChanges()}getCoursesByLevel(ye){return this.fireStore.collection("Courses",le=>le.where("level","==",ye)).snapshotChanges()}getCourseObjectId(ye){return this.fireStore.collection("Courses",le=>le.where("id","==",ye)).get()}getStudentObjectId(ye){return this.fireStore.collection("Students",le=>le.where("id","==",ye)).get()}getCourseTeacher(ye){return this.fireStore.collection("Teachers",le=>le.where("email","==",ye)).get()}getCoursesVideo(ye){return this.fireStore.collection("Videos",le=>le.where("course","==",ye)).snapshotChanges()}registerOnCourse(ye,le){return this.fireStore.collection("Students").doc(ye).update({courses:le})}getVideo(ye){return this.fireStore.collection("Videos",le=>le.where("id","==",ye)).snapshotChanges()}getCourse(ye){return this.fireStore.collection("Courses",le=>le.where("id","==",ye)).snapshotChanges()}}_e.\u0275fac=function(ye){return new(ye||_e)(f.LFG(h.ST),f.LFG(C.zQ),f.LFG(pe.Q1),f.LFG(V.F0))},_e.\u0275prov=f.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})},2334:(kt,Ze,P)=>{P.r(Ze),P.d(Ze,{StudentRoutingModule:()=>he});var f=P(7363),h=P(433),C=P(4650),pe=P(9051),V=P(2451),_e=P(6895);function Ie(Oe,Y){1&Oe&&(C.TgZ(0,"p",15)(1,"a",16),C._uU(2,"Modifier le mot de passe ?"),C.qZA()())}const ye=function(Oe){return{"p-1 px-6 text-xl font-semibold border rounded-xl text-amber-400 ":!0,"bg-green-500 text-white py-1 border-none rounded cursor-pointer":Oe}};function le(Oe,Y){if(1&Oe){const se=C.EpF();C.TgZ(0,"form",17),C.NdJ("ngSubmit",function(){C.CHM(se);const De=C.oxw();return C.KtG(De.submitPassword())}),C.TgZ(1,"p",18),C._uU(2,"Modifier le mot de passe "),C.qZA(),C.TgZ(3,"div",19),C._UZ(4,"input",20),C.TgZ(5,"label",11),C._uU(6,"Mot de passe"),C.qZA()(),C.TgZ(7,"div",19),C._UZ(8,"input",21),C.TgZ(9,"label",11),C._uU(10,"Confirmer le mot de passe"),C.qZA()(),C.TgZ(11,"div",2),C._UZ(12,"input",22),C.qZA()()}if(2&Oe){const se=C.oxw();C.Q6J("formGroup",se.formPassword),C.xp6(12),C.Q6J("disabled",se.formPassword.invalid&&!se.modifier)("ngClass",C.VKq(3,ye,!se.formPassword.invalid))}}class re{constructor(Y,se,ae){this.formBuilder=Y,this.router=se,this.studentService=ae,this.form=new h.cw({name:new h.NI,email:new h.NI}),this.formPassword=new h.cw({password:new h.NI,confirmPassword:new h.NI}),this.isAuth=!1,this.modifier=!1}ngOnInit(){this.code=this.router.snapshot.queryParams.oobCode,console.log(this.code),this.code&&(this.modifier=!0),console.log(this.modifier),this.studentService.getStudent().subscribe(Y=>{Y.forEach(se=>{this.student=se.payload.doc.data()}),this.initForm(this.student)}),this.initPasswordForm()}initForm(Y){this.form=this.formBuilder.group({name:[{value:Y.name,disabled:!0},h.kI.required],email:[{value:Y.email,disabled:!0}]})}initPasswordForm(){this.formPassword=this.formBuilder.group({password:[{value:"",disabled:!this.modifier},[h.kI.required,h.kI.pattern(/(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/)]],confirmPassword:[{value:"",disabled:!this.modifier},h.kI.required]})}submitPassword(){let se=this.formPassword.get("password")?.value,ae=this.formPassword.get("password")?.value;se===ae&&console.log(this.student)}}re.\u0275fac=function(Y){return new(Y||re)(C.Y36(h.qu),C.Y36(pe.gz),C.Y36(V.V))},re.\u0275cmp=C.Xpm({type:re,selectors:[["app-profile"]],decls:22,vars:4,consts:[[1,"relative","top-0","md:pt-30","pt-20","flex","flex-col","md:w-11/12","mx-auto","items-center","justify-center"],[1,"mb-10","font-extrabold","text-center","flex","justify-center","items-center","md:mx-0","py-4","rounded-[20px]","text-white","text-4xl","bg-amber-400","w-full"],[1,""],[1,"flex","flex-wrap","items-center","justify-center","mb-4"],[1,"w-80","h-80","rounded-full","bg-amber-200"],["src","","alt","logo"],[1,"md:w-auto","w-full","p-4","space-y-8",3,"formGroup"],[1,"md:text-3xl","text-xl","md:text-center","mt-2","text-amber-400","font-bold"],[1,"text-red-400"],[1,"relative","z-0","md:mx-2","md:w-full"],["formControlName","name","type","text","id","floating_standard","placeholder"," ",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["for","floating_standard",1,"absolute","text-sm","text-gray-400","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:left-0","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],["formControlName","email","type","email","id","floating_standard","placeholder"," ",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["class","w-full text-end p-4 pt-0 text-blue-400",4,"ngIf"],["class","w-full space-y-5 p-4",3,"formGroup","ngSubmit",4,"ngIf"],[1,"w-full","text-end","p-4","pt-0","text-blue-400"],["href",""],[1,"w-full","space-y-5","p-4",3,"formGroup","ngSubmit"],[1,"text-xl","mt-2","text-amber-400","font-bold"],[1,"relative","z-0","w-full"],["formControlName","password","type","password","id","floating_standard","placeholder"," ",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["formControlName","confirmPassword","type","password","id","floating_standard","placeholder"," ",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["type","submit","value","Modifier",3,"disabled","ngClass"]],template:function(Y,se){1&Y&&(C.TgZ(0,"div",0)(1,"div",1),C._uU(2," Profil "),C.qZA(),C.TgZ(3,"div",2)(4,"div",3)(5,"div",4),C._UZ(6,"img",5),C.qZA(),C.TgZ(7,"form",6)(8,"p",7),C._uU(9,"Informations personnelles"),C.qZA(),C.TgZ(10,"p",8),C._uU(11),C.qZA(),C.TgZ(12,"div",9),C._UZ(13,"input",10),C.TgZ(14,"label",11),C._uU(15,"Pseudo"),C.qZA()(),C.TgZ(16,"div",9),C._UZ(17,"input",12),C.TgZ(18,"label",11),C._uU(19,"Email"),C.qZA()()()(),C.YNc(20,Ie,3,0,"p",13),C.YNc(21,le,13,5,"form",14),C.qZA()()),2&Y&&(C.xp6(7),C.Q6J("formGroup",se.form),C.xp6(4),C.Oqu(se.errorMessage),C.xp6(9),C.Q6J("ngIf",!se.modifier),C.xp6(1),C.Q6J("ngIf",se.modifier))},dependencies:[_e.mk,_e.O5,h._Y,h.Fj,h.JJ,h.JL,h.sg,h.u]});var te=P(6082);function me(Oe,Y){if(1&Oe&&(C.TgZ(0,"div"),C._UZ(1,"app-video-list",14),C.qZA()),2&Oe){const se=Y.$implicit;C.xp6(1),C.Q6J("course",se)}}class nt{constructor(Y,se){this.studentService=Y,this.router=se,this.currentLink="CI",this.courses=[],this.message="",this.fragCourses=[],this.page=1,this.numberOfElement=10}ngOnInit(){this.studentService.getStudent().subscribe(Y=>{Y.forEach(se=>{this.student=se.payload.doc.data()}),this.studentService.getStudentCourses(this.student.level).subscribe(se=>{this.courses=[],console.log(this.student.option),se.forEach(ae=>{ae.payload.doc.data().option===this.student.option&&this.courses.push(ae.payload.doc.data())})})})}getCourseVideos(Y){}getEvent(Y){}filter(Y){}previous(){}next(){}}function ze(Oe,Y){if(1&Oe&&(C.TgZ(0,"th",6),C._uU(1),C.qZA()),2&Oe){const se=Y.$implicit;C.xp6(1),C.Oqu(se)}}function Ke(Oe,Y){if(1&Oe&&(C.TgZ(0,"p",11)(1,"a",12),C._uU(2),C.qZA()()),2&Oe){const se=Y.$implicit;C.xp6(1),C.Q6J("href",se.link,C.LSH),C.xp6(1),C.Oqu(se.name)}}function lt(Oe,Y){if(1&Oe&&(C.TgZ(0,"td",8),C.YNc(1,Ke,3,2,"p",10),C.qZA()),2&Oe){const se=Y.$implicit,ae=C.oxw().$implicit,De=C.oxw();C.xp6(1),C.Q6J("ngForOf",De.getCourses(se,ae))}}function Ne(Oe,Y){if(1&Oe&&(C.TgZ(0,"tr",7)(1,"td",8),C._uU(2),C.qZA(),C.YNc(3,lt,2,1,"td",9),C.qZA()),2&Oe){const se=Y.$implicit,ae=C.oxw();C.xp6(2),C.Oqu(se),C.xp6(1),C.Q6J("ngForOf",ae.days)}}function xe(Oe,Y){if(1&Oe&&(C.TgZ(0,"p",11)(1,"a",12),C._uU(2),C.qZA()()),2&Oe){const se=Y.$implicit;C.xp6(1),C.Q6J("href",se.link,C.LSH),C.xp6(1),C.Oqu(se.name)}}function Ve(Oe,Y){if(1&Oe&&(C.TgZ(0,"div",16)(1,"p",17),C._uU(2),C.qZA(),C.YNc(3,xe,3,2,"p",10),C.qZA()),2&Oe){const se=Y.$implicit,ae=C.oxw().$implicit,De=C.oxw();C.xp6(2),C.Oqu(se),C.xp6(1),C.Q6J("ngForOf",De.getCourses(ae,se))}}function Xe(Oe,Y){if(1&Oe&&(C.TgZ(0,"div",7)(1,"p",13),C._uU(2),C.qZA(),C.TgZ(3,"div",14),C.YNc(4,Ve,4,2,"div",15),C.qZA()()),2&Oe){const se=Y.$implicit,ae=C.oxw();C.xp6(2),C.hij("-",se,""),C.xp6(2),C.Q6J("ngForOf",ae.hours)}}nt.\u0275fac=function(Y){return new(Y||nt)(C.Y36(V.V),C.Y36(pe.gz))},nt.\u0275cmp=C.Xpm({type:nt,selectors:[["app-video"]],decls:18,vars:1,consts:[[1,"md:pt-20","md:w-11/12","mx-auto"],[1,"mb-10","font-extrabold","text-center","flex","justify-center","items-center","py-4","rounded-[20px]","text-white","md:text-3xl","text-xl","bg-amber-400","w-full"],["action","",1,"flex","md:space-x-4","items-center","justify-center"],[1,"md:my-10","my-6"],[1,"flex","md:space-x-4","items-center"],[1,"relative","z-0"],["type","text","id","floating_standard","placeholder"," ",1,"md:w-80","block","py-2.5","px-0","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["search",""],["for","floating_standard",1,"w-80","absolute","text-sm","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:left-0","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],[1,"p-2.5","ml-2","text-sm","font-medium","text-white","bg-amber-400","rounded-lg","border","hover:bg-amber-500","focus:ring-4","focus:outline-none","focus:ring-amber-300",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"sr-only"],[4,"ngFor","ngForOf"],[3,"course"]],template:function(Y,se){if(1&Y){const ae=C.EpF();C.TgZ(0,"div",0)(1,"div",1),C._uU(2," Vid\xe9os "),C.qZA(),C.TgZ(3,"form",2)(4,"div",3)(5,"div",4)(6,"div",5),C._UZ(7,"input",6,7),C.TgZ(9,"label",8),C._uU(10,"Rechercher..."),C.qZA()(),C.TgZ(11,"button",9),C.NdJ("click",function(){C.CHM(ae);const ft=C.MAs(8);return C.KtG(se.filter(ft.value))}),C.O4$(),C.TgZ(12,"svg",10),C._UZ(13,"path",11),C.qZA(),C.kcU(),C.TgZ(14,"span",12),C._uU(15,"Search"),C.qZA()()()()(),C.TgZ(16,"div"),C.YNc(17,me,2,1,"div",13),C.qZA()()}2&Y&&(C.xp6(17),C.Q6J("ngForOf",se.courses))},dependencies:[_e.sg,h._Y,h.JL,te.Y]});class oe{constructor(Y){this.studentService=Y,this.days=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],this.hours=["8h-10h","10h-12h","15h-17h","17h-19h","20h-22h"],this.student={},this.courses=[]}ngOnInit(){this.studentService.getStudent().subscribe(Y=>{Y.forEach(se=>{this.student=se.payload.doc.data()}),this.studentService.getStudentCourses(this.student.level).subscribe(se=>{this.courses=[],se.forEach(ae=>{this.courses.push(ae.payload.doc.data())})})})}getCourses(Y,se){return this.courses.filter(ae=>ae.hours==se&&Y==ae.day)}}function He(Oe,Y){if(1&Oe&&(C.O4$(),C.kcU(),C.TgZ(0,"div",23)(1,"div",24)(2,"div",25)(3,"div",26),C._UZ(4,"img",27),C.qZA(),C.TgZ(5,"div",28)(6,"p",29),C._uU(7),C.qZA(),C.TgZ(8,"p"),C._uU(9),C.TgZ(10,"span"),C._uU(11),C.qZA()()(),C.TgZ(12,"div",30)(13,"p")(14,"span",31),C._uU(15,"Pr\xe9senter par :"),C.qZA(),C._uU(16),C.qZA()(),C.TgZ(17,"div",32)(18,"p",33)(19,"span",31),C._uU(20,"lien :"),C.qZA(),C.TgZ(21,"a",34),C._uU(22,"meeting"),C.qZA()(),C.TgZ(23,"button",35),C._uU(24,"voir vid\xe9os"),C.qZA()()(),C.TgZ(25,"div",36)(26,"p",37),C._uU(27,"Description :"),C.qZA(),C.TgZ(28,"p"),C._uU(29),C.qZA()()()()),2&Oe){const se=Y.$implicit;C.xp6(4),C.Q6J("src",se.picture,C.LSH),C.xp6(3),C.hij("",se.name," "),C.xp6(2),C.hij("Tous les ",se.day," \xe0 "),C.xp6(2),C.hij("",se.hours," "),C.xp6(5),C.hij(" ",se.teacherName," "),C.xp6(5),C.Q6J("href",se.link,C.LSH),C.xp6(8),C.hij("",se.description," ")}}oe.\u0275fac=function(Y){return new(Y||oe)(C.Y36(V.V))},oe.\u0275cmp=C.Xpm({type:oe,selectors:[["app-calendar"]],decls:11,vars:3,consts:[[1,"relative","top-0","pt-20","flex","flex-col","w-11/12","mx-auto","items-center","justify-center"],[1,"mb-10","font-extrabold","text-center","flex","justify-center","items-center","py-4","rounded-[20px]","text-white","md:text-3xl","text-xl","bg-amber-400","w-full"],[1,"md:table","hidden"],["class","border py-4 text-amber-500 text-xl w-44",4,"ngFor","ngForOf"],["class","",4,"ngFor","ngForOf"],[1,"md:hidden","w-full"],[1,"border","py-4","text-amber-500","text-xl","w-44"],[1,""],[1,"p-4","border"],["class","p-4 border",4,"ngFor","ngForOf"],["class","text-sm bg-gray-50 my-0.5 py-1",4,"ngFor","ngForOf"],[1,"text-sm","bg-gray-50","my-0.5","py-1"],[1,"text-blue-400","mr-1",3,"href"],[1,"ml-4","text-amber-500","text-xl"],[1,"flex","overflow-auto","scroll-m-1","pb-2"],["class","text-sm p-4 drop-shadow shadow bg-white m-2 rounded-[10px]",4,"ngFor","ngForOf"],[1,"text-sm","p-4","drop-shadow","shadow","bg-white","m-2","rounded-[10px]"],[1,"text-gray-500"]],template:function(Y,se){1&Y&&(C.TgZ(0,"div",0)(1,"div",1),C._uU(2," Emploi du temps "),C.qZA(),C.TgZ(3,"table",2)(4,"thead"),C._UZ(5,"th"),C.YNc(6,ze,2,1,"th",3),C.qZA(),C.TgZ(7,"tbody"),C.YNc(8,Ne,4,2,"tr",4),C.qZA()(),C.TgZ(9,"div",5),C.YNc(10,Xe,5,2,"div",4),C.qZA()()),2&Y&&(C.xp6(6),C.Q6J("ngForOf",se.days),C.xp6(2),C.Q6J("ngForOf",se.hours),C.xp6(2),C.Q6J("ngForOf",se.days))},dependencies:[_e.sg]});class Be{constructor(Y){this.studentService=Y,this.student={},this.courses=[],this.fragCourses=[],this.page=1,this.numberOfElement=10}ngOnInit(){this.studentService.getStudent().subscribe(Y=>{Y.forEach(se=>{this.student=se.payload.doc.data()}),this.studentService.getStudentCourses(this.student.level).subscribe(se=>{this.courses=[],console.log(this.student.option),se.forEach(De=>{console.log(De),De.payload.doc.data().option===this.student.option&&this.courses.push(De.payload.doc.data())}),this.fragCourses=[];let ae=0;for(;ae<this.courses.length&&ae<this.page*this.numberOfElement;)this.fragCourses.push(this.courses[ae]),ae++})})}filter(Y){}next(){if(this.courses.length>this.page*this.numberOfElement){this.fragCourses=[];let Y=this.page*this.numberOfElement;for(;Y<this.courses.length&&Y<(this.page+1)*this.numberOfElement;)this.fragCourses.push(this.courses[Y]),Y++;this.page++}}previous(){if(this.page>1){this.page--,this.fragCourses=[];let Y=(this.page-1)*this.numberOfElement;for(;Y<this.courses.length&&Y-(this.page-1)*this.numberOfElement<this.numberOfElement;)this.fragCourses.push(this.courses[Y]),Y++}}}Be.\u0275fac=function(Y){return new(Y||Be)(C.Y36(V.V))},Be.\u0275cmp=C.Xpm({type:Be,selectors:[["app-courses"]],decls:37,vars:1,consts:[[1,"flex","flex-col","items-center","justify-center","space-y-5","md:mb-10"],[1,"font-extrabold","text-center","flex","justify-center","items-center","px-20","rounded-[20px]","text-white","md:text-4xl","text-2xl","bg-amber-400","w-full"],["action","",1,"flex","md:space-x-4","items-center"],[1,"md:my-10","my-6"],[1,"flex","md:space-x-4","items-center"],[1,"relative","z-0"],["type","text","id","floating_standard","placeholder"," ",1,"md:w-80","block","py-2.5","px-0","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-amber-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["search",""],["for","floating_standard",1,"w-80","absolute","text-sm","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:left-0","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],[1,"p-2.5","ml-2","text-sm","font-medium","text-white","bg-amber-400","rounded-lg","border","hover:bg-amber-500","focus:ring-4","focus:outline-none","focus:ring-amber-300",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"sr-only"],[1,"md:w-11/12"],[1,"flex"],[1,"flex","justify-between","items-center","flex-1"],[1,"flex","h-10","items-center","text-amber-400",3,"click"],["fill","#FBBF24","width","2.5rem","clip-rule","evenodd","fill-rule","evenodd","stroke-linejoin","round","stroke-miterlimit","2","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg"],["d","m13.789 7.155c.141-.108.3-.157.456-.157.389 0 .755.306.755.749v8.501c0 .445-.367.75-.755.75-.157 0-.316-.05-.457-.159-1.554-1.203-4.199-3.252-5.498-4.258-.184-.142-.29-.36-.29-.592 0-.23.107-.449.291-.591 1.299-1.002 3.945-3.044 5.498-4.243z"],[1,"flex","items-center","h-10","text-amber-400",3,"click"],["d","m10.211 7.155c-.141-.108-.3-.157-.456-.157-.389 0-.755.306-.755.749v8.501c0 .445.367.75.755.75.157 0 .316-.05.457-.159 1.554-1.203 4.199-3.252 5.498-4.258.184-.142.29-.36.29-.592 0-.23-.107-.449-.291-.591-1.299-1.002-3.945-3.044-5.498-4.243z"],["class","md:mx-0 mx-4 bg-white rounded-[20px] drop-shadow min-w-[340px] mb-5",4,"ngFor","ngForOf"],[1,"flex","justify-between","items-center"],[1,"md:mx-0","mx-4","bg-white","rounded-[20px]","drop-shadow","min-w-[340px]","mb-5"],[1,"w-full","p-4"],[1,"flex","flex-wrap","items-center","space-x-4"],[1,"pr-2","md:border-r"],["alt","",1,"min-h-24","max-h-24",3,"src"],["cclass","pr-2 md:border-r"],[1,"text-amber-500","text-3xl"],[1,"pr-2","md:border-r","space-y-2"],[1,"underline"],[1,"flex","items-center","space-x-4"],[1,""],[1,"ml-4","text-blue-400",3,"href"],[1,"text-white","font-bold","rounded","py-1","px-6","bg-blue-400"],[1,"mt-4"],[1,"underline","text-xl"]],template:function(Y,se){if(1&Y){const ae=C.EpF();C.TgZ(0,"section",0)(1,"div",1),C._uU(2," Mes Cours "),C.qZA(),C.TgZ(3,"form",2)(4,"div",3)(5,"div",4)(6,"div",5),C._UZ(7,"input",6,7),C.TgZ(9,"label",8),C._uU(10,"Rechercher..."),C.qZA()(),C.TgZ(11,"button",9),C.NdJ("click",function(){C.CHM(ae);const ft=C.MAs(8);return C.KtG(se.filter(ft.value))}),C.O4$(),C.TgZ(12,"svg",10),C._UZ(13,"path",11),C.qZA(),C.kcU(),C.TgZ(14,"span",12),C._uU(15,"Search"),C.qZA()()()()(),C.TgZ(16,"section",13)(17,"div",14)(18,"div",15)(19,"button",16),C.NdJ("click",function(){return se.previous()}),C.O4$(),C.TgZ(20,"svg",17),C._UZ(21,"path",18),C.qZA(),C._uU(22," pr\xe9cedent "),C.qZA(),C.kcU(),C.TgZ(23,"button",19),C.NdJ("click",function(){return se.next()}),C._uU(24," suivant "),C.O4$(),C.TgZ(25,"svg",17),C._UZ(26,"path",20),C.qZA()()()(),C.YNc(27,He,30,7,"div",21),C.kcU(),C.TgZ(28,"div",22)(29,"button",16),C.NdJ("click",function(){return se.previous()}),C.O4$(),C.TgZ(30,"svg",17),C._UZ(31,"path",18),C.qZA(),C._uU(32," pr\xe9cedent "),C.qZA(),C.kcU(),C.TgZ(33,"button",19),C.NdJ("click",function(){return se.next()}),C._uU(34," suivant "),C.O4$(),C.TgZ(35,"svg",17),C._UZ(36,"path",20),C.qZA()()()()()}2&Y&&(C.xp6(27),C.Q6J("ngForOf",se.fragCourses))},dependencies:[_e.sg,h._Y,h.JL]});class at{constructor(Y,se){this.studentService=Y,this.router=se,this.currentLink="CI",this.courses=[],this.message="",this.levelLink=[{name:"CI",value:"CI"},{name:"CP",value:"CP"},{name:"CE1",value:"CE1"},{name:"CE2",value:"CE2"},{name:"CM1",value:"CM1"},{name:"CM2",value:"CM2"},{name:"6e",value:"6e"},{name:"5e",value:"5e"},{name:"4e",value:"4e"},{name:"3e",value:"3e"},{name:"Second",value:"Second"},{name:"Premi\xe8re",value:"Premi\xe8re"},{name:"Terminale",value:"Terminale"}],this.coursesList=["Math\xe9matique","Physique Chimie","Science de la vie et de la terre","Philosophie","Informatique","Litt\xe9rature","Histoire","G\xe9ographie","\xc9conomie social","Allemand","Fran\xe7ais","Anglais","Espagnol","Arabe","Espagnol","Autre"]}ngOnInit(){this.studentService.getStudent().subscribe(Y=>{Y.forEach(se=>{this.student=se.payload.doc.data()})}),this.router.params.subscribe(Y=>{})}register(Y){let ae,se=this.student.courses;se.push(Y),console.log(se),this.studentService.getStudentObjectId(this.student.id).forEach(De=>{De.forEach(ft=>{ae=ft.id})}).then(De=>{this.studentService.registerOnCourse(ae,se).then(ft=>{this.message=""},ft=>{this.message=""})},De=>{this.message="",console.log("errrr")})}getEvent(Y){this.register(Y)}}at.\u0275fac=function(Y){return new(Y||at)(C.Y36(V.V),C.Y36(pe.gz))},at.\u0275cmp=C.Xpm({type:at,selectors:[["app-home"]],decls:50,vars:0,consts:[[1,"md:py-32","pt-32","pb-2","min-h-screen","px-4"],[1,"relative","bg-gray-100","w-11/12","mx-auto","flex","items-center","shadow","h-[45vh]","rounded-[40px]","overflow-hidden"],[1,"block","left-0","w-1/12","p-8","absolute","z-10"],["version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 451.847 451.847",0,"xml","space","preserve",2,"enable-background","new 0 0 451.847 451.847"],["d","M97.141,225.92c0-8.095,3.091-16.192,9.259-22.366L300.689,9.27c12.359-12.359,32.397-12.359,44.751,0\n                    c12.354,12.354,12.354,32.388,0,44.748L173.525,225.92l171.903,171.909c12.354,12.354,12.354,32.391,0,44.744\n                    c-12.354,12.365-32.386,12.365-44.745,0l-194.29-194.281C100.226,242.115,97.141,234.018,97.141,225.92z"],[1,"relative","flex-1","h-full","flex","items-center","justify-center"],[1,""],[1,"space-x-10","flex","items-center","bottom-10","absolute"],[1,"w-4","h-4","bg-amber-400","rounded-full"],[1,"absolute","right-0","rotate-180","block","w-1/12","p-8"],[1,"bg-white","rounded-[20px]","pt-8"]],template:function(Y,se){1&Y&&(C.TgZ(0,"div",0)(1,"section",1)(2,"button",2),C.O4$(),C.TgZ(3,"svg",3)(4,"g"),C._UZ(5,"path",4),C.qZA(),C._UZ(6,"g")(7,"g")(8,"g")(9,"g")(10,"g")(11,"g")(12,"g")(13,"g")(14,"g")(15,"g")(16,"g")(17,"g")(18,"g")(19,"g")(20,"g"),C.qZA()(),C.kcU(),C.TgZ(21,"div",5),C._UZ(22,"div",6)(23,"div")(24,"div"),C.TgZ(25,"div",7),C._UZ(26,"button",8)(27,"button",8)(28,"button",8),C.qZA()(),C.TgZ(29,"button",9),C.O4$(),C.TgZ(30,"svg",3)(31,"g"),C._UZ(32,"path",4),C.qZA(),C._UZ(33,"g")(34,"g")(35,"g")(36,"g")(37,"g")(38,"g")(39,"g")(40,"g")(41,"g")(42,"g")(43,"g")(44,"g")(45,"g")(46,"g")(47,"g"),C.qZA()()(),C.kcU(),C.TgZ(48,"div",10),C._UZ(49,"app-courses"),C.qZA()())},dependencies:[Be]});const Qe=[{path:"accueil",component:at},{path:"activite",component:oe},{path:"cours",component:Be},{path:"profil",component:re},{path:"videos",component:nt},{path:"videos/voir/:id",component:f.u},{path:"*",component:at}];class he{}he.\u0275fac=function(Y){return new(Y||he)},he.\u0275mod=C.oAB({type:he}),he.\u0275inj=C.cJS({imports:[pe.Bz.forChild(Qe),pe.Bz]})},521:(kt,Ze,P)=>{var f=P(1481),h=P(433),C=P(9051),pe=P(6895),V=P(4650);class _e{constructor(qe){this.renderer=qe,this.renderer.listen("window","resize",Le=>{this.screenSize=window.innerWidth})}getLocalData(qe){return localStorage.getItem(qe)}setLocalData(qe,Le){localStorage.setItem(qe,Le)}clearLocalData(){localStorage.clear()}}_e.\u0275fac=function(qe){return new(qe||_e)(V.LFG(V.Qsj))},_e.\u0275prov=V.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"});class Ie{}Ie.\u0275fac=function(qe){return new(qe||Ie)},Ie.\u0275mod=V.oAB({type:Ie}),Ie.\u0275inj=V.cJS({providers:[_e],imports:[pe.ez,C.Bz]});class ye{}ye.\u0275fac=function(qe){return new(qe||ye)},ye.\u0275mod=V.oAB({type:ye}),ye.\u0275inj=V.cJS({imports:[pe.ez,Ie,C.Bz,h.UX]});var le=P(5024),re=P(8639);class te{}te.\u0275fac=function(qe){return new(qe||te)},te.\u0275mod=V.oAB({type:te}),te.\u0275inj=V.cJS({providers:[le.l],imports:[pe.ez,h.UX,re.AdminRoutingModule,Ie]});var me=P(2334);class nt{}nt.\u0275fac=function(qe){return new(qe||nt)},nt.\u0275mod=V.oAB({type:nt}),nt.\u0275inj=V.cJS({imports:[me.StudentRoutingModule,pe.ez,h.UX,Ie]});var ze=P(7501),Ke=P(8796),lt=P(1205);class Ne{}Ne.\u0275fac=function(qe){return new(qe||Ne)},Ne.\u0275mod=V.oAB({type:Ne}),Ne.\u0275inj=V.cJS({providers:[ze.e],imports:[pe.ez,Ke.AuthRoutingModule,h.u5,h.UX,lt.ww]});class xe{canActivate(qe,Le){return"admin"===localStorage.getItem("user")}}xe.\u0275fac=function(qe){return new(qe||xe)},xe.\u0275prov=V.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"});class Ve{canActivate(qe,Le){return!!localStorage.getItem("login")}}Ve.\u0275fac=function(qe){return new(qe||Ve)},Ve.\u0275prov=V.Yz7({token:Ve,factory:Ve.\u0275fac,providedIn:"root"});const Xe=[{path:"",loadChildren:()=>Promise.resolve().then(P.bind(P,8796)).then(rt=>rt.AuthRoutingModule)},{path:"etud",canActivate:[Ve],loadChildren:()=>Promise.resolve().then(P.bind(P,2334)).then(rt=>rt.StudentRoutingModule)},{path:"en",canActivate:[Ve],loadChildren:()=>P.e(672).then(P.bind(P,3672)).then(rt=>rt.TeacherRoutingModule)},{path:"admin",canActivate:[xe],loadChildren:()=>Promise.resolve().then(P.bind(P,8639)).then(rt=>rt.AdminRoutingModule)}];class oe{}oe.\u0275fac=function(qe){return new(qe||oe)},oe.\u0275mod=V.oAB({type:oe}),oe.\u0275inj=V.cJS({imports:[C.Bz.forRoot(Xe),C.Bz]});const He=["toggleButton"],Be=["menu"],at=["tF"],Qe=["tF1"];function he(rt,qe){1&rt&&V._UZ(0,"img",15,16)}function Oe(rt,qe){1&rt&&V._UZ(0,"img",17,16)}const Y=function(rt,qe){return{"right-5 top-16 z-[5000] w-44 bg-white rounded divide-y divide-gray-100 shadow":!0,fixed:rt,hidden:qe}};function se(rt,qe){if(1&rt){const Le=V.EpF();V.TgZ(0,"div",3)(1,"button",4,5),V.NdJ("click",function(){V.CHM(Le);const Er=V.oxw(2);return V.KtG(Er.onDrop(!Er.isOpen))}),V.YNc(3,he,2,0,"img",6),V.YNc(4,Oe,2,0,"img",7),V.O4$(),V.TgZ(5,"svg",8,9),V._UZ(7,"path",10),V.qZA()(),V.kcU(),V.TgZ(8,"div",11,12)(10,"ul",13)(11,"li")(12,"a",14),V.NdJ("click",function(){V.CHM(Le);const Er=V.oxw(2);return V.KtG(Er.onLogout())}),V._uU(13,"Se d\xe9connecter"),V.qZA()()()()()}if(2&rt){const Le=V.oxw(2);V.xp6(3),V.Q6J("ngIf","admin"===Le.getUser()),V.xp6(1),V.Q6J("ngIf","admin"!==Le.getUser()),V.xp6(4),V.Q6J("ngClass",V.WLB(3,Y,Le.isOpen,!Le.isOpen))}}const ae=function(rt,qe,Le){return{"z-[100] fixed left-0 top-0 right-0 shadow flex items-center justify-between px-8 bg-white":!0,"p-1":rt,"p-6":qe,"left-[280px]":Le}},De=function(rt){return{"text-black text-xl":!0,"ml-8":rt}};function ft(rt,qe){if(1&rt&&(V.TgZ(0,"div",1)(1,"div",1),V._uU(2,"\xc9toiles d'afrique"),V.qZA(),V.YNc(3,se,14,6,"div",2),V.qZA()),2&rt){const Le=V.oxw();V.Q6J("ngClass",V.kEZ(3,ae,Le.isAuth(),!Le.isAuth(),Le.screenSize>=950&&Le.sideVisible)),V.xp6(1),V.Q6J("ngClass",V.VKq(7,De,Le.screenSize<950||!Le.sideVisible)),V.xp6(2),V.Q6J("ngIf",Le.isAuth())}}class mt{constructor(qe){this.renderer=qe,this.aLinks=[{name:"Etudiant",href:"admin/etudiants"},{name:"Enseignant",href:"admin/enseignants"}],this.tLinks=[{name:"Accueil",href:"en/cours"},{name:"Emploi du temps",href:"en/activite"},{name:"Mes Videos",href:"en/videos"}],this.sLinks=[{name:"Accueil",href:"etud/accueil"},{name:"Mes cours",href:"etud/cours"},{name:"Emploi du temps",href:"etud/activite"},{name:"Rediffusion",href:"etud/rediffusion"}],this.isOpen=!1,this.renderer.listen("window","click",Le=>{Le.target!==this.toggleButton.nativeElement&&Le.target!==this.list.nativeElement&&Le.target!==this.tF.nativeElement&&Le.target!==this.tF1.nativeElement&&(this.isOpen=!1)}),this.renderer.listen("window","resize",Le=>{this.screenSize=window.innerWidth})}ngOnInit(){this.screenSize=window.innerWidth}isAuth(){return!!localStorage.getItem("login")}getUser(){return localStorage.getItem("user")}onLogout(){localStorage.clear()}onClose(){this.isOpen=!1}onDrop(qe){this.isOpen=qe}}mt.\u0275fac=function(qe){return new(qe||mt)(V.Y36(V.Qsj))},mt.\u0275cmp=V.Xpm({type:mt,selectors:[["app-header"]],viewQuery:function(qe,Le){if(1&qe&&(V.Gf(He,5),V.Gf(Be,5),V.Gf(at,5),V.Gf(Qe,5)),2&qe){let Ut;V.iGM(Ut=V.CRH())&&(Le.toggleButton=Ut.first),V.iGM(Ut=V.CRH())&&(Le.list=Ut.first),V.iGM(Ut=V.CRH())&&(Le.tF=Ut.first),V.iGM(Ut=V.CRH())&&(Le.tF1=Ut.first)}},inputs:{sideVisible:"sideVisible"},decls:1,vars:1,consts:[[3,"ngClass",4,"ngIf"],[3,"ngClass"],["class","relative flex",4,"ngIf"],[1,"relative","flex"],["id","dropdownDefault","type","button",1,"font-medium","rounded-full","text-sm","px-4","py-2","text-center","flex","items-center","justify-center",3,"click"],["toggleButton",""],["src","assets/images/adminLogo.png","alt"," ","class","h-8 text-centerrounded-full",4,"ngIf"],["src","assets/images/user1.png","alt"," ","class","h-8 text-centerrounded-full",4,"ngIf"],["aria-hidden","true","fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"ml-2","w-4","h-4"],["tF1",""],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["id","dropdown",3,"ngClass"],["menu",""],["aria-labelledby","dropdownDefault",1,"py-1","text-sm","text-gray-700"],["href","/",1,"block","py-2","px-4","hover:bg-gray-100",3,"click"],["src","assets/images/adminLogo.png","alt"," ",1,"h-8","text-centerrounded-full"],["tF",""],["src","assets/images/user1.png","alt"," ",1,"h-8","text-centerrounded-full"]],template:function(qe,Le){1&qe&&V.YNc(0,ft,4,9,"div",0),2&qe&&V.Q6J("ngIf",Le.isAuth())},dependencies:[pe.mk,pe.O5]});const Ct=["sideBar"],Ot=["sideMenu"];function Yt(rt,qe){if(1&rt&&(V.TgZ(0,"li",14)(1,"a",15),V._uU(2),V.qZA()()),2&rt){const Le=qe.$implicit;V.xp6(1),V.Q6J("routerLink",Le.href),V.xp6(1),V.Oqu(Le.name)}}function Nt(rt,qe){if(1&rt&&(V.TgZ(0,"ul",12),V.YNc(1,Yt,3,2,"li",13),V.qZA()),2&rt){const Le=V.oxw(3);V.xp6(1),V.Q6J("ngForOf",Le.tLinks)}}function Lt(rt,qe){if(1&rt&&(V.TgZ(0,"li",14)(1,"a",16),V._uU(2),V.qZA()()),2&rt){const Le=qe.$implicit;V.xp6(1),V.Q6J("routerLink",Le.href),V.xp6(1),V.Oqu(Le.name)}}function Et(rt,qe){if(1&rt&&(V.TgZ(0,"ul",12),V.YNc(1,Lt,3,2,"li",13),V.qZA()),2&rt){const Le=V.oxw(3);V.xp6(1),V.Q6J("ngForOf",Le.aLinks)}}function Zt(rt,qe){if(1&rt&&(V.TgZ(0,"li",14)(1,"a",16),V._uU(2),V.qZA()()),2&rt){const Le=qe.$implicit;V.xp6(1),V.Q6J("routerLink",Le.href),V.xp6(1),V.Oqu(Le.name)}}function Wt(rt,qe){if(1&rt&&(V.TgZ(0,"ul",12),V.YNc(1,Zt,3,2,"li",13),V.qZA()),2&rt){const Le=V.oxw(3);V.xp6(1),V.Q6J("ngForOf",Le.sLinks)}}function bn(rt,qe){if(1&rt&&(V.TgZ(0,"div",7)(1,"div",8),V._UZ(2,"img",9),V.TgZ(3,"a",10),V._uU(4,"\xc9toile d'afrique"),V.qZA()(),V.YNc(5,Nt,2,1,"ul",11),V.YNc(6,Et,2,1,"ul",11),V.YNc(7,Wt,2,1,"ul",11),V.qZA()),2&rt){const Le=V.oxw(2);V.xp6(5),V.Q6J("ngIf",Le.isAuth()&&"teacher"===Le.getUser()),V.xp6(1),V.Q6J("ngIf",Le.isAuth()&&"admin"===Le.getUser()),V.xp6(1),V.Q6J("ngIf",Le.isAuth()&&"student"===Le.getUser())}}function Ht(rt,qe){1&rt&&(V.TgZ(0,"div",17),V._UZ(1,"img",18),V.TgZ(2,"div",19),V._uU(3," \xa9 2022 \xc9toile d'afrique, Inc. "),V.qZA()())}const On=function(rt,qe){return{"z-[1000] h-screen top-0   pl-4 fixed flex flex-col justify-between":!0,"w-[280px] bg-amber-400 pt-8":rt,"pt-2":qe}};function Nn(rt,qe){if(1&rt){const Le=V.EpF();V.TgZ(0,"div",2)(1,"div",3),V.NdJ("click",function(){V.CHM(Le);const Er=V.oxw();return V.KtG(Er.setSide())}),V._UZ(2,"img",4),V.qZA(),V.YNc(3,bn,8,3,"div",5),V.YNc(4,Ht,4,0,"div",6),V.qZA()}if(2&rt){const Le=V.oxw();V.Q6J("ngClass",V.WLB(3,On,Le.sideVisible,!Le.sideVisible)),V.xp6(3),V.Q6J("ngIf",Le.sideVisible),V.xp6(1),V.Q6J("ngIf",Le.sideVisible)}}function wr(rt,qe){if(1&rt&&(V.TgZ(0,"li",14)(1,"a",27),V._uU(2),V.qZA()()),2&rt){const Le=qe.$implicit;V.xp6(1),V.Q6J("routerLink",Le.href),V.xp6(1),V.Oqu(Le.name)}}function Pn(rt,qe){if(1&rt&&(V.TgZ(0,"ul",26),V.YNc(1,wr,3,2,"li",13),V.qZA()),2&rt){const Le=V.oxw(2);V.xp6(1),V.Q6J("ngForOf",Le.tLinks)}}function _r(rt,qe){if(1&rt&&(V.TgZ(0,"li",14)(1,"a",28),V._uU(2),V.qZA()()),2&rt){const Le=qe.$implicit;V.xp6(1),V.Q6J("routerLink",Le.href),V.xp6(1),V.Oqu(Le.name)}}function Pr(rt,qe){if(1&rt&&(V.TgZ(0,"ul",26),V.YNc(1,_r,3,2,"li",13),V.qZA()),2&rt){const Le=V.oxw(2);V.xp6(1),V.Q6J("ngForOf",Le.aLinks)}}function Jt(rt,qe){if(1&rt&&(V.TgZ(0,"li",14)(1,"a",28),V._uU(2),V.qZA()()),2&rt){const Le=qe.$implicit;V.xp6(1),V.Q6J("routerLink",Le.href),V.xp6(1),V.Oqu(Le.name)}}function Gn(rt,qe){if(1&rt&&(V.TgZ(0,"ul",26),V.YNc(1,Jt,3,2,"li",13),V.qZA()),2&rt){const Le=V.oxw(2);V.xp6(1),V.Q6J("ngForOf",Le.sLinks)}}const er=function(rt,qe){return{"top-16 z-[5000] w-screen bg-white rounded divide-y divide-gray-100 shadow":!0,fixed:rt,hidden:qe}};function An(rt,qe){if(1&rt){const Le=V.EpF();V.TgZ(0,"div")(1,"button",20),V.NdJ("click",function(){V.CHM(Le);const Er=V.oxw();return V.KtG(Er.onOpen(!Er.isOpen))}),V._UZ(2,"img",21,22),V.qZA(),V.TgZ(4,"div",23,24),V.YNc(6,Pn,2,1,"ul",25),V.YNc(7,Pr,2,1,"ul",25),V.YNc(8,Gn,2,1,"ul",25),V.qZA()()}if(2&rt){const Le=V.oxw();V.xp6(4),V.Q6J("ngClass",V.WLB(4,er,Le.isOpen,!Le.isOpen)),V.xp6(2),V.Q6J("ngIf",Le.isAuth()&&"teacher"===Le.getUser()),V.xp6(1),V.Q6J("ngIf",Le.isAuth()&&"admin"===Le.getUser()),V.xp6(1),V.Q6J("ngIf",Le.isAuth()&&"student"===Le.getUser())}}class Fe{constructor(qe){this.renderer=qe,this.aLinks=[{name:"Etudiant",href:"admin/etudiants"},{name:"Enseignant",href:"admin/enseignants"},{name:"Cours",href:"admin/cours"},{name:"Vid\xe9os",href:"admin/videos"}],this.tLinks=[{name:"Accueil",href:"en/accueil"},{name:"Emploi du temps",href:"en/activite"},{name:"Mes Videos",href:"en/videos"},{name:"Profil",href:"en/profil"}],this.sLinks=[{name:"Accueil",href:"etud/accueil"},{name:"Emploi du temps",href:"etud/activite"},{name:"Vid\xe9os",href:"etud/videos"},{name:"Profil",href:"etud/profil"}],this.visible=new V.vpe,this.sideVisible=!1,this.isOpen=!1,this.renderer.listen("window","resize",Le=>{this.screenSize=window.innerWidth}),this.renderer.listen("window","click",Le=>{Le.target!==this.toggleButton.nativeElement&&Le.target!==this.list.nativeElement&&(this.isOpen=!1,console.log(Le.target))})}ngOnInit(){this.screenSize=window.innerWidth,this.visible.emit(this.sideVisible)}setSide(){this.sideVisible=!this.sideVisible,this.visible.emit(this.sideVisible)}onOpen(qe){console.log(qe),this.isOpen=qe}isAuth(){return!!localStorage.getItem("login")}getUser(){return localStorage.getItem("user")}}function ie(rt,qe){if(1&rt){const Le=V.EpF();V.TgZ(0,"app-sidebar",5),V.NdJ("visible",function(Er){V.CHM(Le);const zn=V.oxw();return V.KtG(zn.getVisible(Er))}),V.qZA()}}Fe.\u0275fac=function(qe){return new(qe||Fe)(V.Y36(V.Qsj))},Fe.\u0275cmp=V.Xpm({type:Fe,selectors:[["app-sidebar"]],viewQuery:function(qe,Le){if(1&qe&&(V.Gf(Ct,5),V.Gf(Ot,5)),2&qe){let Ut;V.iGM(Ut=V.CRH())&&(Le.toggleButton=Ut.first),V.iGM(Ut=V.CRH())&&(Le.list=Ut.first)}},outputs:{visible:"visible"},decls:2,vars:2,consts:[[3,"ngClass",4,"ngIf"],[4,"ngIf"],[3,"ngClass"],[1,"mb-8",3,"click"],["src","assets/images/menu.png",1,"w-10","cursor-pointer"],["class","flex-1",4,"ngIf"],["class","mb-10",4,"ngIf"],[1,"flex-1"],[1,"flex","items-center","justify-start","space-x-4","pb-2","border-b","mr-4","border-white"],["src","","alt","logo"],["href","",1,"text-2xl","text-white","font-extrabold"],["class","mt-5",4,"ngIf"],[1,"mt-5"],["class","",4,"ngFor","ngForOf"],[1,""],["routerLinkActive","mr-0 rounded-r-none font-extrabold  text-amber-500 bg-opacity-100",1,"block","px-2","py-3","text-gray-900","bg-white","bg-opacity-20","mb-2","rounded-xl","mx-5","text-center",3,"routerLink"],["routerLinkActive","mr-0 rounded-r-none font-extrabold text-amber-500 bg-opacity-100",1,"block","px-2","py-3","text-gray-900","bg-white","bg-opacity-20","mb-2","rounded-xl","mx-5","text-center",3,"routerLink"],[1,"mb-10"],["src","","alt","logo",1,"bg-white","w-48","h-48","mx-auto"],[1,"mt-10","text-sm"],["id","dropdownDefault",1,"bg-red","fixed","top-4","left-4","z-[5000]",3,"click"],["src","assets/images/menu.png",1,"w-8","cursor-pointer"],["sideBar",""],["id","dropdown",3,"ngClass"],["sideMenu",""],["class","py-1 text-sm text-gray-700 bg-white","aria-labelledby","dropdownDefault",4,"ngIf"],["aria-labelledby","dropdownDefault",1,"py-1","text-sm","text-gray-700","bg-white"],["routerLinkActive"," rounded-r-none font-extrabold  text-amber-500 bg-opacity-100",1,"block","text-gray-900","bg-white","bg-opacity-20","py-3","rounded-xl","text-xl","text-center",3,"routerLink"],["routerLinkActive"," rounded-r-none font-extrabold text-amber-500 bg-opacity-100",1,"block","text-gray-900","bg-white","bg-opacity-20","py-3","rounded-xl","text-xl","text-center",3,"routerLink"]],template:function(qe,Le){1&qe&&(V.YNc(0,Nn,5,6,"div",0),V.YNc(1,An,9,7,"div",1)),2&qe&&(V.Q6J("ngIf",Le.screenSize>=950),V.xp6(1),V.Q6J("ngIf",Le.screenSize<950))},dependencies:[pe.mk,pe.sg,pe.O5,C.rH,C.Od]});const K=function(rt){return{"ml-[280px]":rt}};class ut{constructor(qe){this.renderer=qe,this.title="\xc9toiles d'afrique",this.sideVisible=!1,this.renderer.listen("window","resize",Le=>{this.screenSize=window.innerWidth})}isAuth(){return!!localStorage.getItem("login")}ngOnInit(){this.screenSize=window.innerWidth}getVisible(qe){this.sideVisible=qe}}ut.\u0275fac=function(qe){return new(qe||ut)(V.Y36(V.Qsj))},ut.\u0275cmp=V.Xpm({type:ut,selectors:[["app-root"]],decls:6,vars:5,consts:[[1,"overflow-hidden"],["role","main",1,"min-h-screen"],[3,"visible",4,"ngIf"],[3,"ngClass"],[3,"sideVisible"],[3,"visible"]],template:function(qe,Le){1&qe&&(V.TgZ(0,"div",0)(1,"div",1),V.YNc(2,ie,1,0,"app-sidebar",2),V.TgZ(3,"div",3),V._UZ(4,"app-header",4)(5,"router-outlet"),V.qZA()()()),2&qe&&(V.xp6(2),V.Q6J("ngIf",Le.isAuth()),V.xp6(1),V.Q6J("ngClass",V.VKq(3,K,Le.isAuth()&&Le.screenSize>=950&&Le.sideVisible)),V.xp6(1),V.Q6J("sideVisible",Le.sideVisible))},dependencies:[pe.mk,pe.O5,C.lC,mt,Fe]});var At=P(2011);class Fn{}Fn.\u0275fac=function(qe){return new(qe||Fn)},Fn.\u0275mod=V.oAB({type:Fn,bootstrap:[ut]}),Fn.\u0275inj=V.cJS({imports:[f.b2,oe,Ie,nt,ye,te,At.hO.initializeApp({apiKey:"AIzaSyCyHU_plKTd0126vYiCXxmB3z7GMOZC0kE",authDomain:"etoile-d-afrique-app-827db.firebaseapp.com",projectId:"etoile-d-afrique-app-827db",storageBucket:"etoile-d-afrique-app-827db.appspot.com",messagingSenderId:"243030714558",appId:"1:243030714558:web:d5dbd001cfc50ceb4056ef",measurementId:"G-DPK52XZGRT"}),Ne]}),f.q6().bootstrapModule(Fn).catch(rt=>console.error(rt))},6217:(kt,Ze,P)=>{P.d(Ze,{nm:()=>kr});var f=P(2122);P(4650),P(259);var oe=P(5861),He=P(9681),Be=P(4859),at=P(2090),Qe=P(1877);const he=new Map,Oe={activated:!1,tokenObservers:[]},Y={initialized:!1,enabled:!1};function se(Te){return he.get(Te)||Object.assign({},Oe)}function De(){return Y}class Lt{constructor(Me,$e,pt,St,on){if(this.operation=Me,this.retryPolicy=$e,this.getWaitDuration=pt,this.lowerBound=St,this.upperBound=on,this.pending=null,this.nextErrorWaitInterval=St,St>on)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Me){var $e=this;return(0,oe.Z)(function*(){$e.stop();try{$e.pending=new at.BH,yield function Et(Te){return new Promise(Me=>{setTimeout(Me,Te)})}($e.getNextRun(Me)),$e.pending.resolve(),yield $e.pending.promise,$e.pending=new at.BH,yield $e.operation(),$e.pending.resolve(),yield $e.pending.promise,$e.process(!0).catch(()=>{})}catch(pt){$e.retryPolicy(pt)?$e.process(!1).catch(()=>{}):$e.stop()}})()}getNextRun(Me){if(Me)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const $e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),$e}}}const Wt=new at.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ht(Te){if(!se(Te).activated)throw Wt.create("use-before-activation",{appName:Te.name})}function wr(Te,Me){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,oe.Z)(function*({url:Te,body:Me},$e){const pt={"Content-Type":"application/json"},St=$e.getImmediate({optional:!0});if(St){const ei=yield St.getHeartbeatsHeader();ei&&(pt["X-Firebase-Client"]=ei)}const on={method:"POST",body:JSON.stringify(Me),headers:pt};let mn,Bn;try{mn=yield fetch(Te,on)}catch(ei){throw Wt.create("fetch-network-error",{originalErrorMessage:ei?.message})}if(200!==mn.status)throw Wt.create("fetch-status-error",{httpStatus:mn.status});try{Bn=yield mn.json()}catch(ei){throw Wt.create("fetch-parse-error",{originalErrorMessage:ei?.message})}const ir=Bn.ttl.match(/^([\d.]+)(s)$/);if(!ir||!ir[2]||isNaN(Number(ir[1])))throw Wt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Bn.ttl}`});const Lr=1e3*Number(ir[1]),li=Date.now();return{token:Bn.token,expireTimeMillis:li+Lr,issuedAtTimeMillis:li}})).apply(this,arguments)}function Jt(Te,Me){const{projectId:$e,appId:pt,apiKey:St}=Te.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${$e}/apps/${pt}:exchangeDebugToken?key=${St}`,body:{debug_token:Me}}}const An="firebase-app-check-store";let ie=null;function K(){return ie||(ie=new Promise((Te,Me)=>{try{const $e=indexedDB.open("firebase-app-check-database",1);$e.onsuccess=pt=>{Te(pt.target.result)},$e.onerror=pt=>{var St;Me(Wt.create("storage-open",{originalErrorMessage:null===(St=pt.target.error)||void 0===St?void 0:St.message}))},$e.onupgradeneeded=pt=>{0===pt.oldVersion&&pt.target.result.createObjectStore(An,{keyPath:"compositeKey"})}}catch($e){Me(Wt.create("storage-open",{originalErrorMessage:$e?.message}))}}),ie)}function qe(){return(qe=(0,oe.Z)(function*(Te,Me){const pt=(yield K()).transaction(An,"readwrite"),on=pt.objectStore(An).put({compositeKey:Te,value:Me});return new Promise((mn,Bn)=>{on.onsuccess=ir=>{mn()},pt.onerror=ir=>{var Lr;Bn(Wt.create("storage-set",{originalErrorMessage:null===(Lr=ir.target.error)||void 0===Lr?void 0:Lr.message}))}})})).apply(this,arguments)}const zn=new Qe.Yd("@firebase/app-check");function $r(Te,Me){return(0,at.hl)()?function At(Te,Me){return function rt(Te,Me){return qe.apply(this,arguments)}(function Er(Te){return`${Te.options.appId}-${Te.name}`}(Te),Me)}(Te,Me).catch($e=>{zn.warn(`Failed to write token to IndexedDB. Error: ${$e}`)}):Promise.resolve()}function qr(){return De().enabled}function Mn(){return nn.apply(this,arguments)}function nn(){return(nn=(0,oe.Z)(function*(){const Te=De();if(Te.enabled&&Te.token)return Te.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Mt={error:"UNKNOWN_ERROR"};function dt(Te){return at.US.encodeString(JSON.stringify(Te),!1)}function Gt(Te){return un.apply(this,arguments)}function un(){return(un=(0,oe.Z)(function*(Te,Me=!1){const $e=Te.app;Ht($e);const pt=se($e);let on,St=pt.token;if(St&&!st(St)&&(pt.token=void 0,St=void 0),!St){const ir=yield pt.cachedTokenPromise;ir&&(st(ir)?St=ir:yield $r($e,void 0))}if(!Me&&St&&st(St))return{token:St.token};let Bn,mn=!1;if(qr()){pt.exchangeTokenPromise||(pt.exchangeTokenPromise=wr(Jt($e,yield Mn()),Te.heartbeatServiceProvider).finally(()=>{pt.exchangeTokenPromise=void 0}),mn=!0);const ir=yield pt.exchangeTokenPromise;return yield $r($e,ir),pt.token=ir,{token:ir.token}}try{pt.exchangeTokenPromise||(pt.exchangeTokenPromise=pt.provider.getToken().finally(()=>{pt.exchangeTokenPromise=void 0}),mn=!0),St=yield se($e).exchangeTokenPromise}catch(ir){"appCheck/throttled"===ir.code?zn.warn(ir.message):zn.error(ir),on=ir}return St?on?Bn=st(St)?{token:St.token,internalError:on}:Ge(on):(Bn={token:St.token},pt.token=St,yield $r($e,St)):Bn=Ge(on),mn&&Se($e,Bn),Bn})).apply(this,arguments)}function rn(Te,Me){const $e=se(Te),pt=$e.tokenObservers.filter(St=>St.next!==Me);0===pt.length&&$e.tokenRefresher&&$e.tokenRefresher.isRunning()&&$e.tokenRefresher.stop(),$e.tokenObservers=pt}function be(Te){const{app:Me}=Te,$e=se(Me);let pt=$e.tokenRefresher;pt||(pt=function fe(Te){const{app:Me}=Te;return new Lt((0,oe.Z)(function*(){let pt;if(pt=se(Me).token?yield Gt(Te,!0):yield Gt(Te),pt.error)throw pt.error;if(pt.internalError)throw pt.internalError}),()=>!0,()=>{const $e=se(Me);if($e.token){let pt=$e.token.issuedAtTimeMillis+.5*($e.token.expireTimeMillis-$e.token.issuedAtTimeMillis)+3e5;return pt=Math.min(pt,$e.token.expireTimeMillis-3e5),Math.max(0,pt-Date.now())}return 0},3e4,96e4)}(Te),$e.tokenRefresher=pt),!pt.isRunning()&&$e.isTokenAutoRefreshEnabled&&pt.start()}function Se(Te,Me){const $e=se(Te).tokenObservers;for(const pt of $e)try{"EXTERNAL"===pt.type&&null!=Me.error?pt.error(Me.error):pt.next(Me)}catch{}}function st(Te){return Te.expireTimeMillis-Date.now()>0}function Ge(Te){return{token:dt(Mt),error:Te}}class Rt{constructor(Me,$e){this.app=Me,this.heartbeatServiceProvider=$e}_delete(){const{tokenObservers:Me}=se(this.app);for(const $e of Me)rn(this.app,$e.next);return Promise.resolve()}}const pn="app-check-internal";!function mr(){(0,He._registerComponent)(new Be.wA("app-check",Te=>function yn(Te,Me){return new Rt(Te,Me)}(Te.getProvider("app").getImmediate(),Te.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Te,Me,$e)=>{Te.getProvider(pn).initialize()})),(0,He._registerComponent)(new Be.wA(pn,Te=>function Ln(Te){return{getToken:Me=>Gt(Te,Me),addTokenListener:Me=>function fn(Te,Me,$e,pt){const{app:St}=Te,on=se(St);if(on.tokenObservers=[...on.tokenObservers,{next:$e,error:pt,type:Me}],on.token&&st(on.token)){const Bn=on.token;Promise.resolve().then(()=>{$e({token:Bn.token}),be(Te)}).catch(()=>{})}on.cachedTokenPromise.then(()=>be(Te))}(Te,"INTERNAL",Me),removeTokenListener:Me=>rn(Te.app,Me)}}(Te.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,He.registerVersion)("@firebase/app-check","0.6.0")}();class kr{constructor(){return(0,f.vb)("app-check")}}typeof window<"u"&&window},1205:(kt,Ze,P)=>{P.d(Ze,{zQ:()=>ft,ww:()=>mt,rT:()=>Y,f7:()=>ae,L6:()=>he,_Q:()=>Oe,lh:()=>se,Qv:()=>Qe,nw:()=>De});var f=P(4650),h=P(7579),C=P(9646),pe=P(9751),V=P(8996),_e=P(6451),Ie=P(5363),ye=P(3900),le=P(4004),re=P(6063);class te extends h.x{constructor(Ot=1/0,Yt=1/0,Nt=re.l){super(),this._bufferSize=Ot,this._windowTime=Yt,this._timestampProvider=Nt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Yt===1/0,this._bufferSize=Math.max(1,Ot),this._windowTime=Math.max(1,Yt)}next(Ot){const{isStopped:Yt,_buffer:Nt,_infiniteTimeWindow:Lt,_timestampProvider:Et,_windowTime:Zt}=this;Yt||(Nt.push(Ot),!Lt&&Nt.push(Et.now()+Zt)),this._trimBuffer(),super.next(Ot)}_subscribe(Ot){this._throwIfClosed(),this._trimBuffer();const Yt=this._innerSubscribe(Ot),{_infiniteTimeWindow:Nt,_buffer:Lt}=this,Et=Lt.slice();for(let Zt=0;Zt<Et.length&&!Ot.closed;Zt+=Nt?1:2)Ot.next(Et[Zt]);return this._checkFinalizedStatuses(Ot),Yt}_trimBuffer(){const{_bufferSize:Ot,_timestampProvider:Yt,_buffer:Nt,_infiniteTimeWindow:Lt}=this,Et=(Lt?1:2)*Ot;if(Ot<1/0&&Et<Nt.length&&Nt.splice(0,Nt.length-Et),!Lt){const Zt=Yt.now();let Wt=0;for(let bn=1;bn<Nt.length&&Nt[bn]<=Zt;bn+=2)Wt=bn;Wt&&Nt.splice(0,Wt+1)}}}var me=P(3099);function nt(Ct,Ot,Yt){let Nt,Lt=!1;return Ct&&"object"==typeof Ct?({bufferSize:Nt=1/0,windowTime:Ot=1/0,refCount:Lt=!1,scheduler:Yt}=Ct):Nt=Ct??1/0,(0,me.B)({connector:()=>new te(Nt,Ot,Yt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Lt})}var ze=P(590),Ke=P(576);function lt(Ct,Ot){return(0,Ke.m)(Ot)?(0,ye.w)(()=>Ct,Ot):(0,ye.w)(()=>Ct)}var Ne=P(9468),xe=P(9300),Ve=P(2122),Xe=P(2011),oe=P(6895),He=P(6217),Be=P(9260);const Qe=new f.OlP("angularfire2.auth.use-emulator"),he=new f.OlP("angularfire2.auth.settings"),Oe=new f.OlP("angularfire2.auth.tenant-id"),Y=new f.OlP("angularfire2.auth.langugage-code"),se=new f.OlP("angularfire2.auth.use-device-language"),ae=new f.OlP("angularfire.auth.persistence"),De=(Ct,Ot,Yt,Nt,Lt,Et,Zt,Wt)=>(0,Xe.cc)(`${Ct.name}.auth`,"AngularFireAuth",Ct.name,()=>{const bn=Ot.runOutsideAngular(()=>Ct.auth());if(Yt&&bn.useEmulator(...Yt),Nt&&(bn.tenantId=Nt),bn.languageCode=Lt,Et&&bn.useDeviceLanguage(),Zt)for(const[Ht,On]of Object.entries(Zt))bn.settings[Ht]=On;return Wt&&bn.setPersistence(Wt),bn},[Yt,Nt,Lt,Et,Zt,Wt]);let ft=(()=>{class Ct{constructor(Yt,Nt,Lt,Et,Zt,Wt,bn,Ht,On,Nn,wr,Pn){const _r=new h.x,Pr=(0,C.of)(void 0).pipe((0,Ie.Q)(Zt.outsideAngular),(0,ye.w)(()=>Et.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,9169)))),(0,le.U)(()=>(0,Xe.on)(Yt,Et,Nt)),(0,le.U)(Jt=>De(Jt,Et,Wt,Ht,On,Nn,bn,wr)),nt({bufferSize:1,refCount:!1}));if((0,oe.PM)(Lt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,C.of)(null);else{Pr.pipe((0,ze.P)()).subscribe();const Gn=Pr.pipe((0,ye.w)(Fe=>Fe.getRedirectResult().then(ie=>ie,()=>null)),Ve.iC,nt({bufferSize:1,refCount:!1})),er=Pr.pipe((0,ye.w)(Fe=>new pe.y(ie=>({unsubscribe:Et.runOutsideAngular(()=>Fe.onAuthStateChanged(K=>ie.next(K),K=>ie.error(K),()=>ie.complete()))})))),An=Pr.pipe((0,ye.w)(Fe=>new pe.y(ie=>({unsubscribe:Et.runOutsideAngular(()=>Fe.onIdTokenChanged(K=>ie.next(K),K=>ie.error(K),()=>ie.complete()))}))));this.authState=Gn.pipe(lt(er),(0,Ne.R)(Zt.outsideAngular),(0,Ie.Q)(Zt.insideAngular)),this.user=Gn.pipe(lt(An),(0,Ne.R)(Zt.outsideAngular),(0,Ie.Q)(Zt.insideAngular)),this.idToken=this.user.pipe((0,ye.w)(Fe=>Fe?(0,V.D)(Fe.getIdToken()):(0,C.of)(null))),this.idTokenResult=this.user.pipe((0,ye.w)(Fe=>Fe?(0,V.D)(Fe.getIdTokenResult()):(0,C.of)(null))),this.credential=(0,_e.T)(Gn,_r,this.authState.pipe((0,xe.h)(Fe=>!Fe))).pipe((0,le.U)(Fe=>Fe?.user?Fe:null),(0,Ne.R)(Zt.outsideAngular),(0,Ie.Q)(Zt.insideAngular))}return(0,Xe.pX)(this,Pr,Et,{spy:{apply:(Jt,Gn,er)=>{(Jt.startsWith("signIn")||Jt.startsWith("createUser"))&&er.then(An=>_r.next(An))}}})}}return Ct.\u0275fac=function(Yt){return new(Yt||Ct)(f.LFG(Xe.Dh),f.LFG(Xe.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Ve.HU),f.LFG(Qe,8),f.LFG(he,8),f.LFG(Oe,8),f.LFG(Y,8),f.LFG(se,8),f.LFG(ae,8),f.LFG(He.nm,8))},Ct.\u0275prov=f.Yz7({token:Ct,factory:Ct.\u0275fac,providedIn:"any"}),Ct})(),mt=(()=>{class Ct{constructor(){Be.Z.registerVersion("angularfire",Ve.q4.full,"auth-compat")}}return Ct.\u0275fac=function(Yt){return new(Yt||Ct)},Ct.\u0275mod=f.oAB({type:Ct}),Ct.\u0275inj=f.cJS({providers:[ft]}),Ct})()},2095:(kt,Ze,P)=>{P.d(Ze,{ST:()=>Cv});var f=P(4650),h=P(4986),C=P(9751),pe=P(8996),V=P(9646),_e=P(2122),Ie=P(8675),ye=P(4482),le=P(5403);function re(){return(0,ye.e)((i,e)=>{let t,s=!1;i.subscribe((0,le.x)(e,u=>{const d=t;t=u,s&&e.next([d,u]),s=!0}))})}var te=P(4004),me=P(5026),nt=P(4671);function Ke(i,e){return i===e}var Y,lt=P(9300),Ne=P(2011),xe=P(6895),Xe=(P(9169),P(3942)),oe=P(5861),He=P(9681),Be=P(4859),at=P(1877),Qe=P(2090),he=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Oe={},se=se||{},ae=he||self;function De(){}function ft(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function mt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Ot="closure_uid_"+(1e9*Math.random()>>>0),Yt=0;function Nt(i,e,t){return i.call.apply(i.bind,arguments)}function Lt(i,e,t){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,s),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Et(i,e,t){return(Et=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Nt:Lt).apply(null,arguments)}function Zt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function Wt(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(s,u,d){for(var m=Array(arguments.length-2),D=2;D<arguments.length;D++)m[D-2]=arguments[D];return e.prototype[u].apply(s,m)}}function bn(){this.s=this.s,this.o=this.o}bn.prototype.s=!1,bn.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Ct(i){Object.prototype.hasOwnProperty.call(i,Ot)&&i[Ot]||(i[Ot]=++Yt)}(this)},bn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const On=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function Nn(i){const e=i.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=i[s];return t}return[]}function wr(i,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(ft(s)){const u=i.length||0,d=s.length||0;i.length=u+d;for(let m=0;m<d;m++)i[u+m]=s[m]}else i.push(s)}}function Pn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Pn.prototype.h=function(){this.defaultPrevented=!0};var _r=function(){if(!ae.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ae.addEventListener("test",De,e),ae.removeEventListener("test",De,e)}catch{}return i}();function Pr(i){return/^[\s\xa0]*$/.test(i)}var Jt=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Gn(i,e){return i<e?-1:i>e?1:0}function er(){var i=ae.navigator;return i&&(i=i.userAgent)?i:""}function An(i){return-1!=er().indexOf(i)}function Fe(i){return Fe[" "](i),i}Fe[" "]=De;var Le,i,K=An("Opera"),ut=An("Trident")||An("MSIE"),At=An("Edge"),Ft=At||ut,Fn=An("Gecko")&&!(-1!=er().toLowerCase().indexOf("webkit")&&!An("Edge"))&&!(An("Trident")||An("MSIE"))&&!An("Edge"),rt=-1!=er().toLowerCase().indexOf("webkit")&&!An("Edge");function qe(){var i=ae.document;return i?i.documentMode:void 0}e:{var Ut="",Er=(i=er(),Fn?/rv:([^\);]+)(\)|;)/.exec(i):At?/Edge\/([\d\.]+)/.exec(i):ut?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):rt?/WebKit\/(\S+)/.exec(i):K?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Er&&(Ut=Er?Er[1]:""),ut){var zn=qe();if(null!=zn&&zn>parseFloat(Ut)){Le=String(zn);break e}}Le=Ut}var or={};var Dn=ae.document&&ut&&(qe()||parseInt(Le,10))||void 0;function qr(i,e){if(Pn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Fn){e:{try{Fe(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Mn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&qr.X.h.call(this)}}Wt(qr,Pn);var Mn={2:"touch",3:"pen",4:"mouse"};qr.prototype.h=function(){qr.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var nn="closure_listenable_"+(1e6*Math.random()|0),ai=0;function Mt(i,e,t,s,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ha=u,this.key=++ai,this.ba=this.ea=!1}function dt(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function Gt(i,e,t){for(const s in i)e.call(t,i[s],s,i)}function un(i){const e={};for(const t in i)e[t]=i[t];return e}const fn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rn(i,e){let t,s;for(let u=1;u<arguments.length;u++){for(t in s=arguments[u],s)i[t]=s[t];for(let d=0;d<fn.length;d++)t=fn[d],Object.prototype.hasOwnProperty.call(s,t)&&(i[t]=s[t])}}function be(i){this.src=i,this.g={},this.h=0}function fe(i,e){var t=e.type;if(t in i.g){var d,s=i.g[t],u=On(s,e);(d=0<=u)&&Array.prototype.splice.call(s,u,1),d&&(dt(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Se(i,e,t,s){for(var u=0;u<i.length;++u){var d=i[u];if(!d.ba&&d.listener==e&&d.capture==!!t&&d.ha==s)return u}return-1}be.prototype.add=function(i,e,t,s,u){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var m=Se(i,e,s,u);return-1<m?(e=i[m],t||(e.ea=!1)):((e=new Mt(e,this.src,d,!!s,u)).ea=t,i.push(e)),e};var st="closure_lm_"+(1e6*Math.random()|0),Ge={};function Rt(i,e,t,s,u){if(s&&s.once)return ar(i,e,t,s,u);if(Array.isArray(e)){for(var d=0;d<e.length;d++)Rt(i,e[d],t,s,u);return null}return t=cn(t),i&&i[nn]?i.N(e,t,mt(s)?!!s.capture:!!s,u):yn(i,e,t,!1,s,u)}function yn(i,e,t,s,u,d){if(!e)throw Error("Invalid event type");var m=mt(u)?!!u.capture:!!u,D=Je(i);if(D||(i[st]=D=new be(i)),(t=D.add(e,t,s,m,d)).proxy)return t;if(s=function Ln(){const e=de;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=s,s.src=i,s.listener=t,i.addEventListener)_r||(u=m),void 0===u&&(u=!1),i.addEventListener(e.toString(),s,u);else if(i.attachEvent)i.attachEvent(ve(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return t}function ar(i,e,t,s,u){if(Array.isArray(e)){for(var d=0;d<e.length;d++)ar(i,e[d],t,s,u);return null}return t=cn(t),i&&i[nn]?i.O(e,t,mt(s)?!!s.capture:!!s,u):yn(i,e,t,!0,s,u)}function ln(i,e,t,s,u){if(Array.isArray(e))for(var d=0;d<e.length;d++)ln(i,e[d],t,s,u);else s=mt(s)?!!s.capture:!!s,t=cn(t),i&&i[nn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Se(d=i.g[e],t,s,u))&&(dt(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=Je(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Se(e,t,s,u)),(t=-1<i?e[i]:null)&&je(t))}function je(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[nn])fe(e.i,i);else{var t=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(t,s,i.capture):e.detachEvent?e.detachEvent(ve(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Je(e))?(fe(t,i),0==t.h&&(t.src=null,e[st]=null)):dt(i)}}}function ve(i){return i in Ge?Ge[i]:Ge[i]="on"+i}function de(i,e){if(i.ba)i=!0;else{e=new qr(e,this);var t=i.listener,s=i.ha||i.src;i.ea&&je(i),i=t.call(s,e)}return i}function Je(i){return(i=i[st])instanceof be?i:null}var ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function cn(i){return"function"==typeof i?i:(i[ht]||(i[ht]=function(e){return i.handleEvent(e)}),i[ht])}function sn(){bn.call(this),this.i=new be(this),this.P=this,this.I=null}function kn(i,e){var t,s=i.I;if(s)for(t=[];s;s=s.I)t.push(s);if(i=i.P,s=e.type||e,"string"==typeof e)e=new Pn(e,i);else if(e instanceof Pn)e.target=e.target||i;else{var u=e;rn(e=new Pn(s,i),u)}if(u=!0,t)for(var d=t.length-1;0<=d;d--){var m=e.g=t[d];u=Yn(m,s,!0,e)&&u}if(u=Yn(m=e.g=i,s,!0,e)&&u,u=Yn(m,s,!1,e)&&u,t)for(d=0;d<t.length;d++)u=Yn(m=e.g=t[d],s,!1,e)&&u}function Yn(i,e,t,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,d=0;d<e.length;++d){var m=e[d];if(m&&!m.ba&&m.capture==t){var D=m.listener,U=m.ha||m.src;m.ea&&fe(i.i,m),u=!1!==D.call(U,s)&&u}}return u&&!s.defaultPrevented}Wt(sn,bn),sn.prototype[nn]=!0,sn.prototype.removeEventListener=function(i,e,t,s){ln(this,i,e,t,s)},sn.prototype.M=function(){if(sn.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],s=0;s<t.length;s++)dt(t[s]);delete i.g[e],i.h--}}this.I=null},sn.prototype.N=function(i,e,t,s){return this.i.add(String(i),e,!1,t,s)},sn.prototype.O=function(i,e,t,s){return this.i.add(String(i),e,!0,t,s)};var xr=ae.JSON.stringify;function Li(){var i=Tr;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Qn,Rs=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new ji,i=>i.reset());class ji{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Si(i){ae.setTimeout(()=>{throw i},0)}function os(i,e){Qn||function Mr(){var i=ae.Promise.resolve(void 0);Qn=function(){i.then(Qr)}}(),Dr||(Qn(),Dr=!0),Tr.add(i,e)}var Dr=!1,Tr=new class nr{constructor(){this.h=this.g=null}add(e,t){const s=Rs.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function Qr(){for(var i;i=Li();){try{i.h.call(i.g)}catch(t){Si(t)}var e=Rs;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Dr=!1}function Ai(i,e){sn.call(this),this.h=i||1,this.g=e||ae,this.j=Et(this.lb,this),this.l=Date.now()}function jt(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function pn(i,e,t){if("function"==typeof i)t&&(i=Et(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Et(i.handleEvent,i)}return 2147483647<Number(e)?-1:ae.setTimeout(i,e||0)}function mr(i){i.g=pn(()=>{i.g=null,i.i&&(i.i=!1,mr(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Wt(Ai,sn),(Y=Ai.prototype).ca=!1,Y.R=null,Y.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),kn(this,"tick"),this.ca&&(jt(this),this.start()))}},Y.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Y.M=function(){Ai.X.M.call(this),jt(this),delete this.g};class pi extends bn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mr(this)}M(){super.M(),this.g&&(ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jr(i){bn.call(this),this.h=i,this.g={}}Wt(Jr,bn);var kr=[];function bi(i,e,t,s){Array.isArray(t)||(t&&(kr[0]=t.toString()),t=kr);for(var u=0;u<t.length;u++){var d=Rt(e,t[u],s||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function ur(i){Gt(i.g,function(e,t){this.g.hasOwnProperty(t)&&je(e)},i),i.g={}}function as(){this.g=!0}function wi(i,e,t,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function $i(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var s=t[i];if(!(2>s.length)){var u=s[1];if(Array.isArray(u)&&!(1>u.length)){var d=u[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var m=1;m<u.length;m++)u[m]=""}}}return xr(t)}catch{return e}}(i,t)+(s?" "+s:"")})}Jr.prototype.M=function(){Jr.X.M.call(this),ur(this)},Jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},as.prototype.Aa=function(){this.g=!1},as.prototype.info=function(){};var Xr={},yr=null;function Br(){return yr=yr||new sn}function vs(i){Pn.call(this,Xr.Pa,i)}function ui(i){const e=Br();kn(e,new vs(e))}function bs(i,e){Pn.call(this,Xr.STAT_EVENT,i),this.stat=e}function rr(i){const e=Br();kn(e,new bs(e,i))}function Te(i,e){Pn.call(this,Xr.Qa,i),this.size=e}function Me(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ae.setTimeout(function(){i()},e)}Xr.Pa="serverreachability",Wt(vs,Pn),Xr.STAT_EVENT="statevent",Wt(bs,Pn),Xr.Qa="timingevent",Wt(Te,Pn);var $e={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},pt={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function St(){}function mn(){}St.prototype.h=null;var li,Bn={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function ir(){Pn.call(this,"d")}function Lr(){Pn.call(this,"c")}function ei(){}function ci(i,e,t,s){this.l=i,this.j=e,this.m=t,this.U=s||1,this.S=new Jr(this),this.O=ii,this.T=new Ai(i=Ft?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Hi}function Hi(){this.i=null,this.g="",this.h=!1}Wt(ir,Pn),Wt(Lr,Pn),Wt(ei,St),ei.prototype.g=function(){return new XMLHttpRequest},ei.prototype.i=function(){return{}},li=new ei;var ii=45e3,ws={},Xs={};function js(i,e,t){i.K=1,i.v=Ni(cs(e)),i.s=t,i.P=!0,gi(i,null)}function gi(i,e){i.F=Date.now(),Ns(i),i.A=cs(i.v);var t=i.A,s=i.U;Array.isArray(s)||(s=[String(s)]),Xi(t.i,"t",s),i.C=0,t=i.l.H,i.h=new Hi,i.g=Zo(i.l,t?e:null,!i.s),0<i.N&&(i.L=new pi(Et(i.La,i,i.g),i.N)),bi(i.S,i.g,"readystatechange",i.ib),e=i.H?un(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),ui(),function Fr(i,e,t,s,u,d){i.info(function(){if(i.g)if(d)for(var m="",D=d.split("&"),U=0;U<D.length;U++){var G=D[U].split("=");if(1<G.length){var ne=G[0];G=G[1];var Ee=ne.split("_");m=2<=Ee.length&&"type"==Ee[1]?m+(ne+"=")+G+"&":m+(ne+"=redacted&")}}else m=null;else m=d;return"XMLHTTP REQ ("+s+") [attempt "+u+"]: "+e+"\n"+t+"\n"+m})}(i.j,i.u,i.A,i.m,i.U,i.s)}function us(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function $s(i,e,t){let u,s=!0;for(;!i.I&&i.C<t.length;){if(u=Os(i,t),u==Xs){4==e&&(i.o=4,rr(14),s=!1),wi(i.j,i.m,null,"[Incomplete Response]");break}if(u==ws){i.o=4,rr(15),wi(i.j,i.m,t,"[Invalid Chunk]"),s=!1;break}wi(i.j,i.m,u,null),Gi(i,u)}us(i)&&u!=Xs&&u!=ws&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,rr(16),s=!1),i.i=i.i&&s,s?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),$o(e),e.K=!0,rr(11))):(wi(i.j,i.m,t,"[Invalid Chunked Response]"),Zi(i),Ui(i))}function Os(i,e){var t=i.C,s=e.indexOf("\n",t);return-1==s?Xs:(t=Number(e.substring(t,s)),isNaN(t)?ws:(s+=1)+t>e.length?Xs:(e=e.substr(s,t),i.C=s+t,e))}function Ns(i){i.V=Date.now()+i.O,Es(i,i.O)}function Es(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Me(Et(i.gb,i),e)}function Hs(i){i.B&&(ae.clearTimeout(i.B),i.B=null)}function Ui(i){0==i.l.G||i.I||Ho(i.l,i)}function Zi(i){Hs(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,jt(i.T),ur(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Gi(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||_o(t.h,i)))if(!i.J&&_o(t.h,i)&&3==t.G){try{var s=t.Fa.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var u=s;if(0==u[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;Fo(t),Ts(t)}bo(t),rr(18)}}else t.Ba=u[1],0<t.Ba-t.T&&37500>u[2]&&t.L&&0==t.A&&!t.v&&(t.v=Me(Et(t.cb,t),6e3));if(1>=es(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else ia(t,11)}else if((i.J||t.g==i)&&Fo(t),!Pr(e))for(u=t.Fa.g.parse(e),e=0;e<u.length;e++){let G=u[e];if(t.T=G[0],G=G[1],2==t.G)if("c"==G[0]){t.I=G[1],t.ka=G[2];const ne=G[3];null!=ne&&(t.ma=ne,t.j.info("VER="+t.ma));const Ee=G[4];null!=Ee&&(t.Ca=Ee,t.j.info("SVER="+t.Ca));const We=G[5];null!=We&&"number"==typeof We&&0<We&&(t.J=s=1.5*We,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const bt=i.g;if(bt){const Tt=bt.g?bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tt){var d=s.h;d.g||-1==Tt.indexOf("spdy")&&-1==Tt.indexOf("quic")&&-1==Tt.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(ts(d,d.h),d.h=null))}if(s.D){const en=bt.g?bt.g.getResponseHeader("X-HTTP-Session-Id"):null;en&&(s.za=en,cr(s.F,s.D,en))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var m=i;if((s=t).sa=fs(s,s.H?s.ka:null,s.V),m.J){qi(s.h,m);var D=m,U=s.J;U&&D.setTimeout(U),D.B&&(Hs(D),Ns(D)),s.g=m}else La(s);0<t.i.length&&ra(t)}else"stop"!=G[0]&&"close"!=G[0]||ia(t,7);else 3==t.G&&("stop"==G[0]||"close"==G[0]?"stop"==G[0]?ia(t,7):Ds(t):"noop"!=G[0]&&t.l&&t.l.wa(G),t.A=0)}ui()}catch{}}function So(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ft(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Po(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(ft(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const s in i)e[t++]=s;return e}}}(i),s=function Zs(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ft(i)){for(var e=[],t=i.length,s=0;s<t;s++)e.push(i[s]);return e}for(s in e=[],t=0,i)e[t++]=i[s];return e}(i),u=s.length,d=0;d<u;d++)e.call(void 0,s[d],t&&t[d],i)}(Y=ci.prototype).setTimeout=function(i){this.O=i},Y.ib=function(i){i=i.target;const e=this.L;e&&3==Jn(i)?e.l():this.La(i)},Y.La=function(i){try{if(i==this.g)e:{const ne=Jn(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>ne)&&(3!=ne||Ft||this.g&&(this.h.h||this.g.fa()||Ur(this.g)))){this.I||4!=ne||7==e||ui(),Hs(this);var t=this.g.aa();this.Y=t;t:if(us(this)){var s=Ur(this.g);i="";var u=s.length,d=4==Jn(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Zi(this),Ui(this);var m="";break t}this.h.i=new ae.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:d&&e==u-1});s.splice(0,u),this.h.g+=i,this.C=0,m=this.h.g}else m=this.g.fa();if(this.i=200==t,function Tn(i,e,t,s,u,d,m){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+d+" "+m})}(this.j,this.u,this.A,this.m,this.U,ne,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var D,U=this.g;if((D=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pr(D)){var G=D;break t}}G=null}if(!(t=G)){this.i=!1,this.o=3,rr(12),Zi(this),Ui(this);break e}wi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Gi(this,t)}this.P?($s(this,ne,m),Ft&&this.i&&3==ne&&(bi(this.S,this.T,"tick",this.hb),this.T.start())):(wi(this.j,this.m,m,null),Gi(this,m)),4==ne&&Zi(this),this.i&&!this.I&&(4==ne?Ho(this.l,this):(this.i=!1,Ns(this)))}else 400==t&&0<m.indexOf("Unknown SID")?(this.o=3,rr(12)):(this.o=0,rr(13)),Zi(this),Ui(this)}}}catch{}},Y.hb=function(){if(this.g){var i=Jn(this.g),e=this.g.fa();this.C<e.length&&(Hs(this),$s(this,i,e),this.i&&4!=i&&Ns(this))}},Y.cancel=function(){this.I=!0,Zi(this)},Y.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function Ei(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ui(),rr(17)),Zi(this),this.o=2,Ui(this)):Es(this,this.V-i)};var mi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ls(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof ls){this.h=void 0!==e?e:i.h,Gs(this,i.j),this.s=i.s,this.g=i.g,Ji(this,i.m),this.l=i.l,e=i.i;var t=new Ir;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),zi(this,t),this.o=i.o}else i&&(t=String(i).match(mi))?(this.h=!!e,Gs(this,t[1]||"",!0),this.s=Ps(t[2]||""),this.g=Ps(t[3]||"",!0),Ji(this,t[4]),this.l=Ps(t[5]||"",!0),zi(this,t[6]||"",!0),this.o=Ps(t[7]||"")):(this.h=!!e,this.i=new Ir(null,this.h))}function cs(i){return new ls(i)}function Gs(i,e,t){i.j=t?Ps(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Ji(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function zi(i,e,t){e instanceof Ir?(i.i=e,function Ao(i,e){e&&!i.j&&(Ii(i),i.i=null,i.g.forEach(function(t,s){var u=s.toLowerCase();s!=u&&(Hr(this,s),Xi(this,u,t))},i)),i.j=e}(i.i,i.h)):(t||(e=ks(e,yo)),i.i=new Ir(e,i.h))}function cr(i,e,t){i.i.set(e,t)}function Ni(i){return cr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Ps(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ks(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,xi),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function xi(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}ls.prototype.toString=function(){var i=[],e=this.j;e&&i.push(ks(e,zs,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(ks(e,zs,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(ks(t,"/"==t.charAt(0)?to:qs,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",ks(t,Wr)),i.join("")};var zs=/[#\/\?@]/g,qs=/[#\?:]/g,to=/[#\?]/g,yo=/[#\?@]/g,Wr=/#/g;function Ir(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Ii(i){i.g||(i.g=new Map,i.h=0,i.i&&function eo(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var s=i[t].indexOf("="),u=null;if(0<=s){var d=i[t].substring(0,s);u=i[t].substring(s+1)}else d=i[t];e(d,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Hr(i,e){Ii(i),e=dr(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Ws(i,e){return Ii(i),e=dr(i,e),i.g.has(e)}function Xi(i,e,t){Hr(i,e),0<t.length&&(i.i=null,i.g.set(dr(i,e),Nn(t)),i.h+=t.length)}function dr(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Is(i){this.l=i||yi,i=ae.PerformanceNavigationTiming?0<(i=ae.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ae.g&&ae.g.Ga&&ae.g.Ga()&&ae.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Y=Ir.prototype).add=function(i,e){Ii(this),this.i=null,i=dr(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},Y.forEach=function(i,e){Ii(this),this.g.forEach(function(t,s){t.forEach(function(u){i.call(e,u,s,this)},this)},this)},Y.oa=function(){Ii(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const u=i[s];for(let d=0;d<u.length;d++)t.push(e[s])}return t},Y.W=function(i){Ii(this);let e=[];if("string"==typeof i)Ws(this,i)&&(e=e.concat(this.g.get(dr(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},Y.set=function(i,e){return Ii(this),this.i=null,Ws(this,i=dr(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Y.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const d=encodeURIComponent(String(s)),m=this.W(s);for(s=0;s<m.length;s++){var u=d;""!==m[s]&&(u+="="+encodeURIComponent(String(m[s]))),i.push(u)}}return this.i=i.join("&")};var yi=10;function Cs(i){return!!i.h||!!i.g&&i.g.size>=i.j}function es(i){return i.h?1:i.g?i.g.size:0}function _o(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function ts(i,e){i.g?i.g.add(e):i.h=e}function qi(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function hs(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return Nn(i.i)}function wn(){}function xo(){this.g=new wn}function vo(i,e,t){const s=t||"";try{So(i,function(u,d){let m=u;mt(u)&&(m=xr(u)),e.push(s+d+"="+encodeURIComponent(m))})}catch(u){throw e.push(s+"type="+encodeURIComponent("_badmap")),u}}function H(i,e,t,s,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(s)}catch{}}function L(i){this.l=i.ac||null,this.j=i.jb||!1}function ee(i,e){sn.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=ue,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Is.prototype.cancel=function(){if(this.i=hs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},wn.prototype.stringify=function(i){return ae.JSON.stringify(i,void 0)},wn.prototype.parse=function(i){return ae.JSON.parse(i,void 0)},Wt(L,St),L.prototype.g=function(){return new ee(this.l,this.j)},L.prototype.i=function(i){return function(){return i}}({}),Wt(ee,sn);var ue=0;function Ae(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function I(i){i.readyState=4,i.l=null,i.j=null,i.A=null,S(i)}function S(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Y=ee.prototype).open=function(i,e){if(this.readyState!=ue)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,S(this)},Y.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||ae).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,I(this)),this.readyState=ue},Y.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,S(this)),this.g&&(this.readyState=3,S(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ae.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ae(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},Y.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?I(this):S(this),3==this.readyState&&Ae(this)}},Y.Va=function(i){this.g&&(this.response=this.responseText=i,I(this))},Y.Ua=function(i){this.g&&(this.response=i,I(this))},Y.ga=function(){this.g&&I(this)},Y.setRequestHeader=function(i,e){this.v.append(i,e)},Y.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Y.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(ee.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var A=ae.JSON.parse;function Z(i){sn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ce,this.K=this.L=!1}Wt(Z,sn);var Ce="",gt=/^https?$/i,En=["POST","PUT"];function lr(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,hr(i),Rr(i)}function hr(i){i.D||(i.D=!0,kn(i,"complete"),kn(i,"error"))}function di(i){if(i.h&&typeof se<"u"&&(!i.C[1]||4!=Jn(i)||2!=i.aa()))if(i.v&&4==Jn(i))pn(i.Ha,0,i);else if(kn(i,"readystatechange"),4==Jn(i)){i.h=!1;try{const D=i.aa();e:switch(D){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===D){var u=String(i.H).match(mi)[1]||null;if(!u&&ae.self&&ae.self.location){var d=ae.self.location.protocol;u=d.substr(0,d.length-1)}s=!gt.test(u?u.toLowerCase():"")}t=s}if(t)kn(i,"complete"),kn(i,"success");else{i.m=6;try{var m=2<Jn(i)?i.g.statusText:""}catch{m=""}i.j=m+" ["+i.aa()+"]",hr(i)}}finally{Rr(i)}}}function Rr(i,e){if(i.g){Mi(i);const t=i.g,s=i.C[0]?De:null;i.g=null,i.C=null,e||kn(i,"ready");try{t.onreadystatechange=s}catch{}}}function Mi(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(ae.clearTimeout(i.A),i.A=null)}function Jn(i){return i.g?i.g.readyState:0}function Ur(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Ce:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function si(i){let e="";return Gt(i,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function Pi(i,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=si(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):cr(i,e,t))}function Kr(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Bo(i){this.Ca=0,this.i=[],this.j=new as,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Kr("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Kr("baseRetryDelayMs",5e3,i),this.bb=Kr("retryDelaySeedMs",1e4,i),this.$a=Kr("forwardChannelMaxRetries",2,i),this.ta=Kr("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new Is(i&&i.concurrentRequestLimit),this.Fa=new xo,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Ds(i){if(jo(i),3==i.G){var e=i.U++,t=cs(i.F);cr(t,"SID",i.I),cr(t,"RID",e),cr(t,"TYPE","terminate"),ro(i,t),(e=new ci(i,i.j,e,void 0)).K=2,e.v=Ni(cs(t)),t=!1,ae.navigator&&ae.navigator.sendBeacon&&(t=ae.navigator.sendBeacon(e.v.toString(),"")),!t&&ae.Image&&((new Image).src=e.v,t=!0),t||(e.g=Zo(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ns(e)}ba(i)}function Ts(i){i.g&&($o(i),i.g.cancel(),i.g=null)}function jo(i){Ts(i),i.u&&(ae.clearTimeout(i.u),i.u=null),Fo(i),i.h.cancel(),i.m&&("number"==typeof i.m&&ae.clearTimeout(i.m),i.m=null)}function ra(i){Cs(i.h)||i.m||(i.m=!0,os(i.Ja,i),i.C=0)}function Fa(i,e){var t;t=e?e.m:i.U++;const s=cs(i.F);cr(s,"SID",i.I),cr(s,"RID",t),cr(s,"AID",i.T),ro(i,s),i.o&&i.s&&Pi(s,i.o,i.s),t=new ci(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=va(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),ts(i.h,t),js(t,s,e)}function ro(i,e){i.ia&&Gt(i.ia,function(t,s){cr(e,s,t)}),i.l&&So({},function(t,s){cr(e,s,t)})}function va(i,e,t){t=Math.min(i.i.length,t);var s=i.l?Et(i.l.Ra,i.l,i):null;e:{var u=i.i;let d=-1;for(;;){const m=["count="+t];-1==d?0<t?(d=u[0].h,m.push("ofs="+d)):d=0:m.push("ofs="+d);let D=!0;for(let U=0;U<t;U++){let G=u[U].h;const ne=u[U].g;if(G-=d,0>G)d=Math.max(0,u[U].h-100),D=!1;else try{vo(ne,m,"req"+G+"_")}catch{s&&s(ne)}}if(D){s=m.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,s}function La(i){i.g||i.u||(i.Z=1,os(i.Ia,i),i.A=0)}function bo(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=Me(Et(i.Ia,i),Su(i,i.A)),i.A++,0))}function $o(i){null!=i.B&&(ae.clearTimeout(i.B),i.B=null)}function Tu(i){i.g=new ci(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=cs(i.sa);cr(e,"RID","rpc"),cr(e,"SID",i.I),cr(e,"CI",i.L?"0":"1"),cr(e,"AID",i.T),cr(e,"TYPE","xmlhttp"),ro(i,e),i.o&&i.s&&Pi(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=Ni(cs(e)),t.s=null,t.P=!0,gi(t,i)}function Fo(i){null!=i.v&&(ae.clearTimeout(i.v),i.v=null)}function Ho(i,e){var t=null;if(i.g==e){Fo(i),$o(i),i.g=null;var s=2}else{if(!_o(i.h,e))return;t=e.D,qi(i.h,e),s=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;kn(s=Br(),new Te(s,t)),ra(i)}else La(i);else if(3==(u=e.o)||0==u&&0<i.pa||!(1==s&&function ko(i,e){return!(es(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=Me(Et(i.Ja,i,e),Su(i,i.C)),i.C++,0)))}(i,e)||2==s&&bo(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),u){case 1:ia(i,5);break;case 4:ia(i,10);break;case 3:ia(i,6);break;default:ia(i,2)}}function Su(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function ia(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var s=Et(i.kb,i);t||(t=new ls("//www.google.com/images/cleardot.gif"),ae.location&&"http"==ae.location.protocol||Gs(t,"https"),Ni(t)),function no(i,e){const t=new as;if(ae.Image){const s=new Image;s.onload=Zt(H,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Zt(H,t,s,"TestLoadImage: error",!1,e),s.onabort=Zt(H,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Zt(H,t,s,"TestLoadImage: timeout",!1,e),ae.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(t.toString(),s)}else rr(2);i.G=0,i.l&&i.l.va(e),ba(i),jo(i)}function ba(i){if(i.G=0,i.la=[],i.l){const e=hs(i.h);(0!=e.length||0!=i.i.length)&&(wr(i.la,e),wr(i.la,i.i),i.h.i.length=0,Nn(i.i),i.i.length=0),i.l.ua()}}function fs(i,e,t){var s=t instanceof ls?cs(t):new ls(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),Ji(s,s.m);else{var u=ae.location;s=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var d=new ls(null,void 0);s&&Gs(d,s),e&&(d.g=e),u&&Ji(d,u),t&&(d.l=t),s=d}return e=i.za,(t=i.D)&&e&&cr(s,t,e),cr(s,"VER",i.ma),ro(i,s),s}function Zo(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Z(t&&i.Da&&!i.ra?new L({jb:!0}):i.ra)).Ka(i.H),e}function Zr(){}function io(){if(ut&&!(10<=Number(Dn)))throw Error("Environmental error: no available transport.")}function ns(i,e){sn.call(this),this.g=new Bo(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!Pr(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Pr(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new sa(this)}function ki(i){ir.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function au(){Lr.call(this),this.status=1}function sa(i){this.g=i}(Y=Z.prototype).Ka=function(i){this.L=i},Y.da=function(i,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():li.g(),this.C=function on(i){return i.h||(i.h=i.i())}(this.u?this.u:li),this.g.onreadystatechange=Et(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(d){return void lr(this,d)}if(i=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var u in s)t.set(u,s[u]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const d of s.keys())t.set(d,s.get(d))}s=Array.from(t.keys()).find(d=>"content-type"==d.toLowerCase()),u=ae.FormData&&i instanceof ae.FormData,!(0<=On(En,e))||s||u||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,m]of t)this.g.setRequestHeader(d,m);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Mi(this),0<this.B&&((this.K=function Sn(i){return ut&&function fi(){return function ie(i){var e=or;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Jt(String(Le)).split("."),t=Jt("9").split("."),s=Math.max(e.length,t.length);for(let m=0;0==i&&m<s;m++){var u=e[m]||"",d=t[m]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==u[0].length&&0==d[0].length)break;i=Gn(0==u[1].length?0:parseInt(u[1],10),0==d[1].length?0:parseInt(d[1],10))||Gn(0==u[2].length,0==d[2].length)||Gn(u[2],d[2]),u=u[3],d=d[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Et(this.qa,this)):this.A=pn(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){lr(this,d)}},Y.qa=function(){typeof se<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kn(this,"timeout"),this.abort(8))},Y.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,kn(this,"complete"),kn(this,"abort"),Rr(this))},Y.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rr(this,!0)),Z.X.M.call(this)},Y.Ha=function(){this.s||(this.F||this.v||this.l?di(this):this.fb())},Y.fb=function(){di(this)},Y.aa=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},Y.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Y.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),A(e)}},Y.Ea=function(){return this.m},Y.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Y=Bo.prototype).ma=8,Y.G=1,Y.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const u=new ci(this,this.j,i,void 0);let d=this.s;if(this.S&&(d?(d=un(d),rn(d,this.S)):d=this.S),null!==this.o||this.N||(u.H=d,d=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=va(this,u,e),cr(t=cs(this.F),"RID",i),cr(t,"CVER",22),this.D&&cr(t,"X-HTTP-Session-Id",this.D),ro(this,t),d&&(this.N?e="headers="+encodeURIComponent(String(si(d)))+"&"+e:this.o&&Pi(t,this.o,d)),ts(this.h,u),this.Ya&&cr(t,"TYPE","init"),this.O?(cr(t,"$req",e),cr(t,"SID","null"),u.Z=!0,js(u,t,null)):js(u,t,e),this.G=2}}else 3==this.G&&(i?Fa(this,i):0==this.i.length||Cs(this.h)||Fa(this))},Y.Ia=function(){if(this.u=null,Tu(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=Me(Et(this.eb,this),i)}},Y.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,rr(10),Ts(this),Tu(this))},Y.cb=function(){null!=this.v&&(this.v=null,Ts(this),bo(this),rr(19))},Y.kb=function(i){i?(this.j.info("Successfully pinged google.com"),rr(2)):(this.j.info("Failed to ping google.com"),rr(1))},(Y=Zr.prototype).xa=function(){},Y.wa=function(){},Y.va=function(){},Y.ua=function(){},Y.Ra=function(){},io.prototype.g=function(i,e){return new ns(i,e)},Wt(ns,sn),ns.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;rr(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=fs(i,null,i.V),ra(i)},ns.prototype.close=function(){Ds(this.g)},ns.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=xr(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&ra(e)},ns.prototype.M=function(){this.g.l=null,delete this.j,Ds(this.g),delete this.g,ns.X.M.call(this)},Wt(ki,ir),Wt(au,Lr),Wt(sa,Zr),sa.prototype.xa=function(){kn(this.g,"a")},sa.prototype.wa=function(i){kn(this.g,new ki(i))},sa.prototype.va=function(i){kn(this.g,new au)},sa.prototype.ua=function(){kn(this.g,"b")},io.prototype.createWebChannel=io.prototype.g,ns.prototype.send=ns.prototype.u,ns.prototype.open=ns.prototype.m,ns.prototype.close=ns.prototype.close,$e.NO_ERROR=0,$e.TIMEOUT=8,$e.HTTP_ERROR=6,pt.COMPLETE="complete",mn.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",sn.prototype.listen=sn.prototype.N,Z.prototype.listenOnce=Z.prototype.O,Z.prototype.getLastError=Z.prototype.Oa,Z.prototype.getLastErrorCode=Z.prototype.Ea,Z.prototype.getStatus=Z.prototype.aa,Z.prototype.getResponseJson=Z.prototype.Sa,Z.prototype.getResponseText=Z.prototype.fa,Z.prototype.send=Z.prototype.da,Z.prototype.setWithCredentials=Z.prototype.Ka;var M=Oe.createWebChannelTransport=function(){return new io},$=Oe.getStatEventTarget=function(){return Br()},R=Oe.ErrorCode=$e,W=Oe.EventType=pt,we=Oe.Event=Xr,it=Oe.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},yt=Oe.FetchXmlHttpFactory=L,Kt=Oe.WebChannel=mn,pr=Oe.XhrIo=Z;const Hn="@firebase/firestore";class Rn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");let qn="9.15.0";const Cr=new at.Yd("@firebase/firestore");function Or(){return Cr.logLevel}function It(i,...e){if(Cr.logLevel<=at.in.DEBUG){const t=e.map(ps);Cr.debug(`Firestore (${qn}): ${i}`,...t)}}function vr(i,...e){if(Cr.logLevel<=at.in.ERROR){const t=e.map(ps);Cr.error(`Firestore (${qn}): ${i}`,...t)}}function br(i,...e){if(Cr.logLevel<=at.in.WARN){const t=e.map(ps);Cr.warn(`Firestore (${qn}): ${i}`,...t)}}function ps(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function $t(i="Unexpected state"){const e=`FIRESTORE (${qn}) INTERNAL ASSERTION FAILED: `+i;throw vr(e),new Error(e)}function Qt(i,e){i||$t()}function qt(i,e){return i}const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wt extends Qe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _i{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Mo{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ua{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Rn.UNAUTHENTICATED))}shutdown(){}}class wa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Va{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let u=this.i;const d=G=>this.i!==u?(u=this.i,t(G)):Promise.resolve();let m=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new _i,e.enqueueRetryable(()=>d(this.currentUser))};const D=()=>{const G=m;e.enqueueRetryable((0,oe.Z)(function*(){yield G.promise,yield d(s.currentUser)}))},U=G=>{It("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=G,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(G=>U(G)),setTimeout(()=>{if(!this.auth){const G=this.t.getImmediate({optional:!0});G?U(G):(It("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new _i)}},0),D()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(It("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qt("string"==typeof s.accessToken),new Mo(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Qt(null===e||"string"==typeof e),new Rn(e)}}class uu{constructor(e,t,s,u){this.h=e,this.l=t,this.m=s,this.g=u,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Qt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Au{constructor(e,t,s,u){this.h=e,this.l=t,this.m=s,this.g=u}getToken(){return Promise.resolve(new uu(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rs{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xu{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const s=d=>{null!=d.error&&It("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const m=d.token!==this.A;return this.A=d.token,It("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>s(d))};const u=d=>{It("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.T.onInit(d=>u(d)),setTimeout(()=>{if(!this.appCheck){const d=this.T.getImmediate({optional:!0});d?u(d):It("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Qt("string"==typeof t.token),this.A=t.token,new rs(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Go(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class ja{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const u=Go(40);for(let d=0;d<u.length;++d)s.length<20&&u[d]<t&&(s+=e.charAt(u[d]%e.length))}return s}}function Un(i,e){return i<e?-1:i>e?1:0}function zo(i,e,t){return i.length===e.length&&i.every((s,u)=>t(s,e[u]))}function Mu(i){return i+"\0"}class Wn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new wt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new wt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new wt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new wt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wn.fromMillis(Date.now())}static fromDate(e){return Wn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Wn(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Un(this.nanoseconds,e.nanoseconds):Un(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new gn(e)}static min(){return new gn(new Wn(0,0))}static max(){return new gn(new Wn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Lo{constructor(e,t,s){void 0===t?t=0:t>e.length&&$t(),void 0===s?s=e.length-t:s>e.length-t&&$t(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Lo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Lo?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let u=0;u<s;u++){const d=e.get(u),m=t.get(u);if(d<m)return-1;if(d>m)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Zn extends Lo{construct(e,t,s){return new Zn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new wt(ot.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(u=>u.length>0))}return new Zn(t)}static emptyPath(){return new Zn([])}}const lu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yr extends Lo{construct(e,t,s){return new Yr(e,t,s)}static isValidIdentifier(e){return lu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yr(["__name__"])}static fromServerFormat(e){const t=[];let s="",u=0;const d=()=>{if(0===s.length)throw new wt(ot.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let m=!1;for(;u<e.length;){const D=e[u];if("\\"===D){if(u+1===e.length)throw new wt(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const U=e[u+1];if("\\"!==U&&"."!==U&&"`"!==U)throw new wt(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=U,u+=2}else"`"===D?(m=!m,u++):"."!==D||m?(s+=D,u++):(d(),u++)}if(d(),m)throw new wt(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yr(t)}static emptyPath(){return new Yr([])}}class Pt{constructor(e){this.path=e}static fromPath(e){return new Pt(Zn.fromString(e))}static fromName(e){return new Pt(Zn.fromString(e).popFirst(5))}static empty(){return new Pt(Zn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Zn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Zn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pt(new Zn(e.slice()))}}class $a{constructor(e,t,s,u){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=u}}function Ha(i){return i.fields.find(e=>2===e.kind)}function Wi(i){return i.fields.filter(e=>2!==e.kind)}$a.UNKNOWN_ID=-1;class qo{constructor(e,t){this.fieldPath=e,this.kind=t}}class Wo{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Wo(0,Ss.min())}}function Ko(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,u=gn.fromTimestamp(1e9===s?new Wn(t+1,0):new Wn(t,s));return new Ss(u,Pt.empty(),e)}function Za(i){return new Ss(i.readTime,i.key,-1)}class Ss{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ss(gn.min(),Pt.empty(),-1)}static max(){return new Ss(gn.max(),Pt.empty(),-1)}}function Uo(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Pt.comparator(i.documentKey,e.documentKey),0!==t?t:Un(i.largestBatchId,e.largestBatchId))}const Ga="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ro(i){return Ea.apply(this,arguments)}function Ea(){return Ea=(0,oe.Z)(function*(i){if(i.code!==ot.FAILED_PRECONDITION||i.message!==Ga)throw i;It("LocalStore","Unexpectedly lost primary lease")}),Ea.apply(this,arguments)}class et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new et((s,u)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,u)},this.catchCallback=d=>{this.wrapFailure(t,d).next(s,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof et?t:et.resolve(t)}catch(t){return et.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):et.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):et.reject(t)}static resolve(e){return new et((t,s)=>{t(e)})}static reject(e){return new et((t,s)=>{s(e)})}static waitFor(e){return new et((t,s)=>{let u=0,d=0,m=!1;e.forEach(D=>{++u,D.next(()=>{++d,m&&d===u&&t()},U=>s(U))}),m=!0,d===u&&t()})}static or(e){let t=et.resolve(!1);for(const s of e)t=t.next(u=>u?et.resolve(u):s());return t}static forEach(e,t){const s=[];return e.forEach((u,d)=>{s.push(t.call(this,u,d))}),this.waitFor(s)}static mapArray(e,t){return new et((s,u)=>{const d=e.length,m=new Array(d);let D=0;for(let U=0;U<d;U++){const G=U;t(e[G]).next(ne=>{m[G]=ne,++D,D===d&&s(m)},ne=>u(ne))}})}static doWhile(e,t){return new et((s,u)=>{const d=()=>{!0===e()?t().next(()=>{d()},u):s()};d()})}}class Ru{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new _i,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new ua(e,t.error)):this.P.resolve()},this.transaction.onerror=s=>{const u=qa(s.target.error);this.P.reject(new ua(e,u))}}static open(e,t,s,u){try{return new Ru(t,e.transaction(u,s))}catch(d){throw new ua(t,d)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(It("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ca(t)}}class oo{constructor(e,t,s){this.name=e,this.version=t,this.S=s,12.2===oo.D((0,Qe.z$)())&&vr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return It("SimpleDb","Removing database:",e),za(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Qe.hl)())return!1;if(oo.N())return!0;const e=(0,Qe.z$)(),t=oo.D(e),s=0<t&&t<10,u=oo.k(e),d=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||d)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static k(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}F(e){var t=this;return(0,oe.Z)(function*(){return t.db||(It("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,u)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=m=>{s(m.target.result)},d.onblocked=()=>{u(new ua(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=m=>{const D=m.target.error;u("VersionError"===D.name?new wt(ot.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===D.name?new wt(ot.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+D):new ua(e,D))},d.onupgradeneeded=m=>{It("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',m.oldVersion),t.S.$(m.target.result,d.transaction,m.oldVersion,t.version).next(()=>{It("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=s=>t.B(s)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,u){var d=this;return(0,oe.Z)(function*(){const m="readonly"===t;let D=0;for(;;){++D;try{d.db=yield d.F(e);const U=Ru.open(d.db,e,m?"readonly":"readwrite",s),G=u(U).next(ne=>(U.V(),ne)).catch(ne=>(U.abort(ne),et.reject(ne))).toPromise();return G.catch(()=>{}),yield U.v,G}catch(U){const G=U,ne="FirebaseError"!==G.name&&D<3;if(It("SimpleDb","Transaction failed with error:",G.message,"Retrying:",ne),d.close(),!ne)return Promise.reject(G)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Gr{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return za(this.q.delete())}}class ua extends wt{constructor(e,t){super(ot.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ia(i){return"IndexedDbTransactionError"===i.name}class Ca{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(It("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(It("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),za(s)}add(e){return It("SimpleDb","ADD",this.store.name,e,e),za(this.store.add(e))}get(e){return za(this.store.get(e)).next(t=>(void 0===t&&(t=null),It("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return It("SimpleDb","DELETE",this.store.name,e),za(this.store.delete(e))}count(){return It("SimpleDb","COUNT",this.store.name),za(this.store.count())}W(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const u=this.cursor(s),d=[];return this.H(u,(m,D)=>{d.push(D)}).next(()=>d)}{const u=this.store.getAll(s.range);return new et((d,m)=>{u.onerror=D=>{m(D.target.error)},u.onsuccess=D=>{d(D.target.result)}})}}J(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new et((u,d)=>{s.onerror=m=>{d(m.target.error)},s.onsuccess=m=>{u(m.target.result)}})}Y(e,t){It("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.X=!1;const u=this.cursor(s);return this.H(u,(d,m,D)=>D.delete())}Z(e,t){let s;t?s=e:(s={},t=e);const u=this.cursor(s);return this.H(u,t)}tt(e){const t=this.cursor({});return new et((s,u)=>{t.onerror=d=>{const m=qa(d.target.error);u(m)},t.onsuccess=d=>{const m=d.target.result;m?e(m.primaryKey,m.value).next(D=>{D?m.continue():s()}):s()}})}H(e,t){const s=[];return new et((u,d)=>{e.onerror=m=>{d(m.target.error)},e.onsuccess=m=>{const D=m.target.result;if(!D)return void u();const U=new Gr(D),G=t(D.primaryKey,D.value,U);if(G instanceof et){const ne=G.catch(Ee=>(U.done(),et.reject(Ee)));s.push(ne)}U.isDone?u():null===U.G?D.continue():D.continue(U.G)}}).next(()=>et.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.X?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function za(i){return new et((e,t)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const u=qa(s.target.error);t(u)}})}let cu=!1;function qa(i){const e=oo.D((0,Qe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const s=new wt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return cu||(cu=!0,setTimeout(()=>{throw s},0)),s}}return i}class el{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;It("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,oe.Z)(function*(){t.task=null;try{It("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(s){Ia(s)?It("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Ro(s)}yield t.nt(6e4)}))}}class du{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,oe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.it(s,e))})()}it(e,t){const s=new Set;let u=t,d=!0;return et.doWhile(()=>!0===d&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(m=>{if(null!==m&&!s.has(m))return It("IndexBackiller",`Processing collection: ${m}`),this.rt(e,m,u).next(D=>{u-=D,s.add(m)});d=!1})).next(()=>t-u)}rt(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(u=>this.localStore.localDocuments.getNextDocuments(e,t,u,s).next(d=>{const m=d.changes;return this.localStore.indexManager.updateIndexEntries(e,m).next(()=>this.ot(u,d)).next(D=>(It("IndexBackiller",`Updating offset: ${D}`),this.localStore.indexManager.updateCollectionGroup(e,t,D))).next(()=>m.size)}))}ot(e,t){let s=e;return t.changes.forEach((u,d)=>{const m=Za(d);Uo(m,s)>0&&(s=m)}),new Ss(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Fs=(()=>{class i{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=u=>this.ut(u),this.ct=u=>s.writeSequenceNumber(u))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return i.at=-1,i})();class hu{constructor(e,t,s,u,d,m,D,U){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=u,this.ssl=d,this.forceLongPolling=m,this.autoDetectLongPolling=D,this.useFetchStreams=U}}class Sr{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Sr("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Sr&&e.projectId===this.projectId&&e.database===this.database}}function Da(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function wo(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Wa(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ki(i){return null==i}function Ls(i){return 0===i&&1/i==-1/0}function b(i){return"number"==typeof i&&Number.isInteger(i)&&!Ls(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class y{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new y(t)}static fromUint8Array(e){const t=function(s){let u="";for(let d=0;d<s.length;++d)u+=String.fromCharCode(s[d]);return u}(e);return new y(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Un(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}y.EMPTY_BYTE_STRING=new y("");const x=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function k(i){if(Qt(!!i),"string"==typeof i){let e=0;const t=x.exec(i);if(Qt(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:z(i.seconds),nanos:z(i.nanos)}}function z(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function X(i){return"string"==typeof i?y.fromBase64String(i):y.fromUint8Array(i)}function Re(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function vt(i){const e=i.mapValue.fields.__previous_value__;return Re(e)?vt(e):e}function zt(i){const e=k(i.mapValue.fields.__local_write_time__.timestampValue);return new Wn(e.seconds,e.nanos)}const Xt={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Xn={nullValue:"NULL_VALUE"};function ti(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Re(i)?4:Ue(i)?9007199254740991:10:$t()}function oi(i,e){if(i===e)return!0;const t=ti(i);if(t!==ti(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return zt(i).isEqual(zt(e));case 3:return function(s,u){if("string"==typeof s.timestampValue&&"string"==typeof u.timestampValue&&s.timestampValue.length===u.timestampValue.length)return s.timestampValue===u.timestampValue;const d=k(s.timestampValue),m=k(u.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,X(i.bytesValue).isEqual(X(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,u){return z(s.geoPointValue.latitude)===z(u.geoPointValue.latitude)&&z(s.geoPointValue.longitude)===z(u.geoPointValue.longitude)}(i,e);case 2:return function(s,u){if("integerValue"in s&&"integerValue"in u)return z(s.integerValue)===z(u.integerValue);if("doubleValue"in s&&"doubleValue"in u){const d=z(s.doubleValue),m=z(u.doubleValue);return d===m?Ls(d)===Ls(m):isNaN(d)&&isNaN(m)}return!1}(i,e);case 9:return zo(i.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:return function(s,u){const d=s.mapValue.fields||{},m=u.mapValue.fields||{};if(Da(d)!==Da(m))return!1;for(const D in d)if(d.hasOwnProperty(D)&&(void 0===m[D]||!oi(d[D],m[D])))return!1;return!0}(i,e);default:return $t()}var u}function As(i,e){return void 0!==(i.values||[]).find(t=>oi(t,e))}function Ci(i,e){if(i===e)return 0;const t=ti(i),s=ti(e);if(t!==s)return Un(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Un(i.booleanValue,e.booleanValue);case 2:return function(u,d){const m=z(u.integerValue||u.doubleValue),D=z(d.integerValue||d.doubleValue);return m<D?-1:m>D?1:m===D?0:isNaN(m)?isNaN(D)?0:-1:1}(i,e);case 3:return ao(i.timestampValue,e.timestampValue);case 4:return ao(zt(i),zt(e));case 5:return Un(i.stringValue,e.stringValue);case 6:return function(u,d){const m=X(u),D=X(d);return m.compareTo(D)}(i.bytesValue,e.bytesValue);case 7:return function(u,d){const m=u.split("/"),D=d.split("/");for(let U=0;U<m.length&&U<D.length;U++){const G=Un(m[U],D[U]);if(0!==G)return G}return Un(m.length,D.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,d){const m=Un(z(u.latitude),z(d.latitude));return 0!==m?m:Un(z(u.longitude),z(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,d){const m=u.values||[],D=d.values||[];for(let U=0;U<m.length&&U<D.length;++U){const G=Ci(m[U],D[U]);if(G)return G}return Un(m.length,D.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,d){if(u===Xt.mapValue&&d===Xt.mapValue)return 0;if(u===Xt.mapValue)return 1;if(d===Xt.mapValue)return-1;const m=u.fields||{},D=Object.keys(m),U=d.fields||{},G=Object.keys(U);D.sort(),G.sort();for(let ne=0;ne<D.length&&ne<G.length;++ne){const Ee=Un(D[ne],G[ne]);if(0!==Ee)return Ee;const We=Ci(m[D[ne]],U[G[ne]]);if(0!==We)return We}return Un(D.length,G.length)}(i.mapValue,e.mapValue);default:throw $t()}}function ao(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Un(i,e);const t=k(i),s=k(e),u=Un(t.seconds,s.seconds);return 0!==u?u:Un(t.nanos,s.nanos)}function Yo(i){return Vo(i)}function Vo(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const u=k(s);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?X(i.bytesValue).toBase64():"referenceValue"in i?Pt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(s){let u="[",d=!0;for(const m of s.values||[])d?d=!1:u+=",",u+=Vo(m);return u+"]"}(i.arrayValue):"mapValue"in i?function(s){const u=Object.keys(s.fields||{}).sort();let d="{",m=!0;for(const D of u)m?m=!1:d+=",",d+=`${D}:${Vo(s.fields[D])}`;return d+"}"}(i.mapValue):$t();var e}function Eo(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Ou(i){return!!i&&"integerValue"in i}function Ta(i){return!!i&&"arrayValue"in i}function N(i){return!!i&&"nullValue"in i}function F(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function q(i){return!!i&&"mapValue"in i}function ge(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return wo(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=ge(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ge(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Ue(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function tt(i){return"nullValue"in i?Xn:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Eo(Sr.empty(),Pt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:$t()}function Dt(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Eo(Sr.empty(),Pt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Xt:$t()}function dn(i,e){const t=Ci(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function _n(i,e){const t=Ci(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class an{constructor(e,t){this.position=e,this.inclusive=t}}function tr(i,e,t){let s=0;for(let u=0;u<i.position.length;u++){const d=e[u],m=i.position[u];if(s=d.field.isKeyField()?Pt.comparator(Pt.fromName(m.referenceValue),t.key):Ci(m,t.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return s}function $n(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!oi(i.position[t],e.position[t]))return!1;return!0}class uo{}class xn extends uo{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new Ih(e,t,s):"array-contains"===t?new sp(e,s):"in"===t?new Nu(e,s):"not-in"===t?new Ug(e,s):"array-contains-any"===t?new Vg(e,s):new xn(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Ch(e,s):new Lg(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ci(t,this.value)):null!==t&&ti(this.value)===ti(t)&&this.matchesComparison(Ci(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Nr extends uo{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Nr(e,t)}matches(e){return Sa(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Sa(i){return"and"===i.op}function Aa(i){return"or"===i.op}function Oo(i){return Qo(i)&&Sa(i)}function Qo(i){for(const e of i.filters)if(e instanceof Nr)return!1;return!0}function xa(i){if(i instanceof xn)return i.field.canonicalString()+i.op.toString()+Yo(i.value);{const e=i.filters.map(t=>xa(t)).join(",");return`${i.op}(${e})`}}function td(i,e){return i instanceof xn?(t=i,(s=e)instanceof xn&&t.op===s.op&&t.field.isEqual(s.field)&&oi(t.value,s.value)):i instanceof Nr?function(t,s){return s instanceof Nr&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((u,d,m)=>u&&td(d,s.filters[m]),!0)}(i,e):void $t();var t,s}function Eh(i,e){const t=i.filters.concat(e);return Nr.create(t,i.op)}function nd(i){return i instanceof xn?`${(e=i).field.canonicalString()} ${e.op} ${Yo(e.value)}`:i instanceof Nr?function(e){return e.op.toString()+" {"+e.getFilters().map(nd).join(" ,")+"}"}(i):"Filter";var e}class Ih extends xn{constructor(e,t,s){super(e,t,s),this.key=Pt.fromName(s.referenceValue)}matches(e){const t=Pt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ch extends xn{constructor(e,t){super(e,"in",t),this.keys=rd(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Lg extends xn{constructor(e,t){super(e,"not-in",t),this.keys=rd(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rd(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Pt.fromName(s.referenceValue))}class sp extends xn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ta(t)&&As(t.arrayValue,this.value)}}class Nu extends xn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&As(this.value.arrayValue,t)}}class Ug extends xn{constructor(e,t){super(e,"not-in",t)}matches(e){if(As(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!As(this.value.arrayValue,t)}}class Vg extends xn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ta(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>As(this.value.arrayValue,s))}}class fu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Bg(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class is{constructor(e,t){this.comparator=e,this.root=t||lo.EMPTY}insert(e,t){return new is(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,lo.BLACK,null,null))}remove(e){return new is(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(0===u)return t+s.left.size;u<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new id(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new id(this.root,e,this.comparator,!1)}getReverseIterator(){return new id(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new id(this.root,e,this.comparator,!0)}}class id{constructor(e,t,s,u){this.isReverse=u,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?s(e.key,t):1,t&&u&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lo{constructor(e,t,s,u,d){this.key=e,this.value=t,this.color=s??lo.RED,this.left=u??lo.EMPTY,this.right=d??lo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,u,d){return new lo(e??this.key,t??this.value,s??this.color,u??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let u=this;const d=s(e,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(e,t,s),null):0===d?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return lo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return lo.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $t();const e=this.left.check();if(e!==this.right.check())throw $t();return e+(this.isRed()?0:1)}}lo.EMPTY=null,lo.RED=!0,lo.BLACK=!1,lo.EMPTY=new class{constructor(){this.size=0}get key(){throw $t()}get value(){throw $t()}get color(){throw $t()}get left(){throw $t()}get right(){throw $t()}copy(i,e,t,s,u){return this}insert(i,e,t){return new lo(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vi{constructor(e){this.comparator=e,this.data=new is(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ac(this.data.getIterator())}getIteratorFrom(e){return new ac(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof vi)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=s.getNext().key;if(0!==this.comparator(u,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new vi(this.comparator);return t.data=e,t}}class ac{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Pu(i){return i.hasNext()?i.getNext():void 0}class Io{constructor(e){this.fields=e,e.sort(Yr.comparator)}static empty(){return new Io([])}unionWith(e){let t=new vi(Yr.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Io(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Us{constructor(e){this.value=e}static empty(){return new Us({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!q(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ge(t)}setAll(e){let t=Yr.emptyPath(),s={},u=[];e.forEach((m,D)=>{if(!t.isImmediateParentOf(D)){const U=this.getFieldsMap(t);this.applyChanges(U,s,u),s={},u=[],t=D.popLast()}m?s[D.lastSegment()]=ge(m):u.push(D.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,s,u)}delete(e){const t=this.field(e.popLast());q(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=t.mapValue.fields[e.get(s)];q(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,s){wo(t,(u,d)=>e[u]=d);for(const u of s)delete e[u]}clone(){return new Us(ge(this.value))}}function sd(i){const e=[];return wo(i.fields,(t,s)=>{const u=new Yr([t]);if(q(s)){const d=sd(s.mapValue).fields;if(0===d.length)e.push(u);else for(const m of d)e.push(u.child(m))}else e.push(u)}),new Io(e)}class Di{constructor(e,t,s,u,d,m,D){this.key=e,this.documentType=t,this.version=s,this.readTime=u,this.createTime=d,this.data=m,this.documentState=D}static newInvalidDocument(e){return new Di(e,0,gn.min(),gn.min(),gn.min(),Us.empty(),0)}static newFoundDocument(e,t,s,u){return new Di(e,1,t,gn.min(),s,u,0)}static newNoDocument(e,t){return new Di(e,2,t,gn.min(),gn.min(),Us.empty(),0)}static newUnknownDocument(e,t){return new Di(e,3,t,gn.min(),gn.min(),Us.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Us.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Us.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Di&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Di(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class la{constructor(e,t=null,s=[],u=[],d=null,m=null,D=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=u,this.limit=d,this.startAt=m,this.endAt=D,this.ft=null}}function od(i,e=null,t=[],s=[],u=null,d=null,m=null){return new la(i,e,t,s,u,d,m)}function ku(i){const e=qt(i);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>xa(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(u=s).field.canonicalString()+u.dir;var u}).join(","),Ki(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Yo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Yo(s)).join(",")),e.ft=t}return e.ft}function Fl(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!Bg(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!td(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!$n(i.startAt,e.startAt)&&$n(i.endAt,e.endAt)}function Ll(i){return Pt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function pu(i,e){return i.filters.filter(t=>t instanceof xn&&t.field.isEqual(e))}function Dh(i,e,t){let s=Xn,u=!0;for(const d of pu(i,e)){let m=Xn,D=!0;switch(d.op){case"<":case"<=":m=tt(d.value);break;case"==":case"in":case">=":m=d.value;break;case">":m=d.value,D=!1;break;case"!=":case"not-in":m=Xn}dn({value:s,inclusive:u},{value:m,inclusive:D})<0&&(s=m,u=D)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const m=t.position[d];dn({value:s,inclusive:u},{value:m,inclusive:t.inclusive})<0&&(s=m,u=t.inclusive);break}return{value:s,inclusive:u}}function uc(i,e,t){let s=Xt,u=!0;for(const d of pu(i,e)){let m=Xt,D=!0;switch(d.op){case">=":case">":m=Dt(d.value),D=!1;break;case"==":case"in":case"<=":m=d.value;break;case"<":m=d.value,D=!1;break;case"!=":case"not-in":m=Xt}_n({value:s,inclusive:u},{value:m,inclusive:D})>0&&(s=m,u=D)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const m=t.position[d];_n({value:s,inclusive:u},{value:m,inclusive:t.inclusive})>0&&(s=m,u=t.inclusive);break}return{value:s,inclusive:u}}class Ka{constructor(e,t=null,s=[],u=[],d=null,m="F",D=null,U=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=u,this.limit=d,this.limitType=m,this.startAt=D,this.endAt=U,this.dt=null,this._t=null}}function lc(i,e,t,s,u,d,m,D){return new Ka(i,e,t,s,u,d,m,D)}function tl(i){return new Ka(i)}function cc(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function co(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Fu(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Ul(i){return null!==i.collectionGroup}function Ya(i){const e=qt(i);if(null===e.dt){e.dt=[];const t=Fu(e),s=co(e);if(null!==t&&null===s)t.isKeyField()||e.dt.push(new fu(t)),e.dt.push(new fu(Yr.keyField(),"asc"));else{let u=!1;for(const d of e.explicitOrderBy)e.dt.push(d),d.field.isKeyField()&&(u=!0);if(!u){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new fu(Yr.keyField(),d))}}}return e.dt}function ni(i){const e=qt(i);if(!e._t)if("F"===e.limitType)e._t=od(e.path,e.collectionGroup,Ya(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of Ya(e))t.push(new fu(d.field,"desc"===d.dir?"asc":"desc"));const s=e.endAt?new an(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new an(e.startAt.position,e.startAt.inclusive):null;e._t=od(e.path,e.collectionGroup,t,e.filters,e.limit,s,u)}return e._t}function Lu(i,e){e.getFirstInequalityField(),Fu(i);const t=i.filters.concat([e]);return new Ka(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Vl(i,e,t){return new Ka(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function nl(i,e){return Fl(ni(i),ni(e))&&i.limitType===e.limitType}function ad(i){return`${ku(ni(i))}|lt:${i.limitType}`}function dc(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>nd(s)).join(", ")}]`),Ki(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(u=s).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Yo(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Yo(s)).join(",")),`Target(${t})`}(ni(i))}; limitType=${i.limitType})`}function Th(i,e){return e.isFoundDocument()&&function(t,s){const u=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):Pt.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,s){for(const u of Ya(t))if(!u.field.isKeyField()&&null===s.data.field(u.field))return!1;return!0}(i,e)&&function(t,s){for(const u of t.filters)if(!u.matches(s))return!1;return!0}(i,e)&&(s=e,!((t=i).startAt&&!function(u,d,m){const D=tr(u,d,m);return u.inclusive?D<=0:D<0}(t.startAt,Ya(t),s)||t.endAt&&!function(u,d,m){const D=tr(u,d,m);return u.inclusive?D>=0:D>0}(t.endAt,Ya(t),s)));var t,s}function Qa(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Sh(i){return(e,t)=>{let s=!1;for(const u of Ya(i)){const d=Ah(u,e,t);if(0!==d)return d;s=s||u.field.isKeyField()}return 0}}function Ah(i,e,t){const s=i.field.isKeyField()?Pt.comparator(e.key,t.key):function(u,d,m){const D=d.data.field(u),U=m.data.field(u);return null!==D&&null!==U?Ci(D,U):$t()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return $t()}}function hc(i,e){if(i.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ls(e)?"-0":e}}function xh(i){return{integerValue:""+i}}function rl(i,e){return b(e)?xh(e):hc(i,e)}class il{constructor(){this._=void 0}}function op(i,e,t){return i instanceof sl?function(s,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return u&&(d.fields.__previous_value__=u),{mapValue:d}}(t,e):i instanceof ca?fc(i,e):i instanceof gu?Vu(i,e):function(s,u){const d=Mh(s,u),m=ud(d)+ud(s.gt);return Ou(d)&&Ou(s.gt)?xh(m):hc(s.yt,m)}(i,e)}function Uu(i,e,t){return i instanceof ca?fc(i,e):i instanceof gu?Vu(i,e):t}function Mh(i,e){return i instanceof mu?Ou(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class sl extends il{}class ca extends il{constructor(e){super(),this.elements=e}}function fc(i,e){const t=ld(e);for(const s of i.elements)t.some(u=>oi(u,s))||t.push(s);return{arrayValue:{values:t}}}class gu extends il{constructor(e){super(),this.elements=e}}function Vu(i,e){let t=ld(e);for(const s of i.elements)t=t.filter(u=>!oi(u,s));return{arrayValue:{values:t}}}class mu extends il{constructor(e,t){super(),this.yt=e,this.gt=t}}function ud(i){return z(i.integerValue||i.doubleValue)}function ld(i){return Ta(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Ja{constructor(e,t){this.field=e,this.transform=t}}class up{constructor(e,t){this.version=e,this.transformResults=t}}class Ti{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ti}static exists(e){return new Ti(void 0,e)}static updateTime(e){return new Ti(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ol(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class pc{}function Rh(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new da(i.key,Ti.none()):new ju(i.key,i.data,Ti.none());{const t=i.data,s=Us.empty();let u=new vi(Yr.comparator);for(let d of e.fields)if(!u.has(d)){let m=t.field(d);null===m&&d.length>1&&(d=d.popLast(),m=t.field(d)),null===m?s.delete(d):s.set(d,m),u=u.add(d)}return new Xa(i.key,s,new Io(u.toArray()),Ti.none())}}function Bl(i,e,t){i instanceof ju?function(s,u,d){const m=s.value.clone(),D=dd(s.fieldTransforms,u,d.transformResults);m.setAll(D),u.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(i,e,t):i instanceof Xa?function(s,u,d){if(!ol(s.precondition,u))return void u.convertToUnknownDocument(d.version);const m=dd(s.fieldTransforms,u,d.transformResults),D=u.data;D.setAll(cd(s)),D.setAll(m),u.convertToFoundDocument(d.version,D).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Bu(i,e,t,s){return i instanceof ju?function(u,d,m,D){if(!ol(u.precondition,d))return m;const U=u.value.clone(),G=yu(u.fieldTransforms,D,d);return U.setAll(G),d.convertToFoundDocument(d.version,U).setHasLocalMutations(),null}(i,e,t,s):i instanceof Xa?function(u,d,m,D){if(!ol(u.precondition,d))return m;const U=yu(u.fieldTransforms,D,d),G=d.data;return G.setAll(cd(u)),G.setAll(U),d.convertToFoundDocument(d.version,G).setHasLocalMutations(),null===m?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(ne=>ne.field))}(i,e,t,s):(m=t,ol(i.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m);var d,m}function Oh(i,e){let t=null;for(const s of i.fieldTransforms){const u=e.data.field(s.field),d=Mh(s.transform,u||null);null!=d&&(null===t&&(t=Us.empty()),t.set(s.field,d))}return t||null}function gc(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===s||t&&s&&zo(t,s,(u,d)=>function ap(i,e){return i.field.isEqual(e.field)&&(s=e.transform,(t=i.transform)instanceof ca&&s instanceof ca||t instanceof gu&&s instanceof gu?zo(t.elements,s.elements,oi):t instanceof mu&&s instanceof mu?oi(t.gt,s.gt):t instanceof sl&&s instanceof sl);var t,s}(u,d))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,s}class ju extends pc{constructor(e,t,s,u=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Xa extends pc{constructor(e,t,s,u,d=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=u,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function cd(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function dd(i,e,t){const s=new Map;Qt(i.length===t.length);for(let u=0;u<t.length;u++){const d=i[u],m=d.transform,D=e.data.field(d.field);s.set(d.field,Uu(m,D,t[u]))}return s}function yu(i,e,t){const s=new Map;for(const u of i){const d=u.transform,m=t.data.field(u.field);s.set(u.field,op(d,m,e))}return s}class da extends pc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mc extends pc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Nh{constructor(e){this.count=e}}var xs,Ar;function Ph(i){switch(i){default:return $t();case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0}}function hd(i){if(void 0===i)return vr("GRPC error has no .code"),ot.UNKNOWN;switch(i){case xs.OK:return ot.OK;case xs.CANCELLED:return ot.CANCELLED;case xs.UNKNOWN:return ot.UNKNOWN;case xs.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case xs.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case xs.INTERNAL:return ot.INTERNAL;case xs.UNAVAILABLE:return ot.UNAVAILABLE;case xs.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case xs.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case xs.NOT_FOUND:return ot.NOT_FOUND;case xs.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case xs.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case xs.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case xs.ABORTED:return ot.ABORTED;case xs.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case xs.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case xs.DATA_LOSS:return ot.DATA_LOSS;default:return $t()}}(Ar=xs||(xs={}))[Ar.OK=0]="OK",Ar[Ar.CANCELLED=1]="CANCELLED",Ar[Ar.UNKNOWN=2]="UNKNOWN",Ar[Ar.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ar[Ar.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ar[Ar.NOT_FOUND=5]="NOT_FOUND",Ar[Ar.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ar[Ar.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ar[Ar.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ar[Ar.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ar[Ar.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ar[Ar.ABORTED=10]="ABORTED",Ar[Ar.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ar[Ar.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ar[Ar.INTERNAL=13]="INTERNAL",Ar[Ar.UNAVAILABLE=14]="UNAVAILABLE",Ar[Ar.DATA_LOSS=15]="DATA_LOSS";class Ma{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[u,d]of s)if(this.equalsFn(u,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),u=this.inner[s];if(void 0===u)return this.inner[s]=[[e,t]],void this.innerSize++;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],e))return void(u[d]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return 1===s.length?delete this.inner[t]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){wo(this.inner,(t,s)=>{for(const[u,d]of s)e(u,d)})}isEmpty(){return Wa(this.inner)}size(){return this.innerSize}}const yc=new is(Pt.comparator);function Vs(){return yc}const _c=new is(Pt.comparator);function _u(...i){let e=_c;for(const t of i)e=e.insert(t.key,t);return e}function $u(i){let e=_c;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ha(){return fa()}function ho(){return fa()}function fa(){return new Ma(i=>i.toString(),(i,e)=>i.isEqual(e))}const vc=new is(Pt.comparator),jl=new vi(Pt.comparator);function sr(...i){let e=jl;for(const t of i)e=e.add(t);return e}const bc=new vi(Un);function wc(){return bc}class al{constructor(e,t,s,u,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const u=new Map;return u.set(e,$l.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new al(gn.min(),u,wc(),Vs(),sr())}}class $l{constructor(e,t,s,u,d){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new $l(s,t,sr(),sr(),sr())}}class Jo{constructor(e,t,s,u){this.It=e,this.removedTargetIds=t,this.key=s,this.Tt=u}}class Ec{constructor(e,t){this.targetId=e,this.Et=t}}class Hl{constructor(e,t,s=y.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=u}}class Ic{constructor(){this.At=0,this.Rt=Co(),this.bt=y.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=sr(),t=sr(),s=sr();return this.Rt.forEach((u,d)=>{switch(d){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:s=s.add(u);break;default:$t()}}),new $l(this.bt,this.Pt,e,t,s)}xt(){this.vt=!1,this.Rt=Co()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Hu{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Vs(),this.qt=fd(),this.Ut=new vi(Un)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const s=this.Wt(t);switch(e.state){case 0:this.zt(t)&&s.Dt(e.resumeToken);break;case 1:s.Mt(),s.Vt||s.xt(),s.Dt(e.resumeToken);break;case 2:s.Mt(),s.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(s.Ft(),s.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),s.Dt(e.resumeToken));break;default:$t()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((s,u)=>{this.zt(u)&&t(u)})}Jt(e){const t=e.targetId,s=e.Et.count,u=this.Yt(t);if(u){const d=u.target;if(Ll(d))if(0===s){const m=new Pt(d.path);this.Qt(t,m,Di.newNoDocument(m,gn.min()))}else Qt(1===s);else this.Xt(t)!==s&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((d,m)=>{const D=this.Yt(m);if(D){if(d.current&&Ll(D.target)){const U=new Pt(D.target.path);null!==this.Lt.get(U)||this.te(m,U)||this.Qt(m,U,Di.newNoDocument(U,e))}d.St&&(t.set(m,d.Ct()),d.xt())}});let s=sr();this.qt.forEach((d,m)=>{let D=!0;m.forEachWhile(U=>{const G=this.Yt(U);return!G||2===G.purpose||(D=!1,!1)}),D&&(s=s.add(d))}),this.Lt.forEach((d,m)=>m.setReadTime(e));const u=new al(e,t,this.Ut,this.Lt,s);return this.Lt=Vs(),this.qt=fd(),this.Ut=new vi(Un),u}Gt(e,t){if(!this.zt(e))return;const s=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,s),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,s){if(!this.zt(e))return;const u=this.Wt(e);this.te(e,t)?u.Nt(t,1):u.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),s&&(this.Lt=this.Lt.insert(t,s))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new Ic,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new vi(Un),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||It("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new Ic),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function fd(){return new is(Pt.comparator)}function Co(){return new is(Pt.comparator)}const kh={asc:"ASCENDING",desc:"DESCENDING"},pd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gd={and:"AND",or:"OR"};class eu{constructor(e,t){this.databaseId=e,this.wt=t}}function pa(i,e){return i.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ul(i,e){return i.wt?e.toBase64():e.toUint8Array()}function Cc(i,e){return pa(i,e.toTimestamp())}function Yi(i){return Qt(!!i),gn.fromTimestamp(function(e){const t=k(e);return new Wn(t.seconds,t.nanos)}(i))}function ll(i,e){return(t=i,new Zn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function md(i){const e=Zn.fromString(i);return Qt(vd(e)),e}function cl(i,e){return ll(i.databaseId,e.path)}function Ra(i,e){const t=md(e);if(t.get(1)!==i.databaseId.projectId)throw new wt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new wt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Pt(g(t))}function yd(i,e){return ll(i.databaseId,e)}function _(i){const e=md(i);return 4===e.length?Zn.emptyPath():g(e)}function c(i){return new Zn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function g(i){return Qt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function w(i,e,t){return{name:cl(i,e),fields:t.value.mapValue.fields}}function j(i,e,t){const s=Ra(i,e.name),u=Yi(e.updateTime),d=e.createTime?Yi(e.createTime):gn.min(),m=new Us({mapValue:{fields:e.fields}}),D=Di.newFoundDocument(s,u,d,m);return t&&D.setHasCommittedMutations(),t?D.setHasCommittedMutations():D}function ct(i,e){let t;if(e instanceof ju)t={update:w(i,e.key,e.value)};else if(e instanceof da)t={delete:cl(i,e.key)};else if(e instanceof Xa)t={update:w(i,e.key,e.data),updateMask:_d(e.fieldMask)};else{if(!(e instanceof mc))return $t();t={verify:cl(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,d){const m=d.transform;if(m instanceof sl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ca)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof gu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof mu)return{fieldPath:d.field.canonicalString(),increment:m.gt};throw $t()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Cc(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:$t()),t;var u}function Bt(i,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?Ti.updateTime(Yi(u.updateTime)):void 0!==u.exists?Ti.exists(u.exists):Ti.none():Ti.none(),s=e.updateTransforms?e.updateTransforms.map(u=>function(d,m){let D=null;"setToServerValue"in m?(Qt("REQUEST_TIME"===m.setToServerValue),D=new sl):"appendMissingElements"in m?D=new ca(m.appendMissingElements.values||[]):"removeAllFromArray"in m?D=new gu(m.removeAllFromArray.values||[]):"increment"in m?D=new mu(d,m.increment):$t();const U=Yr.fromServerFormat(m.fieldPath);return new Ja(U,D)}(i,u)):[];var u;if(e.update){const u=Ra(i,e.update.name),d=new Us({mapValue:{fields:e.update.fields}});if(e.updateMask){const m=new Io((e.updateMask.fieldPaths||[]).map(G=>Yr.fromServerFormat(G)));return new Xa(u,d,m,t,s)}return new ju(u,d,t,s)}if(e.delete){const u=Ra(i,e.delete);return new da(u,t)}if(e.verify){const u=Ra(i,e.verify);return new mc(u,t)}return $t()}function Vn(i,e){return{documents:[yd(i,e.path)]}}function In(i,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=yd(i,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=yd(i,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const u=function(U){if(0!==U.length)return Dc(Nr.create(U,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const d=function(U){if(0!==U.length)return U.map(G=>{return{field:ma((ne=G).field),direction:Fh(ne.dir)};var ne})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const m=(G=e.limit,i.wt||Ki(G)?G:{value:G});var G,D,U;return null!==m&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt={before:(D=e.startAt).inclusive,values:D.position}),e.endAt&&(t.structuredQuery.endAt={before:!(U=e.endAt).inclusive,values:U.position}),t}function gs(i){let e=_(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let u=null;if(s>0){Qt(1===s);const ne=t.from[0];ne.allDescendants?u=ne.collectionId:e=e.child(ne.collectionId)}let d=[];t.where&&(d=function(ne){const Ee=Zl(ne);return Ee instanceof Nr&&Oo(Ee)?Ee.getFilters():[Ee]}(t.where));let m=[];t.orderBy&&(m=t.orderBy.map(ne=>{return new fu(tu((Ee=ne).field),function(We){switch(We){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ee.direction));var Ee}));let D=null;t.limit&&(D=function(ne){let Ee;return Ee="object"==typeof ne?ne.value:ne,Ki(Ee)?null:Ee}(t.limit));let U=null;var ne;t.startAt&&(U=new an((ne=t.startAt).values||[],!!ne.before));let G=null;return t.endAt&&(G=function(ne){return new an(ne.values||[],!ne.before)}(t.endAt)),lc(e,u,m,d,D,"F",U,G)}function Zl(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=tu(e.unaryFilter.field);return xn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=tu(e.unaryFilter.field);return xn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=tu(e.unaryFilter.field);return xn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=tu(e.unaryFilter.field);return xn.create(d,"!=",{nullValue:"NULL_VALUE"});default:return $t()}}(i):void 0!==i.fieldFilter?xn.create(tu((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $t()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Nr.create(e.compositeFilter.filters.map(t=>Zl(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return $t()}}(e.compositeFilter.op))}(i):$t();var e}function Fh(i){return kh[i]}function Gl(i){return pd[i]}function Oa(i){return gd[i]}function ma(i){return{fieldPath:i.canonicalString()}}function tu(i){return Yr.fromServerFormat(i.fieldPath)}function Dc(i){return i instanceof xn?function(e){if("=="===e.op){if(F(e.value))return{unaryFilter:{field:ma(e.field),op:"IS_NAN"}};if(N(e.value))return{unaryFilter:{field:ma(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(F(e.value))return{unaryFilter:{field:ma(e.field),op:"IS_NOT_NAN"}};if(N(e.value))return{unaryFilter:{field:ma(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ma(e.field),op:Gl(e.op),value:e.value}}}(i):i instanceof Nr?function(e){const t=e.getFilters().map(s=>Dc(s));return 1===t.length?t[0]:{compositeFilter:{op:Oa(e.op),filters:t}}}(i):$t()}function _d(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function vd(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Do(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=dl(e)),e=jg(i.get(t),e);return dl(e)}function jg(i,e){let t=e;const s=i.length;for(let u=0;u<s;u++){const d=i.charAt(u);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function dl(i){return i+"\x01\x01"}function Xo(i){const e=i.length;if(Qt(e>=2),2===e)return Qt("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Zn.emptyPath();const t=e-2,s=[];let u="";for(let d=0;d<e;){const m=i.indexOf("\x01",d);switch((m<0||m>t)&&$t(),i.charAt(m+1)){case"\x01":const D=i.substring(d,m);let U;0===u.length?U=D:(u+=D,U=u,u=""),s.push(U);break;case"\x10":u+=i.substring(d,m),u+="\0";break;case"\x11":u+=i.substring(d,m+1);break;default:$t()}d=m+2}return new Zn(s)}const Ly=["userId","batchId"];function lp(i,e){return[i,Do(e)]}function cp(i,e,t){return[i,Do(e),t]}const Uy={},Vy=["prefixPath","collectionGroup","readTime","documentId"],By=["prefixPath","collectionGroup","documentId"],jy=["collectionGroup","readTime","prefixPath","documentId"],$g=["canonicalId","targetId"],Lh=["targetId","path"],$y=["path","targetId"],dp=["collectionId","parent"],Hy=["indexId","uid"],Bs=["uid","sequenceNumber"],Zy=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Gy=["indexId","uid","orderedDocumentKey"],hp=["userId","collectionPath","documentId"],Hg=["userId","collectionPath","largestBatchId"],zy=["userId","collectionGroup","largestBatchId"],Zg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],qy=[...Zg,"documentOverlays"],Gg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],fp=Gg,Xv=[...fp,"indexConfiguration","indexState","indexEntries"];class zg extends aa{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function ms(i,e){const t=qt(i);return oo.M(t.se,e)}class bd{constructor(e,t,s,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const d=this.mutations[u];d.key.isEqual(e.key)&&Bl(d,e,s[u])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Bu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Bu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=ho();return this.mutations.forEach(u=>{const d=e.get(u.key),m=d.overlayedDocument;let D=this.applyToLocalView(m,d.mutatedFields);D=t.has(u.key)?null:D;const U=Rh(m,D);null!==U&&s.set(u.key,U),m.isValidDocument()||m.convertToNoDocument(gn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),sr())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,(t,s)=>gc(t,s))&&zo(this.baseMutations,e.baseMutations,(t,s)=>gc(t,s))}}class Uh{constructor(e,t,s,u){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=u}static from(e,t,s){Qt(e.mutations.length===s.length);let u=vc;const d=e.mutations;for(let m=0;m<d.length;m++)u=u.insert(d[m].key,s[m].version);return new Uh(e,t,s,u)}}class Vh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Zu{constructor(e,t,s,u,d=gn.min(),m=gn.min(),D=y.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=D}withSequenceNumber(e){return new Zu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Zu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Zu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Wy{constructor(e){this.ie=e}}function pp(i,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:wd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:cl(u=i.ie,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:pa(u,d.version.toTimestamp()),createTime:pa(u,d.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:Gu(e.version)};else{if(!e.isUnknownDocument())return $t();s.unknownDocument={path:t.path.toArray(),version:Gu(e.version)}}var u,d;return s}function wd(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Gu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Tc(i){const e=new Wn(i.seconds,i.nanoseconds);return gn.fromTimestamp(e)}function zu(i,e){const t=(e.baseMutations||[]).map(d=>Bt(i.ie,d));for(let d=0;d<e.mutations.length-1;++d){const m=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(m.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const s=e.mutations.map(d=>Bt(i.ie,d)),u=Wn.fromMillis(e.localWriteTimeMs);return new bd(e.batchId,u,t,s)}function Ed(i){const e=Tc(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Tc(i.lastLimboFreeSnapshotVersion):gn.min();let s;var u;return void 0!==i.query.documents?(Qt(1===(u=i.query).documents.length),s=ni(tl(_(u.documents[0])))):s=ni(gs(i.query)),new Zu(s,i.targetId,0,i.lastListenSequenceNumber,e,t,y.fromBase64String(i.resumeToken))}function Bh(i,e){const t=Gu(e.snapshotVersion),s=Gu(e.lastLimboFreeSnapshotVersion);let u;u=Ll(e.target)?Vn(i.ie,e.target):In(i.ie,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ku(e.target),readTime:t,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function jh(i){const e=gs({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Vl(e,e.limit,"L"):e}function $h(i,e){return new Vh(e.largestBatchId,Bt(i.ie,e.overlayMutation))}function hl(i,e){const t=e.path.lastSegment();return[i,Do(e.path.popLast()),t]}function qg(i,e,t,s){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:Gu(s.readTime),documentKey:Do(s.documentKey.path),largestBatchId:s.largestBatchId}}class gp{getBundleMetadata(e,t){return Id(e).get(t).next(s=>{if(s)return{id:(u=s).bundleId,createTime:Tc(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return Id(e).put({bundleId:(s=t).id,createTime:Gu(Yi(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Wg(e).get(t).next(s=>{if(s)return{name:(u=s).name,query:jh(u.bundledQuery),readTime:Tc(u.readTime)};var u})}saveNamedQuery(e,t){return Wg(e).put({name:(s=t).name,readTime:Gu(Yi(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Id(i){return ms(i,"bundles")}function Wg(i){return ms(i,"namedQueries")}class Sc{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new Sc(e,t.uid||"")}getOverlay(e,t){return fl(e).get(hl(this.userId,t)).next(s=>s?$h(this.yt,s):null)}getOverlays(e,t){const s=ha();return et.forEach(t,u=>this.getOverlay(e,u).next(d=>{null!==d&&s.set(u,d)})).next(()=>s)}saveOverlays(e,t,s){const u=[];return s.forEach((d,m)=>{const D=new Vh(t,m);u.push(this.oe(e,D))}),et.waitFor(u)}removeOverlaysForBatchId(e,t,s){const u=new Set;t.forEach(m=>u.add(Do(m.getCollectionPath())));const d=[];return u.forEach(m=>{const D=IDBKeyRange.bound([this.userId,m,s],[this.userId,m,s+1],!1,!0);d.push(fl(e).Y("collectionPathOverlayIndex",D))}),et.waitFor(d)}getOverlaysForCollection(e,t,s){const u=ha(),d=Do(t),m=IDBKeyRange.bound([this.userId,d,s],[this.userId,d,Number.POSITIVE_INFINITY],!0);return fl(e).W("collectionPathOverlayIndex",m).next(D=>{for(const U of D){const G=$h(this.yt,U);u.set(G.getKey(),G)}return u})}getOverlaysForCollectionGroup(e,t,s,u){const d=ha();let m;const D=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return fl(e).Z({index:"collectionGroupOverlayIndex",range:D},(U,G,ne)=>{const Ee=$h(this.yt,G);d.size()<u||Ee.largestBatchId===m?(d.set(Ee.getKey(),Ee),m=Ee.largestBatchId):ne.done()}).next(()=>d)}oe(e,t){return fl(e).put(function(s,u,d){const[m,D,U]=hl(u,d.mutation.key);return{userId:u,collectionPath:D,documentId:U,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:ct(s.ie,d.mutation)}}(this.yt,this.userId,t))}}function fl(i){return ms(i,"documentOverlays")}class ya{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(z(e.integerValue));else if("doubleValue"in e){const s=z(e.doubleValue);isNaN(s)?this.he(t,13):(this.he(t,15),Ls(s)?t.le(0):t.le(s))}else if("timestampValue"in e){const s=e.timestampValue;this.he(t,20),"string"==typeof s?t.fe(s):(t.fe(`${s.seconds||""}`),t.le(s.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(X(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.he(t,45),t.le(s.latitude||0),t.le(s.longitude||0)}else"mapValue"in e?Ue(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):$t()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const s=e.fields||{};this.he(t,55);for(const u of Object.keys(s))this.de(u,t),this.ce(s[u],t)}ye(e,t){const s=e.values||[];this.he(t,50);for(const u of s)this.ce(u,t)}me(e,t){this.he(t,37),Pt.fromName(e).path.forEach(s=>{this.he(t,60),this.pe(s,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function Kg(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Hh(i){const e=64-function(t){let s=0;for(let u=0;u<8;++u){const d=Kg(255&t[u]);if(s+=d,8!==d)break}return s}(i);return Math.ceil(e/8)}ya.Ie=new ya;class Yy{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ee(s.value),s=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.be(s.value),s=t.next();this.Pe()}ve(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ee(s);else if(s<2048)this.Ee(960|s>>>6),this.Ee(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|s>>>12),this.Ee(128|63&s>>>6),this.Ee(128|63&s);else{const u=t.codePointAt(0);this.Ee(240|u>>>18),this.Ee(128|63&u>>>12),this.Ee(128|63&u>>>6),this.Ee(128|63&u)}}this.Ae()}Ve(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.be(s);else if(s<2048)this.be(960|s>>>6),this.be(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.be(480|s>>>12),this.be(128|63&s>>>6),this.be(128|63&s);else{const u=t.codePointAt(0);this.be(240|u>>>18),this.be(128|63&u>>>12),this.be(128|63&u>>>6),this.be(128|63&u)}}this.Pe()}Se(e){const t=this.De(e),s=Hh(t);this.Ce(1+s),this.buffer[this.position++]=255&s;for(let u=t.length-s;u<t.length;++u)this.buffer[this.position++]=255&t[u]}xe(e){const t=this.De(e),s=Hh(t);this.Ce(1+s),this.buffer[this.position++]=~(255&s);for(let u=t.length-s;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(u){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,u,!1),new Uint8Array(d.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let u=1;u<t.length;++u)t[u]^=s?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class Qy{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class Yg{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class vu{constructor(){this.$e=new Yy,this.Be=new Qy(this.$e),this.Le=new Yg(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class zl{constructor(e,t,s,u){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=u}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new zl(this.indexId,this.documentKey,this.arrayValue,s)}}function pl(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Qg(i.arrayValue,e.arrayValue),0!==t?t:(t=Qg(i.directionalValue,e.directionalValue),0!==t?t:Pt.comparator(i.documentKey,e.documentKey)))}function Qg(i,e){for(let t=0;t<i.length&&t<e.length;++t){const s=i[t]-e[t];if(0!==s)return s}return i.length-e.length}class mp{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const s=t;s.isInequality()?this.Qe=s:this.Ge.push(s)}}je(e){Qt(e.collectionGroup===this.collectionId);const t=Ha(e);if(void 0!==t&&!this.We(t))return!1;const s=Wi(e);let u=0,d=0;for(;u<s.length&&this.We(s[u]);++u);if(u===s.length)return!0;if(void 0!==this.Qe){const m=s[u];if(!this.ze(this.Qe,m)||!this.He(this.Ke[d++],m))return!1;++u}for(;u<s.length;++u){const m=s[u];if(d>=this.Ke.length||!this.He(this.Ke[d++],m))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Jg(i){var e,t;if(Qt(i instanceof xn||i instanceof Nr),i instanceof xn){if(i instanceof Nu){const u=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(d=>xn.create(i.field,"==",d)))||[];return Nr.create(u,"or")}return i}const s=i.filters.map(u=>Jg(u));return Nr.create(s,i.op)}function Xg(i){if(0===i.getFilters().length)return[];const e=_p(Jg(i));return Qt(Jy(e)),yp(e)||Zh(e)?[e]:e.getFilters()}function yp(i){return i instanceof xn}function Zh(i){return i instanceof Nr&&Oo(i)}function Jy(i){return yp(i)||Zh(i)||function(e){if(e instanceof Nr&&Aa(e)){for(const t of e.getFilters())if(!yp(t)&&!Zh(t))return!1;return!0}return!1}(i)}function _p(i){if(Qt(i instanceof xn||i instanceof Nr),i instanceof xn)return i;if(1===i.filters.length)return _p(i.filters[0]);const e=i.filters.map(s=>_p(s));let t=Nr.create(e,i.op);return t=qu(t),Jy(t)?t:(Qt(t instanceof Nr),Qt(Sa(t)),Qt(t.filters.length>1),t.filters.reduce((s,u)=>ql(s,u)))}function ql(i,e){let t;return Qt(i instanceof xn||i instanceof Nr),Qt(e instanceof xn||e instanceof Nr),t=i instanceof xn?e instanceof xn?Nr.create([i,e],"and"):em(i,e):e instanceof xn?em(e,i):function(s,u){if(Qt(s.filters.length>0&&u.filters.length>0),Sa(s)&&Sa(u))return Eh(s,u.getFilters());const d=Aa(s)?s:u,m=Aa(s)?u:s,D=d.filters.map(U=>ql(U,m));return Nr.create(D,"or")}(i,e),qu(t)}function em(i,e){if(Sa(e))return Eh(e,i.getFilters());{const t=e.filters.map(s=>ql(i,s));return Nr.create(t,"or")}}function qu(i){if(Qt(i instanceof xn||i instanceof Nr),i instanceof xn)return i;const e=i.getFilters();if(1===e.length)return qu(e[0]);if(Qo(i))return i;const t=e.map(u=>qu(u)),s=[];return t.forEach(u=>{u instanceof xn?s.push(u):u instanceof Nr&&(u.op===i.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:Nr.create(s,i.op)}class Cd{constructor(){this.Je=new vp}addToCollectionParentIndex(e,t){return this.Je.add(t),et.resolve()}getCollectionParents(e,t){return et.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return et.resolve()}deleteFieldIndex(e,t){return et.resolve()}getDocumentsMatchingTarget(e,t){return et.resolve(null)}getIndexType(e,t){return et.resolve(0)}getFieldIndexes(e,t){return et.resolve([])}getNextCollectionGroupToUpdate(e){return et.resolve(null)}getMinOffset(e,t){return et.resolve(Ss.min())}getMinOffsetFromCollectionGroup(e,t){return et.resolve(Ss.min())}updateCollectionGroup(e,t,s){return et.resolve()}updateIndexEntries(e,t){return et.resolve()}}class vp{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),u=this.index[t]||new vi(Zn.comparator),d=!u.has(s);return this.index[t]=u.add(s),d}has(e){const t=e.lastSegment(),s=e.popLast(),u=this.index[t];return u&&u.has(s)}getEntries(e){return(this.index[e]||new vi(Zn.comparator)).toArray()}}const Dd=new Uint8Array(0);class Xy{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new vp,this.Xe=new Ma(s=>ku(s),(s,u)=>Fl(s,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const s=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const d={collectionId:s,parent:Do(u)};return tm(e).put(d)}return et.resolve()}getCollectionParents(e,t){const s=[],u=IDBKeyRange.bound([t,""],[Mu(t),""],!1,!0);return tm(e).W(u).next(d=>{for(const m of d){if(m.collectionId!==t)break;s.push(Xo(m.parent))}return s})}addFieldIndex(e,t){const s=Sd(e),u={indexId:(m=t).indexId,collectionGroup:m.collectionGroup,fields:m.fields.map(D=>[D.fieldPath.canonicalString(),D.kind])};var m;delete u.indexId;const d=s.add(u);if(t.indexState){const m=Ac(e);return d.next(D=>{m.put(qg(D,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return d.next()}deleteFieldIndex(e,t){const s=Sd(e),u=Ac(e),d=Td(e);return s.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=Td(e);let u=!0;const d=new Map;return et.forEach(this.Ze(t),m=>this.tn(e,m).next(D=>{u&&(u=!!D),d.set(m,D)})).next(()=>{if(u){let m=sr();const D=[];return et.forEach(d,(U,G)=>{var ne;It("IndexedDbIndexManager",`Using index ${ne=U,`id=${ne.indexId}|cg=${ne.collectionGroup}|f=${ne.fields.map(jr=>`${jr.fieldPath}:${jr.kind}`).join(",")}`} to execute ${ku(t)}`);const Ee=function(jr,Oi){const zr=Ha(Oi);if(void 0===zr)return null;for(const ri of pu(jr,zr.fieldPath))switch(ri.op){case"array-contains-any":return ri.value.arrayValue.values||[];case"array-contains":return[ri.value]}return null}(G,U),We=function(jr,Oi){const zr=new Map;for(const ri of Wi(Oi))for(const mo of pu(jr,ri.fieldPath))switch(mo.op){case"==":case"in":zr.set(ri.fieldPath.canonicalString(),mo.value);break;case"not-in":case"!=":return zr.set(ri.fieldPath.canonicalString(),mo.value),Array.from(zr.values())}return null}(G,U),bt=function(jr,Oi){const zr=[];let ri=!0;for(const mo of Wi(Oi)){const Xc=0===mo.kind?Dh(jr,mo.fieldPath,jr.startAt):uc(jr,mo.fieldPath,jr.startAt);zr.push(Xc.value),ri&&(ri=Xc.inclusive)}return new an(zr,ri)}(G,U),Tt=function(jr,Oi){const zr=[];let ri=!0;for(const mo of Wi(Oi)){const Xc=0===mo.kind?uc(jr,mo.fieldPath,jr.endAt):Dh(jr,mo.fieldPath,jr.endAt);zr.push(Xc.value),ri&&(ri=Xc.inclusive)}return new an(zr,ri)}(G,U),en=this.en(U,G,bt),Cn=this.en(U,G,Tt),hi=this.nn(U,G,We),Qi=this.sn(U.indexId,Ee,en,bt.inclusive,Cn,Tt.inclusive,hi);return et.forEach(Qi,jr=>s.J(jr,t.limit).next(Oi=>{Oi.forEach(zr=>{const ri=Pt.fromSegments(zr.documentKey);m.has(ri)||(m=m.add(ri),D.push(ri))})}))}).next(()=>D)}return et.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:Xg(Nr.create(e.filters,"and")).map(s=>od(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,s,u,d,m,D){const U=(null!=t?t.length:1)*Math.max(s.length,d.length),G=U/(null!=t?t.length:1),ne=[];for(let Ee=0;Ee<U;++Ee){const We=t?this.rn(t[Ee/G]):Dd,bt=this.on(e,We,s[Ee%G],u),Tt=this.un(e,We,d[Ee%G],m),en=D.map(Cn=>this.on(e,We,Cn,!0));ne.push(...this.createRange(bt,Tt,en))}return ne}on(e,t,s,u){const d=new zl(e,Pt.empty(),t,s);return u?d:d.Ue()}un(e,t,s,u){const d=new zl(e,Pt.empty(),t,s);return u?d.Ue():d}tn(e,t){const s=new mp(t),u=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,u).next(d=>{let m=null;for(const D of d)s.je(D)&&(!m||D.fields.length>m.fields.length)&&(m=D);return m})}getIndexType(e,t){let s=2;const u=this.Ze(t);return et.forEach(u,d=>this.tn(e,d).next(m=>{m?0!==s&&m.fields.length<function(D){let U=new vi(Yr.comparator),G=!1;for(const ne of D.filters)for(const Ee of ne.getFlattenedFilters())Ee.field.isKeyField()||("array-contains"===Ee.op||"array-contains-any"===Ee.op?G=!0:U=U.add(Ee.field));for(const ne of D.orderBy)ne.field.isKeyField()||(U=U.add(ne.field));return U.size+(G?1:0)}(d)&&(s=1):s=0})).next(()=>null!==t.limit&&u.length>1&&2===s?1:s)}cn(e,t){const s=new vu;for(const u of Wi(e)){const d=t.data.field(u.fieldPath);if(null==d)return null;const m=s.qe(u.kind);ya.Ie.ue(d,m)}return s.Fe()}rn(e){const t=new vu;return ya.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const s=new vu;return ya.Ie.ue(Eo(this.databaseId,t),s.qe(function(u){const d=Wi(u);return 0===d.length?0:d[d.length-1].kind}(e))),s.Fe()}nn(e,t,s){if(null===s)return[];let u=[];u.push(new vu);let d=0;for(const m of Wi(e)){const D=s[d++];for(const U of u)if(this.hn(t,m.fieldPath)&&Ta(D))u=this.ln(u,m,D);else{const G=U.qe(m.kind);ya.Ie.ue(D,G)}}return this.fn(u)}en(e,t,s){return this.nn(e,t,s.position)}fn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Fe();return t}ln(e,t,s){const u=[...e],d=[];for(const m of s.arrayValue.values||[])for(const D of u){const U=new vu;U.seed(D.Fe()),ya.Ie.ue(m,U.qe(t.kind)),d.push(U)}return d}hn(e,t){return!!e.filters.find(s=>s instanceof xn&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=Sd(e),u=Ac(e);return(t?s.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.W()).next(d=>{const m=[];return et.forEach(d,D=>u.get([D.indexId,this.uid]).next(U=>{m.push(function(G,ne){const Ee=ne?new Wo(ne.sequenceNumber,new Ss(Tc(ne.readTime),new Pt(Xo(ne.documentKey)),ne.largestBatchId)):Wo.empty(),We=G.fields.map(([bt,Tt])=>new qo(Yr.fromServerFormat(bt),Tt));return new $a(G.indexId,G.collectionGroup,We,Ee)}(D,U))})).next(()=>m)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,u)=>{const d=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==d?d:Un(s.collectionGroup,u.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const u=Sd(e),d=Ac(e);return this.dn(e).next(m=>u.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(D=>et.forEach(D,U=>d.put(qg(U.indexId,this.user,m,s)))))}updateIndexEntries(e,t){const s=new Map;return et.forEach(t,(u,d)=>{const m=s.get(u.collectionGroup);return(m?et.resolve(m):this.getFieldIndexes(e,u.collectionGroup)).next(D=>(s.set(u.collectionGroup,D),et.forEach(D,U=>this._n(e,u,U).next(G=>{const ne=this.wn(d,U);return G.isEqual(ne)?et.resolve():this.mn(e,d,U,G,ne)}))))})}gn(e,t,s,u){return Td(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.an(s,t.key),documentKey:t.key.path.toArray()})}yn(e,t,s,u){return Td(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.an(s,t.key),t.key.path.toArray()])}_n(e,t,s){const u=Td(e);let d=new vi(pl);return u.Z({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.an(s,t)])},(m,D)=>{d=d.add(new zl(s.indexId,t,D.arrayValue,D.directionalValue))}).next(()=>d)}wn(e,t){let s=new vi(pl);const u=this.cn(t,e);if(null==u)return s;const d=Ha(t);if(null!=d){const m=e.data.field(d.fieldPath);if(Ta(m))for(const D of m.arrayValue.values||[])s=s.add(new zl(t.indexId,e.key,this.rn(D),u))}else s=s.add(new zl(t.indexId,e.key,Dd,u));return s}mn(e,t,s,u,d){It("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const m=[];return function(D,U,G,ne,Ee){const We=D.getIterator(),bt=U.getIterator();let Tt=Pu(We),en=Pu(bt);for(;Tt||en;){let Cn=!1,hi=!1;if(Tt&&en){const Qi=G(Tt,en);Qi<0?hi=!0:Qi>0&&(Cn=!0)}else null!=Tt?hi=!0:Cn=!0;Cn?(ne(en),en=Pu(bt)):hi?(Ee(Tt),Tt=Pu(We)):(Tt=Pu(We),en=Pu(bt))}}(u,d,pl,D=>{m.push(this.gn(e,t,s,D))},D=>{m.push(this.yn(e,t,s,D))}),et.waitFor(m)}dn(e){let t=1;return Ac(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,d)=>{d.done(),t=u.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((m,D)=>pl(m,D)).filter((m,D,U)=>!D||0!==pl(m,U[D-1]));const u=[];u.push(e);for(const m of s){const D=pl(m,e),U=pl(m,t);if(0===D)u[0]=e.Ue();else if(D>0&&U<0)u.push(m),u.push(m.Ue());else if(U>0)break}u.push(t);const d=[];for(let m=0;m<u.length;m+=2){if(this.pn(u[m],u[m+1]))return[];d.push(IDBKeyRange.bound([u[m].indexId,this.uid,u[m].arrayValue,u[m].directionalValue,Dd,[]],[u[m+1].indexId,this.uid,u[m+1].arrayValue,u[m+1].directionalValue,Dd,[]]))}return d}pn(e,t){return pl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Gh)}getMinOffset(e,t){return et.mapArray(this.Ze(t),s=>this.tn(e,s).next(u=>u||$t())).next(Gh)}}function tm(i){return ms(i,"collectionParents")}function Td(i){return ms(i,"indexEntries")}function Sd(i){return ms(i,"indexConfiguration")}function Ac(i){return ms(i,"indexState")}function Gh(i){Qt(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<i.length;s++){const u=i[s].indexState.offset;Uo(u,e)<0&&(e=u),t<u.largestBatchId&&(t=u.largestBatchId)}return new Ss(e.readTime,e.documentKey,t)}const zh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ea{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new ea(e,ea.DEFAULT_COLLECTION_PERCENTILE,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function qh(i,e,t){const s=i.store("mutations"),u=i.store("documentMutations"),d=[],m=IDBKeyRange.only(t.batchId);let D=0;const U=s.Z({range:m},(ne,Ee,We)=>(D++,We.delete()));d.push(U.next(()=>{Qt(1===D)}));const G=[];for(const ne of t.mutations){const Ee=cp(e,ne.key.path,t.batchId);d.push(u.delete(Ee)),G.push(ne.key)}return et.waitFor(d).next(()=>G)}function gl(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw $t();e=i.noDocument}return JSON.stringify(e).length}ea.DEFAULT_COLLECTION_PERCENTILE=10,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ea.DEFAULT=new ea(41943040,ea.DEFAULT_COLLECTION_PERCENTILE,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ea.DISABLED=new ea(-1,0,0);class Wh{constructor(e,t,s,u){this.userId=e,this.yt=t,this.indexManager=s,this.referenceDelegate=u,this.In={}}static re(e,t,s,u){Qt(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new Wh(d,t,s,u)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ml(e).Z({index:"userMutationsIndex",range:s},(u,d,m)=>{t=!1,m.done()}).next(()=>t)}addMutationBatch(e,t,s,u){const d=xc(e),m=ml(e);return m.add({}).next(D=>{Qt("number"==typeof D);const U=new bd(D,t,s,u),G=function(We,bt,Tt){const en=Tt.baseMutations.map(hi=>ct(We.ie,hi)),Cn=Tt.mutations.map(hi=>ct(We.ie,hi));return{userId:bt,batchId:Tt.batchId,localWriteTimeMs:Tt.localWriteTime.toMillis(),baseMutations:en,mutations:Cn}}(this.yt,this.userId,U),ne=[];let Ee=new vi((We,bt)=>Un(We.canonicalString(),bt.canonicalString()));for(const We of u){const bt=cp(this.userId,We.key.path,D);Ee=Ee.add(We.key.path.popLast()),ne.push(m.put(G)),ne.push(d.put(bt,Uy))}return Ee.forEach(We=>{ne.push(this.indexManager.addToCollectionParentIndex(e,We))}),e.addOnCommittedListener(()=>{this.In[D]=U.keys()}),et.waitFor(ne).next(()=>U)})}lookupMutationBatch(e,t){return ml(e).get(t).next(s=>s?(Qt(s.userId===this.userId),zu(this.yt,s)):null)}Tn(e,t){return this.In[t]?et.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const u=s.keys();return this.In[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,u=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return ml(e).Z({index:"userMutationsIndex",range:u},(m,D,U)=>{D.userId===this.userId&&(Qt(D.batchId>=s),d=zu(this.yt,D)),U.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return ml(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(u,d,m)=>{s=d.batchId,m.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ml(e).W("userMutationsIndex",t).next(s=>s.map(u=>zu(this.yt,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=lp(this.userId,t.path),u=IDBKeyRange.lowerBound(s),d=[];return xc(e).Z({range:u},(m,D,U)=>{const[G,ne,Ee]=m,We=Xo(ne);if(G===this.userId&&t.path.isEqual(We))return ml(e).get(Ee).next(bt=>{if(!bt)throw $t();Qt(bt.userId===this.userId),d.push(zu(this.yt,bt))});U.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new vi(Un);const u=[];return t.forEach(d=>{const m=lp(this.userId,d.path),D=IDBKeyRange.lowerBound(m),U=xc(e).Z({range:D},(G,ne,Ee)=>{const[We,bt,Tt]=G,en=Xo(bt);We===this.userId&&d.path.isEqual(en)?s=s.add(Tt):Ee.done()});u.push(U)}),et.waitFor(u).next(()=>this.En(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,u=s.length+1,d=lp(this.userId,s),m=IDBKeyRange.lowerBound(d);let D=new vi(Un);return xc(e).Z({range:m},(U,G,ne)=>{const[Ee,We,bt]=U,Tt=Xo(We);Ee===this.userId&&s.isPrefixOf(Tt)?Tt.length===u&&(D=D.add(bt)):ne.done()}).next(()=>this.En(e,D))}En(e,t){const s=[],u=[];return t.forEach(d=>{u.push(ml(e).get(d).next(m=>{if(null===m)throw $t();Qt(m.userId===this.userId),s.push(zu(this.yt,m))}))}),et.waitFor(u).next(()=>s)}removeMutationBatch(e,t){return qh(e.se,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),et.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return et.resolve();const s=IDBKeyRange.lowerBound([this.userId]),u=[];return xc(e).Z({range:s},(d,m,D)=>{if(d[0]===this.userId){const U=Xo(d[1]);u.push(U)}else D.done()}).next(()=>{Qt(0===u.length)})})}containsKey(e,t){return nm(e,this.userId,t)}Rn(e){return rm(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function nm(i,e,t){const s=lp(e,t.path),u=s[1],d=IDBKeyRange.lowerBound(s);let m=!1;return xc(i).Z({range:d,X:!0},(D,U,G)=>{const[ne,Ee,We]=D;ne===e&&Ee===u&&(m=!0),G.done()}).next(()=>m)}function ml(i){return ms(i,"mutations")}function xc(i){return ms(i,"documentMutations")}function rm(i){return ms(i,"mutationQueues")}class Wl{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Wl(0)}static vn(){return new Wl(-1)}}class e_{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const s=new Wl(t.highestTargetId);return t.highestTargetId=s.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>gn.fromTimestamp(new Wn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.Vn(e).next(u=>(u.highestListenSequenceNumber=t,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.Sn(e,u)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(s=>(s.targetCount+=1,this.Cn(t,s),this.Sn(e,s))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>nu(e).delete(t.targetId)).next(()=>this.Vn(e)).next(s=>(Qt(s.targetCount>0),s.targetCount-=1,this.Sn(e,s)))}removeTargets(e,t,s){let u=0;const d=[];return nu(e).Z((m,D)=>{const U=Ed(D);U.sequenceNumber<=t&&null===s.get(U.targetId)&&(u++,d.push(this.removeTargetData(e,U)))}).next(()=>et.waitFor(d)).next(()=>u)}forEachTarget(e,t){return nu(e).Z((s,u)=>{const d=Ed(u);t(d)})}Vn(e){return bu(e).get("targetGlobalKey").next(t=>(Qt(null!==t),t))}Sn(e,t){return bu(e).put("targetGlobalKey",t)}Dn(e,t){return nu(e).put(Bh(this.yt,t))}Cn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=ku(t),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return nu(e).Z({range:u,index:"queryTargetsIndex"},(m,D,U)=>{const G=Ed(D);Fl(t,G.target)&&(d=G,U.done())}).next(()=>d)}addMatchingKeys(e,t,s){const u=[],d=yl(e);return t.forEach(m=>{const D=Do(m.path);u.push(d.put({targetId:s,path:D})),u.push(this.referenceDelegate.addReference(e,s,m))}),et.waitFor(u)}removeMatchingKeys(e,t,s){const u=yl(e);return et.forEach(t,d=>{const m=Do(d.path);return et.waitFor([u.delete([s,m]),this.referenceDelegate.removeReference(e,s,d)])})}removeMatchingKeysForTargetId(e,t){const s=yl(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),u=yl(e);let d=sr();return u.Z({range:s,X:!0},(m,D,U)=>{const G=Xo(m[1]),ne=new Pt(G);d=d.add(ne)}).next(()=>d)}containsKey(e,t){const s=Do(t.path),u=IDBKeyRange.bound([s],[Mu(s)],!1,!0);let d=0;return yl(e).Z({index:"documentTargetsIndex",X:!0,range:u},([m,D],U,G)=>{0!==m&&(d++,G.done())}).next(()=>d>0)}ne(e,t){return nu(e).get(t).next(s=>s?Ed(s):null)}}function nu(i){return ms(i,"targets")}function bu(i){return ms(i,"targetGlobal")}function yl(i){return ms(i,"targetDocuments")}function im([i,e],[t,s]){const u=Un(i,t);return 0===u?Un(e,s):u}class e0{constructor(e){this.xn=e,this.buffer=new vi(im),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();im(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class t0{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;It("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,oe.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){Ia(s)?It("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Ro(s)}yield t.Fn(3e5)}))}}class sm{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return et.resolve(Fs.at);const s=new e0(t);return this.$n.forEachTarget(e,u=>s.On(u.sequenceNumber)).next(()=>this.$n.Ln(e,u=>s.On(u))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.$n.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(It("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(zh)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(It("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zh):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let s,u,d,m,D,U,G;const ne=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ee=>(Ee>this.params.maximumSequenceNumbersToCollect?(It("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ee}`),u=this.params.maximumSequenceNumbersToCollect):u=Ee,m=Date.now(),this.nthSequenceNumber(e,u))).next(Ee=>(s=Ee,D=Date.now(),this.removeTargets(e,s,t))).next(Ee=>(d=Ee,U=Date.now(),this.removeOrphanedDocuments(e,s))).next(Ee=>(G=Date.now(),Or()<=at.in.DEBUG&&It("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-ne}ms\n\tDetermined least recently used ${u} in `+(D-m)+`ms\n\tRemoved ${d} targets in `+(U-D)+`ms\n\tRemoved ${Ee} documents in `+(G-U)+`ms\nTotal Duration: ${G-ne}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:d,documentsRemoved:Ee})))}}class n0{constructor(e,t){this.db=e,this.garbageCollector=new sm(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(u=>s+u))}Un(e){let t=0;return this.Ln(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(s,u)=>t(u))}addReference(e,t,s){return Ad(e,s)}removeReference(e,t,s){return Ad(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Ad(e,t)}Gn(e,t){return function(s,u){let d=!1;return rm(s).tt(m=>nm(s,m,u).next(D=>(D&&(d=!0),et.resolve(!D)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let d=0;return this.Kn(e,(m,D)=>{if(D<=t){const U=this.Gn(e,m).next(G=>{if(!G)return d++,s.getEntry(e,m).next(()=>(s.removeEntry(m,gn.min()),yl(e).delete([0,Do(m.path)])))});u.push(U)}}).next(()=>et.waitFor(u)).next(()=>s.apply(e)).next(()=>d)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Ad(e,t)}Kn(e,t){const s=yl(e);let u,d=Fs.at;return s.Z({index:"documentTargetsIndex"},([m,D],{path:U,sequenceNumber:G})=>{0===m?(d!==Fs.at&&t(new Pt(Xo(u)),d),d=G,u=U):d=Fs.at}).next(()=>{d!==Fs.at&&t(new Pt(Xo(u)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ad(i,e){return yl(i).put((s=i.currentSequenceNumber,{targetId:0,path:Do(e.path),sequenceNumber:s}));var s}class bp{constructor(){this.changes=new Ma(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Di.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?et.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class t_{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return To(e).put(s)}removeEntry(e,t,s){return To(e).delete(function(u,d){const m=u.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],wd(d),m[m.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Qn(e,s)))}getEntry(e,t){let s=Di.newInvalidDocument(t);return To(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(xd(t))},(u,d)=>{s=this.jn(t,d)}).next(()=>s)}Wn(e,t){let s={size:0,document:Di.newInvalidDocument(t)};return To(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(xd(t))},(u,d)=>{s={document:this.jn(t,d),size:gl(d)}}).next(()=>s)}getEntries(e,t){let s=Vs();return this.zn(e,t,(u,d)=>{const m=this.jn(u,d);s=s.insert(u,m)}).next(()=>s)}Hn(e,t){let s=Vs(),u=new is(Pt.comparator);return this.zn(e,t,(d,m)=>{const D=this.jn(d,m);s=s.insert(d,D),u=u.insert(d,gl(m))}).next(()=>({documents:s,Jn:u}))}zn(e,t,s){if(t.isEmpty())return et.resolve();let u=new vi(am);t.forEach(U=>u=u.add(U));const d=IDBKeyRange.bound(xd(u.first()),xd(u.last())),m=u.getIterator();let D=m.getNext();return To(e).Z({index:"documentKeyIndex",range:d},(U,G,ne)=>{const Ee=Pt.fromSegments([...G.prefixPath,G.collectionGroup,G.documentId]);for(;D&&am(D,Ee)<0;)s(D,null),D=m.getNext();D&&D.isEqual(Ee)&&(s(D,G),D=m.hasNext()?m.getNext():null),D?ne.j(xd(D)):ne.done()}).next(()=>{for(;D;)s(D,null),D=m.hasNext()?m.getNext():null})}getAllFromCollection(e,t,s){const u=[t.popLast().toArray(),t.lastSegment(),wd(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],d=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return To(e).W(IDBKeyRange.bound(u,d,!0)).next(m=>{let D=Vs();for(const U of m){const G=this.jn(Pt.fromSegments(U.prefixPath.concat(U.collectionGroup,U.documentId)),U);D=D.insert(G.key,G)}return D})}getAllFromCollectionGroup(e,t,s,u){let d=Vs();const m=Ep(t,s),D=Ep(t,Ss.max());return To(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,D,!0)},(U,G,ne)=>{const Ee=this.jn(Pt.fromSegments(G.prefixPath.concat(G.collectionGroup,G.documentId)),G);d=d.insert(Ee.key,Ee),d.size===u&&ne.done()}).next(()=>d)}newChangeBuffer(e){return new n_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return om(e).get("remoteDocumentGlobalKey").next(t=>(Qt(!!t),t))}Qn(e,t){return om(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const s=function Ky(i,e){let t;if(e.document)t=j(i.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Pt.fromSegments(e.noDocument.path),u=Tc(e.noDocument.readTime);t=Di.newNoDocument(s,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return $t();{const s=Pt.fromSegments(e.unknownDocument.path),u=Tc(e.unknownDocument.version);t=Di.newUnknownDocument(s,u)}}return e.readTime&&t.setReadTime(function(s){const u=new Wn(s[0],s[1]);return gn.fromTimestamp(u)}(e.readTime)),t}(this.yt,t);if(!s.isNoDocument()||!s.version.isEqual(gn.min()))return s}return Di.newInvalidDocument(e)}}function wp(i){return new t_(i)}class n_ extends bp{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Ma(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(e){const t=[];let s=0,u=new vi((d,m)=>Un(d.canonicalString(),m.canonicalString()));return this.changes.forEach((d,m)=>{const D=this.Xn.get(d);if(t.push(this.Yn.removeEntry(e,d,D.readTime)),m.isValidDocument()){const U=pp(this.Yn.yt,m);u=u.add(d.path.popLast());const G=gl(U);s+=G-D.size,t.push(this.Yn.addEntry(e,d,U))}else if(s-=D.size,this.trackRemovals){const U=pp(this.Yn.yt,m.convertToNoDocument(gn.min()));t.push(this.Yn.addEntry(e,d,U))}}),u.forEach(d=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,d))}),t.push(this.Yn.updateMetadata(e,s)),et.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(s=>(this.Xn.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:s,Jn:u})=>(u.forEach((d,m)=>{this.Xn.set(d,{size:m,readTime:s.get(d).readTime})}),s))}}function om(i){return ms(i,"remoteDocumentGlobal")}function To(i){return ms(i,"remoteDocumentsV14")}function xd(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ep(i,e){const t=e.documentKey.path.toArray();return[i,wd(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function am(i,e){const t=i.path.toArray(),s=e.path.toArray();let u=0;for(let d=0;d<t.length-2&&d<s.length-2;++d)if(u=Un(t[d],s[d]),u)return u;return u=Un(t.length,s.length),u||(u=Un(t[t.length-2],s[s.length-2]),u||Un(t[t.length-1],s[s.length-1]))}class r_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class um{constructor(e,t,s,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,t))).next(u=>(null!==s&&Bu(s.mutation,u,Io.empty(),Wn.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,sr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=sr()){const u=ha();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,s).next(d=>{let m=_u();return d.forEach((D,U)=>{m=m.insert(D,U.overlayedDocument)}),m}))}getOverlayedDocuments(e,t){const s=ha();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,sr()))}populateOverlays(e,t,s){const u=[];return s.forEach(d=>{t.has(d)||u.push(d)}),this.documentOverlayCache.getOverlays(e,u).next(d=>{d.forEach((m,D)=>{t.set(m,D)})})}computeViews(e,t,s,u){let d=Vs();const m=fa(),D=fa();return t.forEach((U,G)=>{const ne=s.get(G.key);u.has(G.key)&&(void 0===ne||ne.mutation instanceof Xa)?d=d.insert(G.key,G):void 0!==ne&&(m.set(G.key,ne.mutation.getFieldMask()),Bu(ne.mutation,G,ne.mutation.getFieldMask(),Wn.now()))}),this.recalculateAndSaveOverlays(e,d).next(U=>(U.forEach((G,ne)=>m.set(G,ne)),t.forEach((G,ne)=>{var Ee;return D.set(G,new r_(ne,null!==(Ee=m.get(G))&&void 0!==Ee?Ee:null))}),D))}recalculateAndSaveOverlays(e,t){const s=fa();let u=new is((m,D)=>m-D),d=sr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(m=>{for(const D of m)D.keys().forEach(U=>{const G=t.get(U);if(null===G)return;let ne=s.get(U)||Io.empty();ne=D.applyToLocalView(G,ne),s.set(U,ne);const Ee=(u.get(D.batchId)||sr()).add(U);u=u.insert(D.batchId,Ee)})}).next(()=>{const m=[],D=u.getReverseIterator();for(;D.hasNext();){const U=D.getNext(),G=U.key,ne=U.value,Ee=ho();ne.forEach(We=>{if(!d.has(We)){const bt=Rh(t.get(We),s.get(We));null!==bt&&Ee.set(We,bt),d=d.add(We)}}),m.push(this.documentOverlayCache.saveOverlays(e,G,Ee))}return et.waitFor(m)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return Pt.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Ul(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var u}getNextDocuments(e,t,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,u).next(d=>{const m=u-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,u-d.size):et.resolve(ha());let D=-1,U=d;return m.next(G=>et.forEach(G,(ne,Ee)=>(D<Ee.largestBatchId&&(D=Ee.largestBatchId),d.get(ne)?et.resolve():this.remoteDocumentCache.getEntry(e,ne).next(We=>{U=U.insert(ne,We)}))).next(()=>this.populateOverlays(e,G,d)).next(()=>this.computeViews(e,U,G,sr())).next(ne=>({batchId:D,changes:$u(ne)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pt(t)).next(s=>{let u=_u();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const u=t.collectionGroup;let d=_u();return this.indexManager.getCollectionParents(e,u).next(m=>et.forEach(m,D=>{const U=(G=t,ne=D.child(u),new Ka(ne,null,G.explicitOrderBy.slice(),G.filters.slice(),G.limit,G.limitType,G.startAt,G.endAt));var G,ne;return this.getDocumentsMatchingCollectionQuery(e,U,s).next(G=>{G.forEach((ne,Ee)=>{d=d.insert(ne,Ee)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,s){let u;return this.remoteDocumentCache.getAllFromCollection(e,t.path,s).next(d=>(u=d,this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId))).next(d=>{d.forEach((D,U)=>{const G=U.getKey();null===u.get(G)&&(u=u.insert(G,Di.newInvalidDocument(G)))});let m=_u();return u.forEach((D,U)=>{const G=d.get(D);void 0!==G&&Bu(G.mutation,U,Io.empty(),Wn.now()),Th(t,U)&&(m=m.insert(D,U))}),m})}}class i_{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return et.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var s;return this.Zn.set(t.id,{id:(s=t).id,version:s.version,createTime:Yi(s.createTime)}),et.resolve()}getNamedQuery(e,t){return et.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(s=t).name,query:jh(s.bundledQuery),readTime:Yi(s.readTime)}),et.resolve();var s}}class lm{constructor(){this.overlays=new is(Pt.comparator),this.es=new Map}getOverlay(e,t){return et.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ha();return et.forEach(t,u=>this.getOverlay(e,u).next(d=>{null!==d&&s.set(u,d)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((u,d)=>{this.oe(e,t,d)}),et.resolve()}removeOverlaysForBatchId(e,t,s){const u=this.es.get(s);return void 0!==u&&(u.forEach(d=>this.overlays=this.overlays.remove(d)),this.es.delete(s)),et.resolve()}getOverlaysForCollection(e,t,s){const u=ha(),d=t.length+1,m=new Pt(t.child("")),D=this.overlays.getIteratorFrom(m);for(;D.hasNext();){const U=D.getNext().value,G=U.getKey();if(!t.isPrefixOf(G.path))break;G.path.length===d&&U.largestBatchId>s&&u.set(U.getKey(),U)}return et.resolve(u)}getOverlaysForCollectionGroup(e,t,s,u){let d=new is((G,ne)=>G-ne);const m=this.overlays.getIterator();for(;m.hasNext();){const G=m.getNext().value;if(G.getKey().getCollectionGroup()===t&&G.largestBatchId>s){let ne=d.get(G.largestBatchId);null===ne&&(ne=ha(),d=d.insert(G.largestBatchId,ne)),ne.set(G.getKey(),G)}}const D=ha(),U=d.getIterator();for(;U.hasNext()&&(U.getNext().value.forEach((G,ne)=>D.set(G,ne)),!(D.size()>=u)););return et.resolve(D)}oe(e,t,s){const u=this.overlays.get(s.key);if(null!==u){const m=this.es.get(u.largestBatchId).delete(s.key);this.es.set(u.largestBatchId,m)}this.overlays=this.overlays.insert(s.key,new Vh(t,s));let d=this.es.get(t);void 0===d&&(d=sr(),this.es.set(t,d)),this.es.set(t,d.add(s.key))}}class Ip{constructor(){this.ns=new vi(fo.ss),this.rs=new vi(fo.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const s=new fo(e,t);this.ns=this.ns.add(s),this.rs=this.rs.add(s)}us(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.cs(new fo(e,t))}hs(e,t){e.forEach(s=>this.removeReference(s,t))}ls(e){const t=new Pt(new Zn([])),s=new fo(t,e),u=new fo(t,e+1),d=[];return this.rs.forEachInRange([s,u],m=>{this.cs(m),d.push(m.key)}),d}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Pt(new Zn([])),s=new fo(t,e),u=new fo(t,e+1);let d=sr();return this.rs.forEachInRange([s,u],m=>{d=d.add(m.key)}),d}containsKey(e){const t=new fo(e,0),s=this.ns.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class fo{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Pt.comparator(e.key,t.key)||Un(e._s,t._s)}static os(e,t){return Un(e._s,t._s)||Pt.comparator(e.key,t.key)}}class s_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new vi(fo.ss)}checkEmpty(e){return et.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,u){const d=this.ws;this.ws++;const m=new bd(d,t,s,u);this.mutationQueue.push(m);for(const D of u)this.gs=this.gs.add(new fo(D.key,d)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return et.resolve(m)}lookupMutationBatch(e,t){return et.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.ps(t+1),d=u<0?0:u;return et.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new fo(t,0),u=new fo(t,Number.POSITIVE_INFINITY),d=[];return this.gs.forEachInRange([s,u],m=>{const D=this.ys(m._s);d.push(D)}),et.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new vi(Un);return t.forEach(u=>{const d=new fo(u,0),m=new fo(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([d,m],D=>{s=s.add(D._s)})}),et.resolve(this.Is(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,u=s.length+1;let d=s;Pt.isDocumentKey(d)||(d=d.child(""));const m=new fo(new Pt(d),0);let D=new vi(Un);return this.gs.forEachWhile(U=>{const G=U.key.path;return!!s.isPrefixOf(G)&&(G.length===u&&(D=D.add(U._s)),!0)},m),et.resolve(this.Is(D))}Is(e){const t=[];return e.forEach(s=>{const u=this.ys(s);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){Qt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let s=this.gs;return et.forEach(t.mutations,u=>{const d=new fo(u.key,t.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=s})}An(e){}containsKey(e,t){const s=new fo(t,0),u=this.gs.firstAfterOrEqual(s);return et.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return et.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class fr{constructor(e){this.Es=e,this.docs=new is(Pt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,u=this.docs.get(s),d=u?u.size:0,m=this.Es(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:m}),this.size+=m-d,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return et.resolve(s?s.document.mutableCopy():Di.newInvalidDocument(t))}getEntries(e,t){let s=Vs();return t.forEach(u=>{const d=this.docs.get(u);s=s.insert(u,d?d.document.mutableCopy():Di.newInvalidDocument(u))}),et.resolve(s)}getAllFromCollection(e,t,s){let u=Vs();const d=new Pt(t.child("")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:D,value:{document:U}}=m.getNext();if(!t.isPrefixOf(D.path))break;D.path.length>t.length+1||Uo(Za(U),s)<=0||(u=u.insert(U.key,U.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(e,t,s,u){$t()}As(e,t){return et.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new cm(this)}getSize(e){return et.resolve(this.size)}}class cm extends bp{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?t.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(s)}),et.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class dm{constructor(e){this.persistence=e,this.Rs=new Ma(t=>ku(t),Fl),this.lastRemoteSnapshotVersion=gn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Ip,this.targetCount=0,this.vs=Wl.Pn()}forEachTarget(e,t){return this.Rs.forEach((s,u)=>t(u)),et.resolve()}getLastRemoteSnapshotVersion(e){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return et.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.bs&&(this.bs=t),et.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Wl(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,et.resolve()}updateTargetData(e,t){return this.Dn(t),et.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,et.resolve()}removeTargets(e,t,s){let u=0;const d=[];return this.Rs.forEach((m,D)=>{D.sequenceNumber<=t&&null===s.get(D.targetId)&&(this.Rs.delete(m),d.push(this.removeMatchingKeysForTargetId(e,D.targetId)),u++)}),et.waitFor(d).next(()=>u)}getTargetCount(e){return et.resolve(this.targetCount)}getTargetData(e,t){const s=this.Rs.get(t)||null;return et.resolve(s)}addMatchingKeys(e,t,s){return this.Ps.us(t,s),et.resolve()}removeMatchingKeys(e,t,s){this.Ps.hs(t,s);const u=this.persistence.referenceDelegate,d=[];return u&&t.forEach(m=>{d.push(u.markPotentiallyOrphaned(e,m))}),et.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),et.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ps.ds(t);return et.resolve(s)}containsKey(e,t){return et.resolve(this.Ps.containsKey(t))}}class Cp{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Fs(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new dm(this),this.indexManager=new Cd,this.remoteDocumentCache=new fr(s=>this.referenceDelegate.xs(s)),this.yt=new Wy(t),this.Ns=new i_(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Vs[e.toKey()];return s||(s=new s_(t,this.referenceDelegate),this.Vs[e.toKey()]=s),s}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,s){It("MemoryPersistence","Starting transaction:",e);const u=new o_(this.Ss.next());return this.referenceDelegate.ks(),s(u).next(d=>this.referenceDelegate.Os(u).next(()=>d)).toPromise().then(d=>(u.raiseOnCommittedEvent(),d))}Ms(e,t){return et.or(Object.values(this.Vs).map(s=>()=>s.containsKey(e,t)))}}class o_ extends aa{constructor(e){super(),this.currentSequenceNumber=e}}class Kh{constructor(e){this.persistence=e,this.Fs=new Ip,this.$s=null}static Bs(e){return new Kh(e)}get Ls(){if(this.$s)return this.$s;throw $t()}addReference(e,t,s){return this.Fs.addReference(s,t),this.Ls.delete(s.toString()),et.resolve()}removeReference(e,t,s){return this.Fs.removeReference(s,t),this.Ls.add(s.toString()),et.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),et.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(u=>this.Ls.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(d=>this.Ls.add(d.toString()))}).next(()=>s.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.Ls,s=>{const u=Pt.fromPath(s);return this.qs(e,u).next(d=>{d||t.removeEntry(u,gn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(s=>{s?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return et.or([()=>et.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class hm{constructor(e){this.yt=e}$(e,t,s,u){const d=new Ru("createOrUpgrade",t);var D;s<1&&u>=1&&(e.createObjectStore("owner"),(D=e).createObjectStore("mutationQueues",{keyPath:"userId"}),D.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ly,{unique:!0}),D.createObjectStore("documentMutations"),fm(e),function(D){D.createObjectStore("remoteDocuments")}(e));let m=et.resolve();return s<3&&u>=3&&(0!==s&&(function(D){D.deleteObjectStore("targetDocuments"),D.deleteObjectStore("targets"),D.deleteObjectStore("targetGlobal")}(e),fm(e)),m=m.next(()=>function(D){const U=D.store("targetGlobal"),G={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:gn.min().toTimestamp(),targetCount:0};return U.put("targetGlobalKey",G)}(d))),s<4&&u>=4&&(0!==s&&(m=m.next(()=>function(D,U){return U.store("mutations").W().next(G=>{D.deleteObjectStore("mutations"),D.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ly,{unique:!0});const ne=U.store("mutations"),Ee=G.map(We=>ne.put(We));return et.waitFor(Ee)})}(e,d))),m=m.next(()=>{!function(D){D.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&u>=5&&(m=m.next(()=>this.Us(d))),s<6&&u>=6&&(m=m.next(()=>(function(D){D.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(d)))),s<7&&u>=7&&(m=m.next(()=>this.Gs(d))),s<8&&u>=8&&(m=m.next(()=>this.Qs(e,d))),s<9&&u>=9&&(m=m.next(()=>{!function(D){D.objectStoreNames.contains("remoteDocumentChanges")&&D.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&u>=10&&(m=m.next(()=>this.js(d))),s<11&&u>=11&&(m=m.next(()=>{(function(D){D.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(D){D.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&u>=12&&(m=m.next(()=>{!function(D){const U=D.createObjectStore("documentOverlays",{keyPath:hp});U.createIndex("collectionPathOverlayIndex",Hg,{unique:!1}),U.createIndex("collectionGroupOverlayIndex",zy,{unique:!1})}(e)})),s<13&&u>=13&&(m=m.next(()=>function(D){const U=D.createObjectStore("remoteDocumentsV14",{keyPath:Vy});U.createIndex("documentKeyIndex",By),U.createIndex("collectionGroupIndex",jy)}(e)).next(()=>this.Ws(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(m=m.next(()=>this.zs(e,d))),s<15&&u>=15&&(m=m.next(()=>function(D){D.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),D.createObjectStore("indexState",{keyPath:Hy}).createIndex("sequenceNumberIndex",Bs,{unique:!1}),D.createObjectStore("indexEntries",{keyPath:Zy}).createIndex("documentKeyIndex",Gy,{unique:!1})}(e))),m}Ks(e){let t=0;return e.store("remoteDocuments").Z((s,u)=>{t+=gl(u)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Us(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.W().next(u=>et.forEach(u,d=>{const m=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",m).next(D=>et.forEach(D,U=>{Qt(U.userId===d.userId);const G=zu(this.yt,U);return qh(e,d.userId,G).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const d=[];return s.Z((m,D)=>{const U=new Zn(m),G=[0,Do(U)];d.push(t.get(G).next(ne=>ne?et.resolve():t.put({targetId:0,path:Do(U),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>et.waitFor(d))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:dp});const s=t.store("collectionParents"),u=new vp,d=m=>{if(u.add(m)){const D=m.lastSegment(),U=m.popLast();return s.put({collectionId:D,parent:Do(U)})}};return t.store("remoteDocuments").Z({X:!0},(m,D)=>{const U=new Zn(m);return d(U.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([m,D,U],G)=>{const ne=Xo(D);return d(ne.popLast())}))}js(e){const t=e.store("targets");return t.Z((s,u)=>{const d=Ed(u),m=Bh(this.yt,d);return t.put(m)})}Ws(e,t){const s=t.store("remoteDocuments"),u=[];return s.Z((d,m)=>{const D=t.store("remoteDocumentsV14"),U=(G=m,G.document?new Pt(Zn.fromString(G.document.name).popFirst(5)):G.noDocument?Pt.fromSegments(G.noDocument.path):G.unknownDocument?Pt.fromSegments(G.unknownDocument.path):$t()).path.toArray();var G;const ne={prefixPath:U.slice(0,U.length-2),collectionGroup:U[U.length-2],documentId:U[U.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};u.push(D.put(ne))}).next(()=>et.waitFor(u))}zs(e,t){const s=t.store("mutations"),u=wp(this.yt),d=new Cp(Kh.Bs,this.yt.ie);return s.W().next(m=>{const D=new Map;return m.forEach(U=>{var G;let ne=null!==(G=D.get(U.userId))&&void 0!==G?G:sr();zu(this.yt,U).keys().forEach(Ee=>ne=ne.add(Ee)),D.set(U.userId,ne)}),et.forEach(D,(U,G)=>{const ne=new Rn(G),Ee=Sc.re(this.yt,ne),We=d.getIndexManager(ne),bt=Wh.re(ne,this.yt,We,d.referenceDelegate);return new um(u,bt,Ee,We).recalculateAndSaveOverlaysForDocumentKeys(new zg(t,Fs.at),U).next()})})}}function fm(i){i.createObjectStore("targetDocuments",{keyPath:Lh}).createIndex("documentTargetsIndex",$y,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$g,{unique:!0}),i.createObjectStore("targetGlobal")}const Yh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Dp{constructor(e,t,s,u,d,m,D,U,G,ne,Ee=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Hs=d,this.window=m,this.document=D,this.Js=G,this.Ys=ne,this.Xs=Ee,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=We=>Promise.resolve(),!Dp.C())throw new wt(ot.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new n0(this,u),this.ii=t+"main",this.yt=new Wy(U),this.ri=new oo(this.ii,this.Xs,new hm(this.yt)),this.Cs=new e_(this.referenceDelegate,this.yt),this.remoteDocumentCache=wp(this.yt),this.Ns=new gp,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===ne&&vr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new wt(ot.FAILED_PRECONDITION,Yh);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Fs(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var s=(0,oe.Z)(function*(u){if(t.started)return e(u)});return function(u){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,oe.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,oe.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Tp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Ia(e))return It("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return It("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Md(e).get("owner").next(t=>et.resolve(this.mi(t)))}gi(e){return Tp(e).delete(this.clientId)}yi(){var e=this;return(0,oe.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=ms(s,"clientMetadata");return u.W().next(d=>{const m=e.Ii(d,18e5),D=d.filter(U=>-1===m.indexOf(U));return et.forEach(D,U=>u.delete(U.clientId)).next(()=>D)})}).catch(()=>[]);if(e.oi)for(const s of t)e.oi.removeItem(e.Ti(s.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?et.resolve(!0):Md(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new wt(ot.FAILED_PRECONDITION,Yh);return!1}}return!(!this.networkEnabled||!this.inForeground)||Tp(e).W().next(s=>void 0===this.Ii(s,5e3).find(u=>{if(this.clientId!==u.clientId){const m=!this.inForeground&&u.inForeground,D=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||m&&D)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&It("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,oe.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new zg(t,Fs.at);return e._i(s).next(()=>e.gi(s))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(s=>this.pi(s.updateTimeMs,t)&&!this.Ei(s.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Tp(e).W().next(t=>this.Ii(t,18e5).map(s=>s.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Wh.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Xy(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return Sc.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,s){It("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",d=15===(m=this.Xs)?Xv:14===m?fp:13===m?Gg:12===m?qy:11===m?Zg:void $t();var m;let D;return this.ri.runTransaction(e,u,d,U=>(D=new zg(U,this.Ss?this.Ss.next():Fs.at),"readwrite-primary"===t?this.fi(D).next(G=>!!G||this.di(D)).next(G=>{if(!G)throw vr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new wt(ot.FAILED_PRECONDITION,Ga);return s(D)}).next(G=>this.wi(D).next(()=>G)):this.Vi(D).next(()=>s(D)))).then(U=>(D.raiseOnCommittedEvent(),U))}Vi(e){return Md(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new wt(ot.FAILED_PRECONDITION,Yh)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Md(e).put("owner",t)}static C(){return oo.C()}_i(e){const t=Md(e);return t.get("owner").next(s=>this.mi(s)?(It("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):et.resolve())}pi(e,t){const s=Date.now();return!(e<s-t||e>s&&(vr(`Detected an update time that is in the future: ${e} > ${s}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Qe.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const s=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return It("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return vr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){vr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Md(i){return ms(i,"owner")}function Tp(i){return ms(i,"clientMetadata")}function Qh(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Jh{constructor(e,t,s,u){this.targetId=e,this.fromCache=t,this.Si=s,this.Di=u}static Ci(e,t){let s=sr(),u=sr();for(const d of t.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:u=u.add(d.doc.key)}return new Jh(e,t.fromCache,s,u)}}class _l{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,s,u){return this.ki(e,t).next(d=>d||this.Oi(e,t,u,s)).next(d=>d||this.Mi(e,t))}ki(e,t){if(cc(t))return et.resolve(null);let s=ni(t);return this.indexManager.getIndexType(e,s).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=Vl(t,null,"F"),s=ni(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(d=>{const m=sr(...d);return this.Ni.getDocuments(e,m).next(D=>this.indexManager.getMinOffset(e,s).next(U=>{const G=this.Fi(t,D);return this.$i(t,G,m,U.readTime)?this.ki(e,Vl(t,null,"F")):this.Bi(e,G,t,U)}))})))}Oi(e,t,s,u){return cc(t)||u.isEqual(gn.min())?this.Mi(e,t):this.Ni.getDocuments(e,s).next(d=>{const m=this.Fi(t,d);return this.$i(t,m,s,u)?this.Mi(e,t):(Or()<=at.in.DEBUG&&It("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),dc(t)),this.Bi(e,m,t,Ko(u,-1)))})}Fi(e,t){let s=new vi(Sh(e));return t.forEach((u,d)=>{Th(e,d)&&(s=s.add(d))}),s}$i(e,t,s,u){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const d="F"===e.limitType?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(u)>0)}Mi(e,t){return Or()<=at.in.DEBUG&&It("QueryEngine","Using full collection scan to execute query:",dc(t)),this.Ni.getDocumentsMatchingQuery(e,t,Ss.min())}Bi(e,t,s,u){return this.Ni.getDocumentsMatchingQuery(e,s,u).next(d=>(t.forEach(m=>{d=d.insert(m.key,m)}),d))}}class a_{constructor(e,t,s,u){this.persistence=e,this.Li=t,this.yt=u,this.qi=new is(Un),this.Ui=new Ma(d=>ku(d),Fl),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(s)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new um(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function Xh(i,e,t,s){return new a_(i,e,t,s)}function ef(i,e){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,oe.Z)(function*(i,e){const t=qt(i);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let u;return t.mutationQueue.getAllMutationBatches(s).next(d=>(u=d,t.Qi(e),t.mutationQueue.getAllMutationBatches(s))).next(d=>{const m=[],D=[];let U=sr();for(const G of u){m.push(G.batchId);for(const ne of G.mutations)U=U.add(ne.key)}for(const G of d){D.push(G.batchId);for(const ne of G.mutations)U=U.add(ne.key)}return t.localDocuments.getDocuments(s,U).next(G=>({ji:G,removedBatchIds:m,addedBatchIds:D}))})})}),Sp.apply(this,arguments)}function r0(i,e){const t=qt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),d=t.Gi.newChangeBuffer({trackRemovals:!0});return function(m,D,U,G){const ne=U.batch,Ee=ne.keys();let We=et.resolve();return Ee.forEach(bt=>{We=We.next(()=>G.getEntry(D,bt)).next(Tt=>{const en=U.docVersions.get(bt);Qt(null!==en),Tt.version.compareTo(en)<0&&(ne.applyToRemoteDocument(Tt,U),Tt.isValidDocument()&&(Tt.setReadTime(U.commitVersion),G.addEntry(Tt)))})}),We.next(()=>m.mutationQueue.removeMutationBatch(D,ne))}(t,s,e,d).next(()=>d.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let D=sr();for(let U=0;U<m.mutationResults.length;++U)m.mutationResults[U].transformResults.length>0&&(D=D.add(m.batch.mutations[U].key));return D}(e))).next(()=>t.localDocuments.getDocuments(s,u))})}function u_(i){const e=qt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function s0(i,e){const t=qt(i),s=e.snapshotVersion;let u=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const m=t.Gi.newChangeBuffer({trackRemovals:!0});u=t.qi;const D=[];e.targetChanges.forEach((ne,Ee)=>{const We=u.get(Ee);if(!We)return;D.push(t.Cs.removeMatchingKeys(d,ne.removedDocuments,Ee).next(()=>t.Cs.addMatchingKeys(d,ne.addedDocuments,Ee)));let bt=We.withSequenceNumber(d.currentSequenceNumber);var Tt,en,Cn;e.targetMismatches.has(Ee)?bt=bt.withResumeToken(y.EMPTY_BYTE_STRING,gn.min()).withLastLimboFreeSnapshotVersion(gn.min()):ne.resumeToken.approximateByteSize()>0&&(bt=bt.withResumeToken(ne.resumeToken,s)),u=u.insert(Ee,bt),en=bt,Cn=ne,(0===(Tt=We).resumeToken.approximateByteSize()||en.snapshotVersion.toMicroseconds()-Tt.snapshotVersion.toMicroseconds()>=3e8||Cn.addedDocuments.size+Cn.modifiedDocuments.size+Cn.removedDocuments.size>0)&&D.push(t.Cs.updateTargetData(d,bt))});let U=Vs(),G=sr();if(e.documentUpdates.forEach(ne=>{e.resolvedLimboDocuments.has(ne)&&D.push(t.persistence.referenceDelegate.updateLimboDocument(d,ne))}),D.push(pm(d,m,e.documentUpdates).next(ne=>{U=ne.Wi,G=ne.zi})),!s.isEqual(gn.min())){const ne=t.Cs.getLastRemoteSnapshotVersion(d).next(Ee=>t.Cs.setTargetsMetadata(d,d.currentSequenceNumber,s));D.push(ne)}return et.waitFor(D).next(()=>m.apply(d)).next(()=>t.localDocuments.getLocalViewOfDocuments(d,U,G)).next(()=>U)}).then(d=>(t.qi=u,d))}function pm(i,e,t){let s=sr(),u=sr();return t.forEach(d=>s=s.add(d)),e.getEntries(i,s).next(d=>{let m=Vs();return t.forEach((D,U)=>{const G=d.get(D);U.isFoundDocument()!==G.isFoundDocument()&&(u=u.add(D)),U.isNoDocument()&&U.version.isEqual(gn.min())?(e.removeEntry(D,U.readTime),m=m.insert(D,U)):!G.isValidDocument()||U.version.compareTo(G.version)>0||0===U.version.compareTo(G.version)&&G.hasPendingWrites?(e.addEntry(U),m=m.insert(D,U)):It("LocalStore","Ignoring outdated watch update for ",D,". Current version:",G.version," Watch version:",U.version)}),{Wi:m,zi:u}})}function gm(i,e){const t=qt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Rd(i,e){const t=qt(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return t.Cs.getTargetData(s,e).next(d=>d?(u=d,et.resolve(u)):t.Cs.allocateTargetId(s).next(m=>(u=new Zu(e,m,0,s.currentSequenceNumber),t.Cs.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=t.qi.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.qi=t.qi.insert(s.targetId,s),t.Ui.set(e,s.targetId)),s})}function Mc(i,e,t){return vl.apply(this,arguments)}function vl(){return vl=(0,oe.Z)(function*(i,e,t){const s=qt(i),u=s.qi.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",d,m=>s.persistence.referenceDelegate.removeTarget(m,u)))}catch(m){if(!Ia(m))throw m;It("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}s.qi=s.qi.remove(e),s.Ui.delete(u.target)}),vl.apply(this,arguments)}function tf(i,e,t){const s=qt(i);let u=gn.min(),d=sr();return s.persistence.runTransaction("Execute query","readonly",m=>function(D,U,G){const ne=qt(D),Ee=ne.Ui.get(G);return void 0!==Ee?et.resolve(ne.qi.get(Ee)):ne.Cs.getTargetData(U,G)}(s,m,ni(e)).next(D=>{if(D)return u=D.lastLimboFreeSnapshotVersion,s.Cs.getMatchingKeysForTargetId(m,D.targetId).next(U=>{d=U})}).next(()=>s.Li.getDocumentsMatchingQuery(m,e,t?u:gn.min(),t?d:sr())).next(D=>(mm(s,Qa(e),D),{documents:D,Hi:d})))}function Ap(i,e){const t=qt(i),s=qt(t.Cs),u=t.qi.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",d=>s.ne(d,e).next(m=>m?m.target:null))}function Od(i,e){const t=qt(i),s=t.Ki.get(e)||gn.min();return t.persistence.runTransaction("Get new document changes","readonly",u=>t.Gi.getAllFromCollectionGroup(u,e,Ko(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(mm(t,e,u),u))}function mm(i,e,t){let s=i.Ki.get(e)||gn.min();t.forEach((u,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)}),i.Ki.set(e,s)}function xp(){return xp=(0,oe.Z)(function*(i,e,t,s){const u=qt(i);let d=sr(),m=Vs();for(const G of t){const ne=e.Ji(G.metadata.name);G.document&&(d=d.add(ne));const Ee=e.Yi(G);Ee.setReadTime(e.Xi(G.metadata.readTime)),m=m.insert(ne,Ee)}const D=u.Gi.newChangeBuffer({trackRemovals:!0}),U=yield Rd(u,(G=s,ni(tl(Zn.fromString(`__bundle__/docs/${G}`)))));var G;return u.persistence.runTransaction("Apply bundle documents","readwrite",G=>pm(G,D,m).next(ne=>(D.apply(G),ne)).next(ne=>u.Cs.removeMatchingKeysForTargetId(G,U.targetId).next(()=>u.Cs.addMatchingKeys(G,d,U.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(G,ne.Wi,ne.zi)).next(()=>ne.Wi)))}),xp.apply(this,arguments)}function l_(i,e){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,oe.Z)(function*(i,e,t=sr()){const s=yield Rd(i,ni(jh(e.bundledQuery))),u=qt(i);return u.persistence.runTransaction("Save named query","readwrite",d=>{const m=Yi(e.readTime);if(s.snapshotVersion.compareTo(m)>=0)return u.Ns.saveNamedQuery(d,e);const D=s.withResumeToken(y.EMPTY_BYTE_STRING,m);return u.qi=u.qi.insert(D.targetId,D),u.Cs.updateTargetData(d,D).next(()=>u.Cs.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>u.Cs.addMatchingKeys(d,t,s.targetId)).next(()=>u.Ns.saveNamedQuery(d,e))})}),Mp.apply(this,arguments)}function _m(i,e){return`firestore_clients_${i}_${e}`}function vm(i,e,t){let s=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function nf(i,e){return`firestore_targets_${i}_${e}`}class rf{constructor(e,t,s,u){this.user=e,this.batchId=t,this.state=s,this.error=u}static Zi(e,t,s){const u=JSON.parse(s);let d,m="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return m&&u.error&&(m="string"==typeof u.error.message&&"string"==typeof u.error.code,m&&(d=new wt(u.error.code,u.error.message))),m?new rf(e,t,u.state,d):(vr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rc{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Zi(e,t){const s=JSON.parse(t);let u,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(u=new wt(s.error.code,s.error.message))),d?new Rc(e,s.state,u):(vr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Nd{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const s=JSON.parse(t);let u="object"==typeof s&&s.activeTargetIds instanceof Array,d=wc();for(let m=0;u&&m<s.activeTargetIds.length;++m)u=b(s.activeTargetIds[m]),d=d.add(s.activeTargetIds[m]);return u?new Nd(e,d):(vr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Pd{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Pd(t.clientId,t.onlineState):(vr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class bm{constructor(){this.activeTargetIds=wc()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kd{constructor(e,t,s,u,d){this.window=e,this.Hs=t,this.persistenceKey=s,this.sr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new is(Un),this.started=!1,this.cr=[];const m=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ar=_m(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new bm),this.lr=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(D){return`firestore_bundle_loaded_v2_${D}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,oe.Z)(function*(){const t=yield e.syncEngine.vi();for(const u of t){if(u===e.sr)continue;const d=e.getItem(_m(e.persistenceKey,u));if(d){const m=Nd.Zi(u,d);m&&(e.ur=e.ur.insert(m.clientId,m))}}e.gr();const s=e.storage.getItem(e.wr);if(s){const u=e.yr(s);u&&e.pr(u)}for(const u of e.cr)e.rr(u);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((s,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,s){this.Tr(e,t,s),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(nf(this.persistenceKey,e));if(s){const u=Rc.Zi(e,s);u&&(t=u.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(nf(this.persistenceKey,e))}updateQueryState(e,t,s){this.Rr(e,t,s)}handleUserChange(e,t,s){t.forEach(u=>{this.Er(u)}),this.currentUser=e,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return It("SharedClientState","READ",e,t),t}setItem(e,t){It("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){It("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(It("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ar)return void vr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,oe.Z)(function*(){if(t.started){if(null!==s.key)if(t.lr.test(s.key)){if(null==s.newValue){const u=t.vr(s.key);return t.Vr(u,null)}{const u=t.Sr(s.key,s.newValue);if(u)return t.Vr(u.clientId,u)}}else if(t.dr.test(s.key)){if(null!==s.newValue){const u=t.Dr(s.key,s.newValue);if(u)return t.Cr(u)}}else if(t._r.test(s.key)){if(null!==s.newValue){const u=t.Nr(s.key,s.newValue);if(u)return t.kr(u)}}else if(s.key===t.wr){if(null!==s.newValue){const u=t.yr(s.newValue);if(u)return t.pr(u)}}else if(s.key===t.hr){const u=function(d){let m=Fs.at;if(null!=d)try{const D=JSON.parse(d);Qt("number"==typeof D),m=D}catch(D){vr("SharedClientState","Failed to read sequence number from WebStorage",D)}return m}(s.newValue);u!==Fs.at&&t.sequenceNumberHandler(u)}else if(s.key===t.mr){const u=t.Or(s.newValue);yield Promise.all(u.map(d=>t.syncEngine.Mr(d)))}}else t.cr.push(s)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,s){const u=new rf(this.currentUser,e,t,s),d=vm(this.persistenceKey,this.currentUser,e);this.setItem(d,u.tr())}Er(e){const t=vm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,s){const u=nf(this.persistenceKey,e),d=new Rc(e,t,s);this.setItem(u,d.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const s=this.vr(e);return Nd.Zi(s,t)}Dr(e,t){const s=this.dr.exec(e),u=Number(s[1]);return rf.Zi(new Rn(void 0!==s[2]?s[2]:null),u,t)}Nr(e,t){const s=this._r.exec(e),u=Number(s[1]);return Rc.Zi(u,t)}yr(e){return Pd.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,oe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);It("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const s=t?this.ur.insert(e,t):this.ur.remove(e),u=this.Ir(this.ur),d=this.Ir(s),m=[],D=[];return d.forEach(U=>{u.has(U)||m.push(U)}),u.forEach(U=>{d.has(U)||D.push(U)}),this.syncEngine.Br(m,D).then(()=>{this.ur=s})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=wc();return e.forEach((s,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class wm{constructor(){this.Lr=new bm,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,s){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new bm,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class o0{Ur(e){}shutdown(){}}class Kl{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){It("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){It("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Em={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class c_{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Im extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,s,u,d){const m=this.ho(e,t);It("RestConnection","Sending: ",m,s);const D={};return this.lo(D,u,d),this.fo(e,m,D,s).then(U=>(It("RestConnection","Received: ",U),U),U=>{throw br("RestConnection",`${e} failed with error: `,U,"url: ",m,"request:",s),U})}_o(e,t,s,u,d,m){return this.ao(e,t,s,u,d)}lo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+qn,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,d)=>e[d]=u),s&&s.headers.forEach((u,d)=>e[d]=u)}ho(e,t){return`${this.oo}/v1/${t}:${Em[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,s,u){return new Promise((d,m)=>{const D=new pr;D.setWithCredentials(!0),D.listenOnce(W.COMPLETE,()=>{try{switch(D.getLastErrorCode()){case R.NO_ERROR:const G=D.getResponseJson();It("Connection","XHR received:",JSON.stringify(G)),d(G);break;case R.TIMEOUT:It("Connection",'RPC "'+e+'" timed out'),m(new wt(ot.DEADLINE_EXCEEDED,"Request time out"));break;case R.HTTP_ERROR:const ne=D.getStatus();if(It("Connection",'RPC "'+e+'" failed with status:',ne,"response text:",D.getResponseText()),ne>0){let Ee=D.getResponseJson();Array.isArray(Ee)&&(Ee=Ee[0]);const We=Ee?.error;if(We&&We.status&&We.message){const bt=function(Tt){const en=Tt.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(en)>=0?en:ot.UNKNOWN}(We.status);m(new wt(bt,We.message))}else m(new wt(ot.UNKNOWN,"Server responded with status "+D.getStatus()))}else m(new wt(ot.UNAVAILABLE,"Connection failed."));break;default:$t()}}finally{It("Connection",'RPC "'+e+'" completed.')}});const U=JSON.stringify(u);D.send(t,"POST",U,s,15)})}wo(e,t,s){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=M(),m=$(),D={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(D.xmlHttpFactory=new yt({})),this.lo(D.initMessageHeaders,t,s),D.encodeInitMessageHeaders=!0;const U=u.join("");It("Connection","Creating WebChannel: "+U,D);const G=d.createWebChannel(U,D);let ne=!1,Ee=!1;const We=new c_({Hr:Tt=>{Ee?It("Connection","Not sending because WebChannel is closed:",Tt):(ne||(It("Connection","Opening WebChannel transport."),G.open(),ne=!0),It("Connection","WebChannel sending:",Tt),G.send(Tt))},Jr:()=>G.close()}),bt=(Tt,en,Cn)=>{Tt.listen(en,hi=>{try{Cn(hi)}catch(Qi){setTimeout(()=>{throw Qi},0)}})};return bt(G,Kt.EventType.OPEN,()=>{Ee||It("Connection","WebChannel transport opened.")}),bt(G,Kt.EventType.CLOSE,()=>{Ee||(Ee=!0,It("Connection","WebChannel transport closed"),We.io())}),bt(G,Kt.EventType.ERROR,Tt=>{Ee||(Ee=!0,br("Connection","WebChannel transport errored:",Tt),We.io(new wt(ot.UNAVAILABLE,"The operation could not be completed")))}),bt(G,Kt.EventType.MESSAGE,Tt=>{var en;if(!Ee){const Cn=Tt.data[0];Qt(!!Cn);const hi=Cn,Qi=hi.error||(null===(en=hi[0])||void 0===en?void 0:en.error);if(Qi){It("Connection","WebChannel received error:",Qi);const jr=Qi.status;let Oi=function(ri){const mo=xs[ri];if(void 0!==mo)return hd(mo)}(jr),zr=Qi.message;void 0===Oi&&(Oi=ot.INTERNAL,zr="Unknown error status: "+jr+" with message "+Qi.message),Ee=!0,We.io(new wt(Oi,zr)),G.close()}else It("Connection","WebChannel received:",Cn),We.ro(Cn)}}),bt(m,we.STAT_EVENT,Tt=>{Tt.stat===it.PROXY?It("Connection","Detected buffering proxy"):Tt.stat===it.NOPROXY&&It("Connection","Detected no buffering proxy")}),setTimeout(()=>{We.so()},0),We}}function Cm(){return typeof window<"u"?window:null}function sf(){return typeof document<"u"?document:null}function bl(i){return new eu(i,!0)}class wl{constructor(e,t,s=1e3,u=1.5,d=6e4){this.Hs=e,this.timerId=t,this.mo=s,this.yo=u,this.po=d,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),s=Math.max(0,Date.now()-this.Eo),u=Math.max(0,t-s);u>0&&It("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class af{constructor(e,t,s,u,d,m,D,U){this.Hs=e,this.vo=s,this.Vo=u,this.connection=d,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=D,this.listener=U,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new wl(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,oe.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,oe.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var s=this;return(0,oe.Z)(function*(){s.Lo(),s.qo(),s.xo.cancel(),s.So++,4!==e?s.xo.reset():t&&t.code===ot.RESOURCE_EXHAUSTED?(vr(t.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),s.xo.Ao()):t&&t.code===ot.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Uo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.So===t&&this.Go(s,u)},s=>{e(()=>{const u=new wt(ot.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Qo(u)})})}Go(e,t){const s=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{s(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{s(()=>this.Qo(u))}),this.stream.onMessage(u=>{s(()=>this.onMessage(u))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,oe.Z)(function*(){e.state=0,e.start()}))}Qo(e){return It("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(It("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fd extends af{constructor(e,t,s,u,d,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,u,m),this.yt=d}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Pe(i,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(U=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===U?1:"REMOVE"===U?2:"CURRENT"===U?3:"RESET"===U?4:$t(),u=e.targetChange.targetIds||[],d=function(U,G){return U.wt?(Qt(void 0===G||"string"==typeof G),y.fromBase64String(G||"")):(Qt(void 0===G||G instanceof Uint8Array),y.fromUint8Array(G||new Uint8Array))}(i,e.targetChange.resumeToken),m=e.targetChange.cause,D=m&&function(U){const G=void 0===U.code?ot.UNKNOWN:hd(U.code);return new wt(G,U.message||"")}(m);t=new Hl(s,u,d,D||null)}else if("documentChange"in e){const s=e.documentChange,u=Ra(i,s.document.name),d=Yi(s.document.updateTime),m=s.document.createTime?Yi(s.document.createTime):gn.min(),D=new Us({mapValue:{fields:s.document.fields}}),U=Di.newFoundDocument(u,d,m,D);t=new Jo(s.targetIds||[],s.removedTargetIds||[],U.key,U)}else if("documentDelete"in e){const s=e.documentDelete,u=Ra(i,s.document),d=s.readTime?Yi(s.readTime):gn.min(),m=Di.newNoDocument(u,d);t=new Jo([],s.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const s=e.documentRemove,u=Ra(i,s.document);t=new Jo([],s.removedTargetIds||[],u,null)}else{if(!("filter"in e))return $t();{const s=e.filter,d=new Nh(s.count||0);t=new Ec(s.targetId,d)}}var U;return t}(this.yt,e),s=function(u){if(!("targetChange"in u))return gn.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?gn.min():d.readTime?Yi(d.readTime):gn.min()}(e);return this.listener.Wo(t,s)}zo(e){const t={};t.database=c(this.yt),t.addTarget=function(u,d){let m;const D=d.target;return m=Ll(D)?{documents:Vn(u,D)}:{query:In(u,D)},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?m.resumeToken=ul(u,d.resumeToken):d.snapshotVersion.compareTo(gn.min())>0&&(m.readTime=pa(u,d.snapshotVersion.toTimestamp())),m}(this.yt,e);const s=function ga(i,e){const t=function(s,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return $t()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Bo(t)}Ho(e){const t={};t.database=c(this.yt),t.removeTarget=e,this.Bo(t)}}class Rp extends af{constructor(e,t,s,u,d,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,u,m),this.yt=d,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function hn(i,e){return i&&i.length>0?(Qt(void 0!==e),i.map(t=>function(s,u){let d=Yi(s.updateTime?s.updateTime:u);return d.isEqual(gn.min())&&(d=Yi(u)),new up(d,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Yi(e.commitTime);return this.listener.Zo(s,t)}return Qt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=c(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>ct(this.yt,s))};this.Bo(t)}}class uf extends class{}{constructor(e,t,s,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.yt=u,this.nu=!1}su(){if(this.nu)throw new wt(ot.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.ao(e,t,s,u,d)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new wt(ot.UNKNOWN,u.toString())})}_o(e,t,s,u){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection._o(e,t,s,d,m,u)).catch(d=>{throw"FirebaseError"===d.name?(d.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new wt(ot.UNKNOWN,d.toString())})}terminate(){this.nu=!0}}class Op{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(vr(t),this.ou=!1):It("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Np{constructor(e,t,s,u,d){var m=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=d,this.mu.Ur(D=>{s.enqueueAndForget((0,oe.Z)(function*(){var U;Ms(m)&&(It("RemoteStore","Restarting streams for network reachability change."),yield(U=(0,oe.Z)(function*(G){const ne=qt(G);ne._u.add(4),yield Nc(ne),ne.gu.set("Unknown"),ne._u.delete(4),yield Oc(ne)}),function(G){return U.apply(this,arguments)})(m))}))}),this.gu=new Op(s,u)}}function Oc(i){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,oe.Z)(function*(i){if(Ms(i))for(const e of i.wu)yield e(!0)}),Ud.apply(this,arguments)}function Nc(i){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,oe.Z)(function*(i){for(const e of i.wu)yield e(!1)}),Pp.apply(this,arguments)}function Vd(i,e){const t=qt(i);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Lp(t)?Fp(t):Wu(t).ko()&&lf(t,e))}function Bd(i,e){const t=qt(i),s=Wu(t);t.du.delete(e),s.ko()&&kp(t,e),0===t.du.size&&(s.ko()?s.Fo():Ms(t)&&t.gu.set("Unknown"))}function lf(i,e){i.yu.Ot(e.targetId),Wu(i).zo(e)}function kp(i,e){i.yu.Ot(e),Wu(i).Ho(e)}function Fp(i){i.yu=new Hu({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>i.du.get(e)||null}),Wu(i).start(),i.gu.uu()}function Lp(i){return Ms(i)&&!Wu(i).No()&&i.du.size>0}function Ms(i){return 0===qt(i)._u.size}function Up(i){i.yu=void 0}function d_(i){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,oe.Z)(function*(i){i.du.forEach((e,t)=>{lf(i,e)})}),Tm.apply(this,arguments)}function Vp(i,e){return cf.apply(this,arguments)}function cf(){return cf=(0,oe.Z)(function*(i,e){Up(i),Lp(i)?(i.gu.hu(e),Fp(i)):i.gu.set("Unknown")}),cf.apply(this,arguments)}function h_(i,e,t){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,oe.Z)(function*(i,e,t){if(i.gu.set("Online"),e instanceof Hl&&2===e.state&&e.cause)try{yield(s=(0,oe.Z)(function*(u,d){const m=d.cause;for(const D of d.targetIds)u.du.has(D)&&(yield u.remoteSyncer.rejectListen(D,m),u.du.delete(D),u.yu.removeTarget(D))}),function(u,d){return s.apply(this,arguments)})(i,e)}catch(s){It("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield df(i,s)}else if(e instanceof Jo?i.yu.Kt(e):e instanceof Ec?i.yu.Jt(e):i.yu.jt(e),!t.isEqual(gn.min()))try{const s=yield u_(i.localStore);t.compareTo(s)>=0&&(yield function(u,d){const m=u.yu.Zt(d);return m.targetChanges.forEach((D,U)=>{if(D.resumeToken.approximateByteSize()>0){const G=u.du.get(U);G&&u.du.set(U,G.withResumeToken(D.resumeToken,d))}}),m.targetMismatches.forEach(D=>{const U=u.du.get(D);if(!U)return;u.du.set(D,U.withResumeToken(y.EMPTY_BYTE_STRING,U.snapshotVersion)),kp(u,D);const G=new Zu(U.target,D,1,U.sequenceNumber);lf(u,G)}),u.remoteSyncer.applyRemoteEvent(m)}(i,t))}catch(s){It("RemoteStore","Failed to raise snapshot:",s),yield df(i,s)}var s}),Bp.apply(this,arguments)}function df(i,e,t){return hf.apply(this,arguments)}function hf(){return hf=(0,oe.Z)(function*(i,e,t){if(!Ia(e))throw e;i._u.add(1),yield Nc(i),i.gu.set("Offline"),t||(t=()=>u_(i.localStore)),i.asyncQueue.enqueueRetryable((0,oe.Z)(function*(){It("RemoteStore","Retrying IndexedDB access"),yield t(),i._u.delete(1),yield Oc(i)}))}),hf.apply(this,arguments)}function Sm(i,e){return e().catch(t=>df(i,t,e))}function Pc(i){return jd.apply(this,arguments)}function jd(){return jd=(0,oe.Z)(function*(i){const e=qt(i),t=wu(e);let s=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;f_(e);)try{const u=yield gm(e.localStore,s);if(null===u){0===e.fu.length&&t.Fo();break}s=u.batchId,p_(e,u)}catch(u){yield df(e,u)}Am(e)&&xm(e)}),jd.apply(this,arguments)}function f_(i){return Ms(i)&&i.fu.length<10}function p_(i,e){i.fu.push(e);const t=wu(i);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Am(i){return Ms(i)&&!wu(i).No()&&i.fu.length>0}function xm(i){wu(i).start()}function g_(i){return Na.apply(this,arguments)}function Na(){return Na=(0,oe.Z)(function*(i){wu(i).eu()}),Na.apply(this,arguments)}function jp(i){return $p.apply(this,arguments)}function $p(){return $p=(0,oe.Z)(function*(i){const e=wu(i);for(const t of i.fu)e.Xo(t.mutations)}),$p.apply(this,arguments)}function m_(i,e,t){return ff.apply(this,arguments)}function ff(){return ff=(0,oe.Z)(function*(i,e,t){const s=i.fu.shift(),u=Uh.from(s,e,t);yield Sm(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Pc(i)}),ff.apply(this,arguments)}function y_(i,e){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,oe.Z)(function*(i,e){var t;e&&wu(i).Yo&&(yield(t=(0,oe.Z)(function*(s,u){if(Ph(d=u.code)&&d!==ot.ABORTED){const m=s.fu.shift();wu(s).Mo(),yield Sm(s,()=>s.remoteSyncer.rejectFailedWrite(m.batchId,u)),yield Pc(s)}var d}),function(s,u){return t.apply(this,arguments)})(i,e)),Am(i)&&xm(i)}),Hp.apply(this,arguments)}function Mm(i,e){return $d.apply(this,arguments)}function $d(){return $d=(0,oe.Z)(function*(i,e){const t=qt(i);t.asyncQueue.verifyOperationInProgress(),It("RemoteStore","RemoteStore received new credentials");const s=Ms(t);t._u.add(3),yield Nc(t),s&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Oc(t)}),$d.apply(this,arguments)}function Zp(i,e){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,oe.Z)(function*(i,e){const t=qt(i);e?(t._u.delete(2),yield Oc(t)):e||(t._u.add(2),yield Nc(t),t.gu.set("Unknown"))}),Gp.apply(this,arguments)}function Wu(i){return i.pu||(i.pu=function(e,t,s){const u=qt(e);return u.su(),new Fd(t,u.connection,u.authCredentials,u.appCheckCredentials,u.yt,s)}(i.datastore,i.asyncQueue,{Yr:d_.bind(null,i),Zr:Vp.bind(null,i),Wo:h_.bind(null,i)}),i.wu.push(function(){var e=(0,oe.Z)(function*(t){t?(i.pu.Mo(),Lp(i)?Fp(i):i.gu.set("Unknown")):(yield i.pu.stop(),Up(i))});return function(t){return e.apply(this,arguments)}}())),i.pu}function wu(i){return i.Iu||(i.Iu=function(e,t,s){const u=qt(e);return u.su(),new Rp(t,u.connection,u.authCredentials,u.appCheckCredentials,u.yt,s)}(i.datastore,i.asyncQueue,{Yr:g_.bind(null,i),Zr:y_.bind(null,i),tu:jp.bind(null,i),Zo:m_.bind(null,i)}),i.wu.push(function(){var e=(0,oe.Z)(function*(t){t?(i.Iu.Mo(),yield Pc(i)):(yield i.Iu.stop(),i.fu.length>0&&(It("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Iu}class kc{constructor(e,t,s,u,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=u,this.removalCallback=d,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(e,t,s,u,d){const m=Date.now()+s,D=new kc(e,t,m,u,d);return D.start(s),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new wt(ot.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hd(i,e){if(vr("AsyncQueue",`${e}: ${i}`),Ia(i))return new wt(ot.UNAVAILABLE,`${e}: ${i}`);throw i}class El{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Pt.comparator(t.key,s.key):(t,s)=>Pt.comparator(t.key,s.key),this.keyedMap=_u(),this.sortedSet=new is(this.comparator)}static emptySet(e){return new El(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof El)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=s.getNext().key;if(!u.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new El;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class __{constructor(){this.Tu=new is(Pt.comparator)}track(e){const t=e.doc.key,s=this.Tu.get(t);s?0!==e.type&&3===s.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==s.type?this.Tu=this.Tu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Tu=this.Tu.remove(t):1===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):$t():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Yl{constructor(e,t,s,u,d,m,D,U,G){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=d,this.fromCache=m,this.syncStateChanged=D,this.excludesMetadataChanges=U,this.hasCachedResults=G}static fromInitialDocuments(e,t,s,u,d){const m=[];return t.forEach(D=>{m.push({type:0,doc:D})}),new Yl(e,t,El.emptySet(t),m,s,u,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==s[u].type||!t[u].doc.isEqual(s[u].doc))return!1;return!0}}class Rm{constructor(){this.Au=void 0,this.listeners=[]}}class Om{constructor(){this.queries=new Ma(e=>ad(e),nl),this.onlineState="Unknown",this.Ru=new Set}}function pf(i,e){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,oe.Z)(function*(i,e){const t=qt(i),s=e.query;let u=!1,d=t.queries.get(s);if(d||(u=!0,d=new Rm),u)try{d.Au=yield t.onListen(s)}catch(m){const D=Hd(m,`Initialization of query '${dc(e.query)}' failed`);return void e.onError(D)}t.queries.set(s,d),d.listeners.push(e),e.bu(t.onlineState),d.Au&&e.Pu(d.Au)&&zp(t)}),Zd.apply(this,arguments)}function ru(i,e){return Fc.apply(this,arguments)}function Fc(){return Fc=(0,oe.Z)(function*(i,e){const t=qt(i),s=e.query;let u=!1;const d=t.queries.get(s);if(d){const m=d.listeners.indexOf(e);m>=0&&(d.listeners.splice(m,1),u=0===d.listeners.length)}if(u)return t.queries.delete(s),t.onUnlisten(s)}),Fc.apply(this,arguments)}function gf(i,e){const t=qt(i);let s=!1;for(const u of e){const m=t.queries.get(u.query);if(m){for(const D of m.listeners)D.Pu(u)&&(s=!0);m.Au=u}}s&&zp(t)}function Gd(i,e,t){const s=qt(i),u=s.queries.get(e);if(u)for(const d of u.listeners)d.onError(t);s.queries.delete(e)}function zp(i){i.Ru.forEach(e=>{e.next()})}class mf{constructor(e,t,s){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=s||{}}Pu(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)3!==u.type&&s.push(u);e=new Yl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Nm{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class Pm{constructor(e){this.yt=e}Ji(e){return Ra(this.yt,e)}Yi(e){return e.metadata.exists?j(this.yt,e.document,!1):Di.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Yi(e)}}class v_{constructor(e,t,s){this.Mu=e,this.localStore=t,this.yt=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Lc(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const s=Zn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,s=new Pm(this.yt);for(const u of e)if(u.metadata.queries){const d=s.Ji(u.metadata.name);for(const m of u.metadata.queries){const D=(t.get(m)||sr()).add(d);t.set(m,D)}}return t}complete(){var e=this;return(0,oe.Z)(function*(){const t=yield function ym(i,e,t,s){return xp.apply(this,arguments)}(e.localStore,new Pm(e.yt),e.documents,e.Mu.id),s=e.$u(e.documents);for(const u of e.queries)yield l_(e.localStore,u,s.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Lc(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class km{constructor(e){this.key=e}}class b_{constructor(e){this.key=e}}class Fm{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=sr(),this.mutatedKeys=sr(),this.Gu=Sh(e),this.Qu=new El(this.Gu)}get ju(){return this.qu}Wu(e,t){const s=t?t.zu:new __,u=t?t.Qu:this.Qu;let d=t?t.mutatedKeys:this.mutatedKeys,m=u,D=!1;const U="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,G="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((ne,Ee)=>{const We=u.get(ne),bt=Th(this.query,Ee)?Ee:null,Tt=!!We&&this.mutatedKeys.has(We.key),en=!!bt&&(bt.hasLocalMutations||this.mutatedKeys.has(bt.key)&&bt.hasCommittedMutations);let Cn=!1;We&&bt?We.data.isEqual(bt.data)?Tt!==en&&(s.track({type:3,doc:bt}),Cn=!0):this.Hu(We,bt)||(s.track({type:2,doc:bt}),Cn=!0,(U&&this.Gu(bt,U)>0||G&&this.Gu(bt,G)<0)&&(D=!0)):!We&&bt?(s.track({type:0,doc:bt}),Cn=!0):We&&!bt&&(s.track({type:1,doc:We}),Cn=!0,(U||G)&&(D=!0)),Cn&&(bt?(m=m.add(bt),d=en?d.add(ne):d.delete(ne)):(m=m.delete(ne),d=d.delete(ne)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const ne="F"===this.query.limitType?m.last():m.first();m=m.delete(ne.key),d=d.delete(ne.key),s.track({type:1,doc:ne})}return{Qu:m,zu:s,$i:D,mutatedKeys:d}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const u=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const d=e.zu.Eu();d.sort((G,ne)=>function(Ee,We){const bt=Tt=>{switch(Tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $t()}};return bt(Ee)-bt(We)}(G.type,ne.type)||this.Gu(G.doc,ne.doc)),this.Ju(s);const m=t?this.Yu():[],D=0===this.Ku.size&&this.current?1:0,U=D!==this.Uu;return this.Uu=D,0!==d.length||U?{snapshot:new Yl(this.query,e.Qu,u,d,e.mutatedKeys,0===D,U,!1,!!s&&s.resumeToken.approximateByteSize()>0),Xu:m}:{Xu:m}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new __,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=sr(),this.Qu.forEach(s=>{this.Zu(s.key)&&(this.Ku=this.Ku.add(s.key))});const t=[];return e.forEach(s=>{this.Ku.has(s)||t.push(new b_(s))}),this.Ku.forEach(s=>{e.has(s)||t.push(new km(s))}),t}tc(e){this.qu=e.Hi,this.Ku=sr();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Yl.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class w_{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class E_{constructor(e){this.key=e,this.nc=!1}}class I_{constructor(e,t,s,u,d,m){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=u,this.currentUser=d,this.maxConcurrentLimboResolutions=m,this.sc={},this.ic=new Ma(D=>ad(D),nl),this.rc=new Map,this.oc=new Set,this.uc=new is(Pt.comparator),this.cc=new Map,this.ac=new Ip,this.hc={},this.lc=new Map,this.fc=Wl.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function C_(i,e){return qp.apply(this,arguments)}function qp(){return qp=(0,oe.Z)(function*(i,e){const t=If(i);let s,u;const d=t.ic.get(e);if(d)s=d.targetId,t.sharedClientState.addLocalQueryTarget(s),u=d.view.ec();else{const m=yield Rd(t.localStore,ni(e));t.isPrimaryClient&&Vd(t.remoteStore,m);const D=t.sharedClientState.addLocalQueryTarget(m.targetId);s=m.targetId,u=yield Wp(t,e,s,"current"===D,m.resumeToken)}return u}),qp.apply(this,arguments)}function Wp(i,e,t,s,u){return yf.apply(this,arguments)}function yf(){return yf=(0,oe.Z)(function*(i,e,t,s,u){i._c=(Ee,We,bt)=>{return(Tt=(0,oe.Z)(function*(en,Cn,hi,Qi){let jr=Cn.view.Wu(hi);jr.$i&&(jr=yield tf(en.localStore,Cn.query,!1).then(({documents:ri})=>Cn.view.Wu(ri,jr)));const Oi=Qi&&Qi.targetChanges.get(Cn.targetId),zr=Cn.view.applyChanges(jr,en.isPrimaryClient,Oi);return ng(en,Cn.targetId,zr.Xu),zr.snapshot}),function(en,Cn,hi,Qi){return Tt.apply(this,arguments)})(i,Ee,We,bt);var Tt};const d=yield tf(i.localStore,e,!0),m=new Fm(e,d.Hi),D=m.Wu(d.documents),U=$l.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==i.onlineState,u),G=m.applyChanges(D,i.isPrimaryClient,U);ng(i,t,G.Xu);const ne=new w_(e,t,m);return i.ic.set(e,ne),i.rc.has(t)?i.rc.get(t).push(e):i.rc.set(t,[e]),G.snapshot}),yf.apply(this,arguments)}function Kp(i,e){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,oe.Z)(function*(i,e){const t=qt(i),s=t.ic.get(e),u=t.rc.get(s.targetId);if(u.length>1)return t.rc.set(s.targetId,u.filter(d=>!nl(d,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Mc(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Bd(t.remoteStore,s.targetId),zd(t,s.targetId)}).catch(Ro))):(zd(t,s.targetId),yield Mc(t.localStore,s.targetId,!0))}),Yp.apply(this,arguments)}function Jp(){return Jp=(0,oe.Z)(function*(i,e,t){const s=Cf(i);try{const u=yield function(d,m){const D=qt(d),U=Wn.now(),G=m.reduce((We,bt)=>We.add(bt.key),sr());let ne,Ee;return D.persistence.runTransaction("Locally write mutations","readwrite",We=>{let bt=Vs(),Tt=sr();return D.Gi.getEntries(We,G).next(en=>{bt=en,bt.forEach((Cn,hi)=>{hi.isValidDocument()||(Tt=Tt.add(Cn))})}).next(()=>D.localDocuments.getOverlayedDocuments(We,bt)).next(en=>{ne=en;const Cn=[];for(const hi of m){const Qi=Oh(hi,ne.get(hi.key).overlayedDocument);null!=Qi&&Cn.push(new Xa(hi.key,Qi,sd(Qi.value.mapValue),Ti.exists(!0)))}return D.mutationQueue.addMutationBatch(We,U,Cn,m)}).next(en=>{Ee=en;const Cn=en.applyToLocalDocumentSet(ne,Tt);return D.documentOverlayCache.saveOverlays(We,en.batchId,Cn)})}).then(()=>({batchId:Ee.batchId,changes:$u(ne)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(d,m,D){let U=d.hc[d.currentUser.toKey()];U||(U=new is(Un)),U=U.insert(m,D),d.hc[d.currentUser.toKey()]=U}(s,u.batchId,t),yield Yu(s,u.changes),yield Pc(s.remoteStore)}catch(u){const d=Hd(u,"Failed to persist write");t.reject(d)}}),Jp.apply(this,arguments)}function Lm(i,e){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,oe.Z)(function*(i,e){const t=qt(i);try{const s=yield s0(t.localStore,e);e.targetChanges.forEach((u,d)=>{const m=t.cc.get(d);m&&(Qt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?m.nc=!0:u.modifiedDocuments.size>0?Qt(m.nc):u.removedDocuments.size>0&&(Qt(m.nc),m.nc=!1))}),yield Yu(t,s,e)}catch(s){yield Ro(s)}}),Xp.apply(this,arguments)}function Um(i,e,t){const s=qt(i);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const u=[];s.ic.forEach((d,m)=>{const D=m.view.bu(e);D.snapshot&&u.push(D.snapshot)}),function(d,m){const D=qt(d);D.onlineState=m;let U=!1;D.queries.forEach((G,ne)=>{for(const Ee of ne.listeners)Ee.bu(m)&&(U=!0)}),U&&zp(D)}(s.eventManager,e),u.length&&s.sc.Wo(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function D_(i,e,t){return eg.apply(this,arguments)}function eg(){return eg=(0,oe.Z)(function*(i,e,t){const s=qt(i);s.sharedClientState.updateQueryState(e,"rejected",t);const u=s.cc.get(e),d=u&&u.key;if(d){let m=new is(Pt.comparator);m=m.insert(d,Di.newNoDocument(d,gn.min()));const D=sr().add(d),U=new al(gn.min(),new Map,new vi(Un),m,D);yield Lm(s,U),s.uc=s.uc.remove(d),s.cc.delete(e),qd(s)}else yield Mc(s.localStore,e,!1).then(()=>zd(s,e,t)).catch(Ro)}),eg.apply(this,arguments)}function T_(i,e){return _f.apply(this,arguments)}function _f(){return _f=(0,oe.Z)(function*(i,e){const t=qt(i),s=e.batch.batchId;try{const u=yield r0(t.localStore,e);Ku(t,s,null),Uc(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Yu(t,u)}catch(u){yield Ro(u)}}),_f.apply(this,arguments)}function Vm(i,e,t){return tg.apply(this,arguments)}function tg(){return tg=(0,oe.Z)(function*(i,e,t){const s=qt(i);try{const u=yield function(d,m){const D=qt(d);return D.persistence.runTransaction("Reject batch","readwrite-primary",U=>{let G;return D.mutationQueue.lookupMutationBatch(U,m).next(ne=>(Qt(null!==ne),G=ne.keys(),D.mutationQueue.removeMutationBatch(U,ne))).next(()=>D.mutationQueue.performConsistencyCheck(U)).next(()=>D.documentOverlayCache.removeOverlaysForBatchId(U,G,m)).next(()=>D.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(U,G)).next(()=>D.localDocuments.getDocuments(U,G))})}(s.localStore,e);Ku(s,e,t),Uc(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Yu(s,u)}catch(u){yield Ro(u)}}),tg.apply(this,arguments)}function vf(){return vf=(0,oe.Z)(function*(i,e){const t=qt(i);Ms(t.remoteStore)||It("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(d){const m=qt(d);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",D=>m.mutationQueue.getHighestUnacknowledgedBatchId(D))}(t.localStore);if(-1===s)return void e.resolve();const u=t.lc.get(s)||[];u.push(e),t.lc.set(s,u)}catch(s){const u=Hd(s,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),vf.apply(this,arguments)}function Uc(i,e){(i.lc.get(e)||[]).forEach(t=>{t.resolve()}),i.lc.delete(e)}function Ku(i,e,t){const s=qt(i);let u=s.hc[s.currentUser.toKey()];if(u){const d=u.get(e);d&&(t?d.reject(t):d.resolve(),u=u.remove(e)),s.hc[s.currentUser.toKey()]=u}}function zd(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.rc.get(e))i.ic.delete(s),t&&i.sc.wc(s,t);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(s=>{i.ac.containsKey(s)||Vc(i,s)})}function Vc(i,e){i.oc.delete(e.path.canonicalString());const t=i.uc.get(e);null!==t&&(Bd(i.remoteStore,t),i.uc=i.uc.remove(e),i.cc.delete(t),qd(i))}function ng(i,e,t){for(const s of t)s instanceof km?(i.ac.addReference(s.key,e),S_(i,s)):s instanceof b_?(It("SyncEngine","Document no longer in limbo: "+s.key),i.ac.removeReference(s.key,e),i.ac.containsKey(s.key)||Vc(i,s.key)):$t()}function S_(i,e){const t=e.key,s=t.path.canonicalString();i.uc.get(t)||i.oc.has(s)||(It("SyncEngine","New document in limbo: "+t),i.oc.add(s),qd(i))}function qd(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const t=new Pt(Zn.fromString(e)),s=i.fc.next();i.cc.set(s,new E_(t)),i.uc=i.uc.insert(t,s),Vd(i.remoteStore,new Zu(ni(tl(t.path)),s,2,Fs.at))}}function Yu(i,e,t){return Pa.apply(this,arguments)}function Pa(){return Pa=(0,oe.Z)(function*(i,e,t){const s=qt(i),u=[],d=[],m=[];var D;s.ic.isEmpty()||(s.ic.forEach((D,U)=>{m.push(s._c(U,e,t).then(G=>{if((G||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(U.targetId,G?.fromCache?"not-current":"current"),G){u.push(G);const ne=Jh.Ci(U.targetId,G);d.push(ne)}}))}),yield Promise.all(m),s.sc.Wo(u),yield(D=(0,oe.Z)(function*(U,G){const ne=qt(U);try{yield ne.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ee=>et.forEach(G,We=>et.forEach(We.Si,bt=>ne.persistence.referenceDelegate.addReference(Ee,We.targetId,bt)).next(()=>et.forEach(We.Di,bt=>ne.persistence.referenceDelegate.removeReference(Ee,We.targetId,bt)))))}catch(Ee){if(!Ia(Ee))throw Ee;It("LocalStore","Failed to update sequence numbers: "+Ee)}for(const Ee of G){const We=Ee.targetId;if(!Ee.fromCache){const bt=ne.qi.get(We),en=bt.withLastLimboFreeSnapshotVersion(bt.snapshotVersion);ne.qi=ne.qi.insert(We,en)}}}),function(U,G){return D.apply(this,arguments)})(s.localStore,d))}),Pa.apply(this,arguments)}function Wd(i,e){return po.apply(this,arguments)}function po(){return po=(0,oe.Z)(function*(i,e){const t=qt(i);if(!t.currentUser.isEqual(e)){It("SyncEngine","User change. New user:",e.toKey());const s=yield ef(t.localStore,e);t.currentUser=e,(u=t).lc.forEach(m=>{m.forEach(D=>{D.reject(new wt(ot.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.lc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Yu(t,s.ji)}var u}),po.apply(this,arguments)}function Ql(i,e){const t=qt(i),s=t.cc.get(e);if(s&&s.nc)return sr().add(s.key);{let u=sr();const d=t.rc.get(e);if(!d)return u;for(const m of d){const D=t.ic.get(m);u=u.unionWith(D.view.ju)}return u}}function bf(i,e){return ta.apply(this,arguments)}function ta(){return ta=(0,oe.Z)(function*(i,e){const t=qt(i),s=yield tf(t.localStore,e.query,!0),u=e.view.tc(s);return t.isPrimaryClient&&ng(t,e.targetId,u.Xu),u}),ta.apply(this,arguments)}function rg(i,e){return Il.apply(this,arguments)}function Il(){return Il=(0,oe.Z)(function*(i,e){const t=qt(i);return Od(t.localStore,e).then(s=>Yu(t,s))}),Il.apply(this,arguments)}function Bc(i,e,t,s){return Cl.apply(this,arguments)}function Cl(){return Cl=(0,oe.Z)(function*(i,e,t,s){const u=qt(i),d=yield function(m,D){const U=qt(m),G=qt(U.mutationQueue);return U.persistence.runTransaction("Lookup mutation documents","readonly",ne=>G.Tn(ne,D).next(Ee=>Ee?U.localDocuments.getDocuments(ne,Ee):et.resolve(null)))}(u.localStore,e);var D;null!==d?("pending"===t?yield Pc(u.remoteStore):"acknowledged"===t||"rejected"===t?(Ku(u,e,s||null),Uc(u,e),D=e,qt(qt(u.localStore).mutationQueue).An(D)):$t(),yield Yu(u,d)):It("SyncEngine","Cannot apply mutation batch with id: "+e)}),Cl.apply(this,arguments)}function Dl(){return Dl=(0,oe.Z)(function*(i,e){const t=qt(i);if(If(t),Cf(t),!0===e&&!0!==t.dc){const s=t.sharedClientState.getAllActiveQueryTargets(),u=yield Jl(t,s.toArray());t.dc=!0,yield Zp(t.remoteStore,!0);for(const d of u)Vd(t.remoteStore,d)}else if(!1===e&&!1!==t.dc){const s=[];let u=Promise.resolve();t.rc.forEach((d,m)=>{t.sharedClientState.isLocalQueryTarget(m)?s.push(m):u=u.then(()=>(zd(t,m),Mc(t.localStore,m,!0))),Bd(t.remoteStore,m)}),yield u,yield Jl(t,s),function(d){const m=qt(d);m.cc.forEach((D,U)=>{Bd(m.remoteStore,U)}),m.ac.fs(),m.cc=new Map,m.uc=new is(Pt.comparator)}(t),t.dc=!1,yield Zp(t.remoteStore,!1)}}),Dl.apply(this,arguments)}function Jl(i,e,t){return Tl.apply(this,arguments)}function Tl(){return Tl=(0,oe.Z)(function*(i,e,t){const s=qt(i),u=[],d=[];for(const m of e){let D;const U=s.rc.get(m);if(U&&0!==U.length){D=yield Rd(s.localStore,ni(U[0]));for(const G of U){const ne=s.ic.get(G),Ee=yield bf(s,ne);Ee.snapshot&&d.push(Ee.snapshot)}}else{const G=yield Ap(s.localStore,m);D=yield Rd(s.localStore,G),yield Wp(s,Xl(G),m,!1,D.resumeToken)}u.push(D)}return s.sc.Wo(d),u}),Tl.apply(this,arguments)}function Xl(i){return lc(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function $c(i){const e=qt(i);return qt(qt(e.localStore).persistence).vi()}function Bm(i,e,t,s){return wf.apply(this,arguments)}function wf(){return wf=(0,oe.Z)(function*(i,e,t,s){const u=qt(i);if(u.dc)return void It("SyncEngine","Ignoring unexpected query state notification.");const d=u.rc.get(e);if(d&&d.length>0)switch(t){case"current":case"not-current":{const m=yield Od(u.localStore,Qa(d[0])),D=al.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,y.EMPTY_BYTE_STRING);yield Yu(u,m,D);break}case"rejected":yield Mc(u.localStore,e,!0),zd(u,e,s);break;default:$t()}}),wf.apply(this,arguments)}function jm(i,e,t){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,oe.Z)(function*(i,e,t){const s=If(i);if(s.dc){for(const u of e){if(s.rc.has(u)){It("SyncEngine","Adding an already active target "+u);continue}const d=yield Ap(s.localStore,u),m=yield Rd(s.localStore,d);yield Wp(s,Xl(d),m.targetId,!1,m.resumeToken),Vd(s.remoteStore,m)}for(const u of t)s.rc.has(u)&&(yield Mc(s.localStore,u,!1).then(()=>{Bd(s.remoteStore,u),zd(s,u)}).catch(Ro))}}),Ef.apply(this,arguments)}function If(i){const e=qt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Lm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ql.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D_.bind(null,e),e.sc.Wo=gf.bind(null,e.eventManager),e.sc.wc=Gd.bind(null,e.eventManager),e}function Cf(i){const e=qt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vm.bind(null,e),e}class ig{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,oe.Z)(function*(){t.yt=bl(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Xh(this.persistence,new _l,e.initialUser,this.yt)}yc(e){return new Cp(Kh.Bs,this.yt)}gc(e){return new wm}terminate(){var e=this;return(0,oe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class sg extends ig{constructor(e,t,s){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,oe.Z)(function*(){yield t().call(s,e),yield s.Ac.initialize(s,e),yield Cf(s.Ac.syncEngine),yield Pc(s.Ac.remoteStore),yield s.persistence.li(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Xh(this.persistence,new _l,e.initialUser,this.yt)}Tc(e,t){return new t0(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const s=new du(t,this.persistence);return new el(e.asyncQueue,s)}yc(e){const t=Qh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?ea.withCacheSize(this.cacheSizeBytes):ea.DEFAULT;return new Dp(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,Cm(),sf(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new wm}}class A_ extends sg{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,oe.Z)(function*(){yield t().call(s,e);const u=s.Ac.syncEngine;s.sharedClientState instanceof kd&&(s.sharedClientState.syncEngine={Fr:Bc.bind(null,u),$r:Bm.bind(null,u),Br:jm.bind(null,u),vi:$c.bind(null,u),Mr:rg.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.li(function(){var d=(0,oe.Z)(function*(m){yield function jc(i,e){return Dl.apply(this,arguments)}(s.Ac.syncEngine,m),s.gcScheduler&&(m&&!s.gcScheduler.started?s.gcScheduler.start():m||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(m&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():m||s.indexBackfillerScheduler.stop())});return function(m){return d.apply(this,arguments)}}())})()}gc(e){const t=Cm();if(!kd.C(t))throw new wt(ot.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Qh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new kd(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class og{initialize(e,t){var s=this;return(0,oe.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=u=>Um(s.syncEngine,u,1),s.remoteStore.remoteSyncer.handleCredentialChange=Wd.bind(null,s.syncEngine),yield Zp(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Om}createDatastore(e){const t=bl(e.databaseInfo.databaseId),s=new Im(e.databaseInfo);return new uf(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,u=e.asyncQueue,d=D=>Um(this.syncEngine,D,0),m=Kl.C()?new Kl:new o0,new Np(t,s,u,d,m);var t,s,u,d,m}createSyncEngine(e,t){return function(s,u,d,m,D,U,G){const ne=new I_(s,u,d,m,D,U);return G&&(ne.dc=!0),ne}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,oe.Z)(function*(t){const s=qt(t);It("RemoteStore","RemoteStore shutting down."),s._u.add(5),yield Nc(s),s.mu.shutdown(),s.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Df(i,e,t){if(!t)throw new wt(ot.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Hm(i,e,t,s){if(!0===e&&!0===s)throw new wt(ot.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function ag(i){if(!Pt.isDocumentKey(i))throw new wt(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Tf(i){if(Pt.isDocumentKey(i))throw new wt(ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Hc(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":$t()}function Vr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new wt(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Hc(i);throw new wt(ot.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Kd(i,e){if(e<=0)throw new wt(ot.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}const Yd=new Map;class Sf{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new wt(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new wt(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Hm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qd{constructor(e,t,s,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new wt(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new wt(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sf(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ua;switch(t.type){case"gapi":return new Au(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new wt(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Yd.get(e);t&&(It("ComponentProvider","Removing Datastore"),Yd.delete(e),t.terminate())}(this),Promise.resolve()}}class Ri{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new iu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ri(this.firestore,e,this._key)}}class go{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new go(this.firestore,e,this._query)}}class iu extends go{constructor(e,t,s){super(e,t,tl(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ri(this.firestore,null,new Pt(e))}withConverter(e){return new iu(this.firestore,e,this._path)}}function xf(i,e,...t){if(i=(0,Qe.m9)(i),Df("collection","path",e),i instanceof Qd){const s=Zn.fromString(e,...t);return Tf(s),new iu(i,null,s)}{if(!(i instanceof Ri||i instanceof iu))throw new wt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Zn.fromString(e,...t));return Tf(s),new iu(i.firestore,null,s)}}function Jd(i,e,...t){if(i=(0,Qe.m9)(i),1===arguments.length&&(e=ja.R()),Df("doc","path",e),i instanceof Qd){const s=Zn.fromString(e,...t);return ag(s),new Ri(i,null,new Pt(s))}{if(!(i instanceof Ri||i instanceof iu))throw new wt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Zn.fromString(e,...t));return ag(s),new Ri(i.firestore,i instanceof iu?i.converter:null,new Pt(s))}}function Mf(i,e){return i=(0,Qe.m9)(i),e=(0,Qe.m9)(e),(i instanceof Ri||i instanceof iu)&&(e instanceof Ri||e instanceof iu)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Rf(i,e){return i=(0,Qe.m9)(i),e=(0,Qe.m9)(e),i instanceof go&&e instanceof go&&i.firestore===e.firestore&&nl(i._query,e._query)&&i.converter===e.converter}function Gm(i,e=10240){let t=0;return{read:()=>(0,oe.Z)(function*(){if(t<i.byteLength){const s={value:i.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,oe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Xd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class zm{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new _i,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(s=>{s&&s.Ou()?this.metadata.resolve(s.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ku)}`))},s=>this.metadata.reject(s))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,oe.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,oe.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,oe.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const s=e.vc.decode(t),u=Number(s);isNaN(u)&&e.Dc(`length string (${s}) is not valid number`);const d=yield e.Cc(u);return new Nm(JSON.parse(d),t.length+u)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,oe.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}Cc(e){var t=this;return(0,oe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const s=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,oe.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class R_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,oe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new wt(ot.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(u=(0,oe.Z)(function*(d,m){const D=qt(d),U=c(D.yt)+"/documents",G={documents:m.map(bt=>cl(D.yt,bt))},ne=yield D._o("BatchGetDocuments",U,G,m.length),Ee=new Map;ne.forEach(bt=>{const Tt=function J(i,e){return"found"in e?function(t,s){Qt(!!s.found);const u=Ra(t,s.found.name),d=Yi(s.found.updateTime),m=s.found.createTime?Yi(s.found.createTime):gn.min(),D=new Us({mapValue:{fields:s.found.fields}});return Di.newFoundDocument(u,d,m,D)}(i,e):"missing"in e?function(t,s){Qt(!!s.missing),Qt(!!s.readTime);const u=Ra(t,s.missing),d=Yi(s.readTime);return Di.newNoDocument(u,d)}(i,e):$t()}(D.yt,bt);Ee.set(Tt.key.toString(),Tt)});const We=[];return m.forEach(bt=>{const Tt=Ee.get(bt.toString());Qt(!!Tt),We.push(Tt)}),We}),function(d,m){return u.apply(this,arguments)})(t.datastore,e);var u;return s.forEach(u=>t.recordVersion(u)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new da(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,oe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,u)=>{const d=Pt.fromPath(u);e.mutations.push(new mc(d,e.precondition(d)))}),yield(s=(0,oe.Z)(function*(u,d){const m=qt(u),D=c(m.yt)+"/documents",U={writes:d.map(G=>ct(m.yt,G))};yield m.ao("Commit",D,U)}),function(u,d){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw $t();t=gn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new wt(ot.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(gn.min())?Ti.exists(!1):Ti.updateTime(t):Ti.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(gn.min()))throw new wt(ot.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ti.updateTime(t)}return Ti.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class O_{constructor(e,t,s,u,d){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=u,this.deferred=d,this.kc=s.maxAttempts,this.xo=new wl(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,oe.Z)(function*(){const t=new R_(e.datastore),s=e.Mc(t);s&&s.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(d=>{e.Fc(d)}))}).catch(u=>{e.Fc(u)})}))}Mc(e){try{const t=this.updateFunction(e);return!Ki(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Ph(t)}return!1}}class Wm{constructor(e,t,s,u){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=u,this.user=Rn.UNAUTHENTICATED,this.clientId=ja.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var m=(0,oe.Z)(function*(D){It("FirestoreClient","Received user=",D.uid),yield d.authCredentialListener(D),d.user=D});return function(D){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(s,m=>(It("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}getConfiguration(){var e=this;return(0,oe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new wt(ot.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,oe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const u=Hd(s,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function Of(i,e){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,oe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),It("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,oe.Z)(function*(d){s.isEqual(d)||(yield ef(e.localStore,d),s=d)});return function(d){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Nf.apply(this,arguments)}function ug(i,e){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,oe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield kf(i);It("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(t,s),i.setCredentialChangeListener(u=>Mm(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,d)=>Mm(e.remoteStore,d)),i.onlineComponents=e}),Pf.apply(this,arguments)}function kf(i){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,oe.Z)(function*(i){return i.offlineComponents||(It("FirestoreClient","Using default OfflineComponentProvider"),yield Of(i,new ig)),i.offlineComponents}),Ff.apply(this,arguments)}function eh(i){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,oe.Z)(function*(i){return i.onlineComponents||(It("FirestoreClient","Using default OnlineComponentProvider"),yield ug(i,new og)),i.onlineComponents}),Lf.apply(this,arguments)}function lg(i){return kf(i).then(e=>e.persistence)}function ec(i){return kf(i).then(e=>e.localStore)}function Eu(i){return eh(i).then(e=>e.remoteStore)}function cg(i){return eh(i).then(e=>e.syncEngine)}function Sl(i){return Qu.apply(this,arguments)}function Qu(){return Qu=(0,oe.Z)(function*(i){const e=yield eh(i),t=e.eventManager;return t.onListen=C_.bind(null,e.syncEngine),t.onUnlisten=Kp.bind(null,e.syncEngine),t}),Qu.apply(this,arguments)}function P_(i,e,t={}){const s=new _i;return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function(u,d,m,D,U){const G=new Xd({next:Ee=>{d.enqueueAndForget(()=>ru(u,ne));const We=Ee.docs.has(m);!We&&Ee.fromCache?U.reject(new wt(ot.UNAVAILABLE,"Failed to get document because the client is offline.")):We&&Ee.fromCache&&D&&"server"===D.source?U.reject(new wt(ot.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):U.resolve(Ee)},error:Ee=>U.reject(Ee)}),ne=new mf(tl(m.path),G,{includeMetadataChanges:!0,Nu:!0});return pf(u,ne)}(yield Sl(i),i.asyncQueue,e,t,s)})),s.promise}function Ym(i,e,t={}){const s=new _i;return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function(u,d,m,D,U){const G=new Xd({next:Ee=>{d.enqueueAndForget(()=>ru(u,ne)),Ee.fromCache&&"server"===D.source?U.reject(new wt(ot.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):U.resolve(Ee)},error:Ee=>U.reject(Ee)}),ne=new mf(m,G,{includeMetadataChanges:!0,Nu:!0});return pf(u,ne)}(yield Sl(i),i.asyncQueue,e,t,s)})),s.promise}class Ks{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new wl(this,"async_queue_retry"),this.Wc=()=>{const t=sf();t&&It("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=sf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=sf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new _i;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,oe.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Ia(t))throw t;It("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(s=>{throw this.Kc=s,this.Gc=!1,vr("INTERNAL UNHANDLED ERROR: ",function(d){let m=d.message||"";return d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),m}(s)),s}).then(s=>(this.Gc=!1,s))));return this.Bc=t,t}enqueueAfterDelay(e,t,s){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const u=kc.createAndSchedule(this,e,t,s,d=>this.Yc(d));return this.Uc.push(u),u}zc(){this.Kc&&$t()}verifyOperationInProgress(){}Xc(){var e=this;return(0,oe.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function Uf(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const u of["next","error","complete"])if(u in s&&"function"==typeof s[u])return!0;return!1}(i)}class L_{constructor(){this._progressObserver={},this._taskCompletionResolver=new _i,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Fi extends Qd{constructor(e,t,s,u){super(e,t,s,u),this.type="firestore",this._queue=new Ks,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||tc(this),this._firestoreClient.terminate()}}function ys(i){return i._firestoreClient||tc(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function tc(i){var e;const t=i._freezeSettings(),s=(d=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new hu(i._databaseId,d,i._persistenceKey,(D=t).host,D.ssl,D.experimentalForceLongPolling,D.experimentalAutoDetectLongPolling,D.useFetchStreams));var d,D;i._firestoreClient=new Wm(i._authCredentials,i._appCheckCredentials,i._queue,s)}function fg(i,e,t){const s=new _i;return i.asyncQueue.enqueue((0,oe.Z)(function*(){try{yield Of(i,t),yield ug(i,e),s.resolve()}catch(u){const d=u;if(!("FirebaseError"===(m=d).name?m.code===ot.FAILED_PRECONDITION||m.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&m instanceof DOMException)||22===m.code||20===m.code||11===m.code))throw d;br("Error enabling offline persistence. Falling back to persistence disabled: "+d),s.reject(d)}var m})).then(()=>s.promise)}function ty(i){if(i._initialized||i._terminated)throw new wt(ot.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ys{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ys(y.fromBase64String(e))}catch(t){throw new wt(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ys(y.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Qs{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new wt(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Al{constructor(e){this._methodName=e}}class th{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new wt(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new wt(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Un(this._lat,e._lat)||Un(this._long,e._long)}}const Z_=/^__.*__$/;class G_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Xa(e,this.data,this.fieldMask,t,this.fieldTransforms):new ju(e,this.data,t,this.fieldTransforms)}}class ny{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Xa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ry(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $t()}}class Zc{constructor(e,t,s,u,d,m){this.settings=e,this.databaseId=t,this.yt=s,this.ignoreUndefinedProperties=u,void 0===d&&this.na(),this.fieldTransforms=d||[],this.fieldMask=m||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Zc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:s,oa:!1});return u.ua(e),u}ca(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:s,oa:!1});return u.na(),u}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return uh(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(ry(this.sa)&&Z_.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class nh{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=s||bl(e)}da(e,t,s,u=!1){return new Zc({sa:e,methodName:t,fa:s,path:Yr.emptyPath(),oa:!1,la:u},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function nc(i){const e=i._freezeSettings(),t=bl(i._databaseId);return new nh(i._databaseId,!!e.ignoreUndefinedProperties,t)}function rh(i,e,t,s,u,d={}){const m=i.da(d.merge||d.mergeFields?2:0,e,t,u);$f("Data must be an object, but it was:",m,s);const D=gg(s,m);let U,G;if(d.merge)U=new Io(m.fieldMask),G=m.fieldTransforms;else if(d.mergeFields){const ne=[];for(const Ee of d.mergeFields){const We=Hf(e,Ee,t);if(!m.contains(We))throw new wt(ot.INVALID_ARGUMENT,`Field '${We}' is specified in your field mask but missing from your input data.`);oy(ne,We)||ne.push(We)}U=new Io(ne),G=m.fieldTransforms.filter(Ee=>U.covers(Ee.field))}else U=null,G=m.fieldTransforms;return new G_(new Us(D),U,G)}class ih extends Al{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ih}}function pg(i,e,t){return new Zc({sa:3,fa:e.settings.fa,methodName:i._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class Vf extends Al{_toFieldTransform(e){return new Ja(e.path,new sl)}isEqual(e){return e instanceof Vf}}class Bf extends Al{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=pg(this,e,!0),s=this._a.map(d=>xl(d,t)),u=new ca(s);return new Ja(e.path,u)}isEqual(e){return this===e}}class z_ extends Al{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=pg(this,e,!0),s=this._a.map(d=>xl(d,t)),u=new gu(s);return new Ja(e.path,u)}isEqual(e){return this===e}}class iy extends Al{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new mu(e.yt,rl(e.yt,this.wa));return new Ja(e.path,t)}isEqual(e){return this===e}}function jf(i,e,t,s){const u=i.da(1,e,t);$f("Data must be an object, but it was:",u,s);const d=[],m=Us.empty();wo(s,(U,G)=>{const ne=ah(e,U,t);G=(0,Qe.m9)(G);const Ee=u.ca(ne);if(G instanceof ih)d.push(ne);else{const We=xl(G,Ee);null!=We&&(d.push(ne),m.set(ne,We))}});const D=new Io(d);return new ny(m,D,u.fieldTransforms)}function sh(i,e,t,s,u,d){const m=i.da(1,e,t),D=[Hf(e,s,t)],U=[u];if(d.length%2!=0)throw new wt(ot.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let We=0;We<d.length;We+=2)D.push(Hf(e,d[We])),U.push(d[We+1]);const G=[],ne=Us.empty();for(let We=D.length-1;We>=0;--We)if(!oy(G,D[We])){const bt=D[We];let Tt=U[We];Tt=(0,Qe.m9)(Tt);const en=m.ca(bt);if(Tt instanceof ih)G.push(bt);else{const Cn=xl(Tt,en);null!=Cn&&(G.push(bt),ne.set(bt,Cn))}}const Ee=new Io(G);return new ny(ne,Ee,m.fieldTransforms)}function oh(i,e,t,s=!1){return xl(t,i.da(s?4:3,e))}function xl(i,e){if(mg(i=(0,Qe.m9)(i)))return $f("Unsupported field value:",e,i),gg(i,e);if(i instanceof Al)return function(t,s){if(!ry(s.sa))throw s.ha(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.ha(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(s);u&&s.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,s){const u=[];let d=0;for(const m of t){let D=xl(m,s.aa(d));null==D&&(D={nullValue:"NULL_VALUE"}),u.push(D),d++}return{arrayValue:{values:u}}}(i,e)}return function(t,s){if(null===(t=(0,Qe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return rl(s.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=Wn.fromDate(t);return{timestampValue:pa(s.yt,u)}}if(t instanceof Wn){const u=new Wn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:pa(s.yt,u)}}if(t instanceof th)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ys)return{bytesValue:ul(s.yt,t._byteString)};if(t instanceof Ri){const u=s.databaseId,d=t.firestore._databaseId;if(!d.isEqual(u))throw s.ha(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ll(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.ha(`Unsupported field value: ${Hc(t)}`)}(i,e)}function gg(i,e){const t={};return Wa(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wo(i,(s,u)=>{const d=xl(u,e.ra(s));null!=d&&(t[s]=d)}),{mapValue:{fields:t}}}function mg(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Wn||i instanceof th||i instanceof Ys||i instanceof Ri||i instanceof Al)}function $f(i,e,t){if(!mg(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Hc(t);throw e.ha("an object"===s?i+" a custom object":i+" "+s)}var s}function Hf(i,e,t){if((e=(0,Qe.m9)(e))instanceof Qs)return e._internalPath;if("string"==typeof e)return ah(i,e);throw uh("Field path arguments must be of type string or ",i,!1,void 0,t)}const sy=new RegExp("[~\\*/\\[\\]]");function ah(i,e,t){if(e.search(sy)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Qs(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function uh(i,e,t,s,u){const d=s&&!s.isEmpty(),m=void 0!==u;let D=`Function ${e}() called with invalid data`;t&&(D+=" (via `toFirestore()`)"),D+=". ";let U="";return(d||m)&&(U+=" (found",d&&(U+=` in field ${s}`),m&&(U+=` in document ${u}`),U+=")"),new wt(ot.INVALID_ARGUMENT,D+i+U)}function oy(i,e){return i.some(t=>t.isEqual(e))}class lh{constructor(e,t,s,u,d){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=u,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Ri(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new q_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Zf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class q_ extends lh{data(){return super.data()}}function Zf(i,e){return"string"==typeof e?ah(i,e):e instanceof Qs?e._internalPath:e._delegate._internalPath}function ay(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new wt(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yg{}class ch extends yg{}function Ml(i,e,...t){let s=[];e instanceof yg&&s.push(e),s=s.concat(t),function(u){const d=u.filter(D=>D instanceof Gc).length,m=u.filter(D=>D instanceof dh).length;if(d>1||d>0&&m>0)throw new wt(ot.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)i=u._apply(i);return i}class dh extends ch{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new dh(e,t,s)}_apply(e){const t=this._parse(e);return Eg(e._query,t),new go(e.firestore,e.converter,Lu(e._query,t))}_parse(e){const t=nc(e.firestore);return function(u,d,m,D,U,G,ne){let Ee;if(U.isKeyField()){if("array-contains"===G||"array-contains-any"===G)throw new wt(ot.INVALID_ARGUMENT,`Invalid Query. You can't perform '${G}' queries on documentId().`);if("in"===G||"not-in"===G){wg(ne,G);const We=[];for(const bt of ne)We.push(bg(D,u,bt));Ee={arrayValue:{values:We}}}else Ee=bg(D,u,ne)}else"in"!==G&&"not-in"!==G&&"array-contains-any"!==G||wg(ne,G),Ee=oh(m,"where",ne,"in"===G||"not-in"===G);return xn.create(U,G,Ee)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Gc extends yg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Gc(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:Nr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,u){let d=s;const m=u.getFlattenedFilters();for(const D of m)Eg(d,D),d=Lu(d,D)}(e._query,t),new go(e.firestore,e.converter,Lu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class _g extends ch{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new _g(e,t)}_apply(e){const t=function(s,u,d){if(null!==s.startAt)throw new wt(ot.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new wt(ot.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new fu(u,d);return function(D,U){if(null===co(D)){const G=Fu(D);null!==G&&Ig(0,G,U.field)}}(s,m),m}(e._query,this._field,this._direction);return new go(e.firestore,e.converter,function(s,u){const d=s.explicitOrderBy.concat([u]);return new Ka(s.path,s.collectionGroup,d,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class Gf extends ch{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Gf(e,t,s)}_apply(e){return new go(e.firestore,e.converter,Vl(e._query,this._limit,this._limitType))}}class hh extends ch{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new hh(e,t,s)}_apply(e){const t=vg(e,this.type,this._docOrFields,this._inclusive);return new go(e.firestore,e.converter,(u=t,new Ka((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,u,s.endAt)));var s,u}}class fh extends ch{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new fh(e,t,s)}_apply(e){const t=vg(e,this.type,this._docOrFields,this._inclusive);return new go(e.firestore,e.converter,(u=t,new Ka((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,u)));var s,u}}function vg(i,e,t,s){if(t[0]=(0,Qe.m9)(t[0]),t[0]instanceof lh)return function(u,d,m,D,U){if(!D)throw new wt(ot.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const G=[];for(const ne of Ya(u))if(ne.field.isKeyField())G.push(Eo(d,D.key));else{const Ee=D.data.field(ne.field);if(Re(Ee))throw new wt(ot.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ne.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ee){const We=ne.field.canonicalString();throw new wt(ot.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${We}' (used as the orderBy) does not exist.`)}G.push(Ee)}return new an(G,U)}(i._query,i.firestore._databaseId,e,t[0]._document,s);{const u=nc(i.firestore);return function(d,m,D,U,G,ne){const Ee=d.explicitOrderBy;if(G.length>Ee.length)throw new wt(ot.INVALID_ARGUMENT,`Too many arguments provided to ${U}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const We=[];for(let bt=0;bt<G.length;bt++){const Tt=G[bt];if(Ee[bt].field.isKeyField()){if("string"!=typeof Tt)throw new wt(ot.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${U}(), but got a ${typeof Tt}`);if(!Ul(d)&&-1!==Tt.indexOf("/"))throw new wt(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${U}() must be a plain document ID, but '${Tt}' contains a slash.`);const en=d.path.child(Zn.fromString(Tt));if(!Pt.isDocumentKey(en))throw new wt(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${U}() must result in a valid document path, but '${en}' is not because it contains an odd number of segments.`);const Cn=new Pt(en);We.push(Eo(m,Cn))}else{const en=oh(D,U,Tt);We.push(en)}}return new an(We,ne)}(i._query,i.firestore._databaseId,u,e,t,s)}}function bg(i,e,t){if("string"==typeof(t=(0,Qe.m9)(t))){if(""===t)throw new wt(ot.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ul(e)&&-1!==t.indexOf("/"))throw new wt(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Zn.fromString(t));if(!Pt.isDocumentKey(s))throw new wt(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Eo(i,new Pt(s))}if(t instanceof Ri)return Eo(i,t._key);throw new wt(ot.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hc(t)}.`)}function wg(i,e){if(!Array.isArray(i)||0===i.length)throw new wt(ot.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new wt(ot.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Eg(i,e){if(e.isInequality()){const s=Fu(i),u=e.field;if(null!==s&&!s.isEqual(u))throw new wt(ot.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${u.toString()}'`);const d=co(i);null!==d&&Ig(0,u,d)}const t=function(s,u){for(const d of s)for(const m of d.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new wt(ot.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Ig(i,e,t){if(!t.isEqual(e))throw new wt(ot.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Cg{convertValue(e,t="none"){switch(ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return z(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(X(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw $t()}}convertObject(e,t){const s={};return wo(e.fields,(u,d)=>{s[u]=this.convertValue(d,t)}),s}convertGeoPoint(e){return new th(z(e.latitude),z(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=vt(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(zt(e));default:return null}}convertTimestamp(e){const t=k(e);return new Wn(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Zn.fromString(e);Qt(vd(s));const u=new Sr(s.get(1),s.get(3)),d=new Pt(s.popFirst(5));return u.isEqual(t)||vr(`Document ${d} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}function zf(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class zc extends Cg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ys(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ri(this.firestore,null,t)}}class qc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class su extends lh{constructor(e,t,s,u,d,m){super(e,t,s,u,m),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Zf("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class qf extends su{data(e={}){return super.data(e)}}class Ju{constructor(e,t,s,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new qc(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new qf(this._firestore,this._userDataWriter,s.key,s,new qc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new wt(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,u){if(s._snapshot.oldDocs.isEmpty()){let d=0;return s._snapshot.docChanges.map(m=>({type:"added",doc:new qf(s._firestore,s._userDataWriter,m.doc.key,m.doc,new qc(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:d++}))}{let d=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(m=>u||3!==m.type).map(m=>{const D=new qf(s._firestore,s._userDataWriter,m.doc.key,m.doc,new qc(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);let U=-1,G=-1;return 0!==m.type&&(U=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),1!==m.type&&(d=d.add(m.doc),G=d.indexOf(m.doc.key)),{type:hy(m.type),doc:D,oldIndex:U,newIndex:G}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function hy(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $t()}}function J_(i,e){return i instanceof su&&e instanceof su?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Ju&&e instanceof Ju&&i._firestore===e._firestore&&Rf(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class Ol extends Cg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ys(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ri(this.firestore,null,t)}}function ph(i,e,t){i=Vr(i,Ri);const s=Vr(i.firestore,Fi),u=zf(i.converter,e,t);return rc(s,[rh(nc(s),"setDoc",i._key,u,null!==i.converter,t).toMutation(i._key,Ti.none())])}function ss(i,e,t,...s){i=Vr(i,Ri);const u=Vr(i.firestore,Fi),d=nc(u);let m;return m="string"==typeof(e=(0,Qe.m9)(e))||e instanceof Qs?sh(d,"updateDoc",i._key,e,t,s):jf(d,"updateDoc",i._key,e),rc(u,[m.toMutation(i._key,Ti.exists(!0))])}function Dg(i,...e){var t,s,u;i=(0,Qe.m9)(i);let d={includeMetadataChanges:!1},m=0;"object"!=typeof e[m]||Uf(e[m])||(d=e[m],m++);const D={includeMetadataChanges:d.includeMetadataChanges};if(Uf(e[m])){const Ee=e[m];e[m]=null===(t=Ee.next)||void 0===t?void 0:t.bind(Ee),e[m+1]=null===(s=Ee.error)||void 0===s?void 0:s.bind(Ee),e[m+2]=null===(u=Ee.complete)||void 0===u?void 0:u.bind(Ee)}let U,G,ne;if(i instanceof Ri)G=Vr(i.firestore,Fi),ne=tl(i._key.path),U={next:Ee=>{e[m]&&e[m](Kf(G,i,Ee))},error:e[m+1],complete:e[m+2]};else{const Ee=Vr(i,go);G=Vr(Ee.firestore,Fi),ne=Ee._query;const We=new Ol(G);U={next:bt=>{e[m]&&e[m](new Ju(G,We,Ee,bt))},error:e[m+1],complete:e[m+2]},ay(i._query)}return function(Ee,We,bt,Tt){const en=new Xd(Tt),Cn=new mf(We,en,bt);return Ee.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return pf(yield Sl(Ee),Cn)})),()=>{en.bc(),Ee.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return ru(yield Sl(Ee),Cn)}))}}(ys(G),ne,D,U)}function rc(i,e){return function(t,s){const u=new _i;return t.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function Qp(i,e,t){return Jp.apply(this,arguments)}(yield cg(t),s,u)})),u.promise}(ys(i),e)}function Kf(i,e,t){const s=t.docs.get(e._key),u=new Ol(i);return new su(i,u,e._key,s,new qc(t.hasPendingWrites,t.fromCache),e.converter)}const sv={maxAttempts:5};class py{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=nc(e)}set(e,t,s){this._verifyNotCommitted();const u=Nl(e,this._firestore),d=zf(u.converter,t,s),m=rh(this._dataReader,"WriteBatch.set",u._key,d,null!==u.converter,s);return this._mutations.push(m.toMutation(u._key,Ti.none())),this}update(e,t,s,...u){this._verifyNotCommitted();const d=Nl(e,this._firestore);let m;return m="string"==typeof(t=(0,Qe.m9)(t))||t instanceof Qs?sh(this._dataReader,"WriteBatch.update",d._key,t,s,u):jf(this._dataReader,"WriteBatch.update",d._key,t),this._mutations.push(m.toMutation(d._key,Ti.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Nl(e,this._firestore);return this._mutations=this._mutations.concat(new da(t._key,Ti.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new wt(ot.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Nl(i,e){if((i=(0,Qe.m9)(i)).firestore!==e)throw new wt(ot.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class gh extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=nc(e)}get(e){const t=Nl(e,this._firestore),s=new zc(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return $t();const d=u[0];if(d.isFoundDocument())return new lh(this._firestore,s,d.key,d,t.converter);if(d.isNoDocument())return new lh(this._firestore,s,t._key,null,t.converter);throw $t()})}set(e,t,s){const u=Nl(e,this._firestore),d=zf(u.converter,t,s),m=rh(this._dataReader,"Transaction.set",u._key,d,null!==u.converter,s);return this._transaction.set(u._key,m),this}update(e,t,s,...u){const d=Nl(e,this._firestore);let m;return m="string"==typeof(t=(0,Qe.m9)(t))||t instanceof Qs?sh(this._dataReader,"Transaction.update",d._key,t,s,u):jf(this._dataReader,"Transaction.update",d._key,t),this._transaction.update(d._key,m),this}delete(e){const t=Nl(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Nl(e,this._firestore),s=new Ol(this._firestore);return super.get(e).then(u=>new su(this._firestore,s,t._key,u._document,new qc(!1,!1),t.converter))}}function Tg(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new wt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function yy(){if(typeof Uint8Array>"u")throw new wt("unimplemented","Uint8Arrays are not available in this environment.")}function Sg(){if(!function E(){return typeof atob<"u"}())throw new wt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){qn=He.SDK_VERSION,(0,He._registerComponent)(new Be.wA("firestore",(t,{instanceIdentifier:s,options:u})=>{const d=t.getProvider("app").getImmediate(),m=new Fi(new Va(t.getProvider("auth-internal")),new xu(t.getProvider("app-check-internal")),function(D,U){if(!Object.prototype.hasOwnProperty.apply(D.options,["projectId"]))throw new wt(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sr(D.options.projectId,U)}(d,s),d);return u=Object.assign({useFetchStreams:e},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),(0,He.registerVersion)(Hn,"3.8.0",i),(0,He.registerVersion)(Hn,"3.8.0","esm2017")}();class Yc{constructor(e){this._delegate=e}static fromBase64String(e){return Sg(),new Yc(Ys.fromBase64String(e))}static fromUint8Array(e){return yy(),new Yc(Ys.fromUint8Array(e))}toBase64(){return Sg(),this._delegate.toBase64()}toUint8Array(){return yy(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Qf(i){return function dv(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(i,["next","error","complete"])}class _y{enableIndexedDbPersistence(e,t){return function B_(i,e){ty(i=Vr(i,Fi));const t=ys(i),s=i._freezeSettings(),u=new og;return fg(t,u,new sg(u,s.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function j_(i){ty(i=Vr(i,Fi));const e=ys(i),t=i._freezeSettings(),s=new og;return fg(e,s,new A_(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function $_(i){if(i._initialized&&!i._terminated)throw new wt(ot.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new _i;return i._queue.enqueueAndForgetEvenWhileRestricted((0,oe.Z)(function*(){try{yield(t=(0,oe.Z)(function*(s){if(!oo.C())return Promise.resolve();const u=s+"main";yield oo.delete(u)}),function(s){return t.apply(this,arguments)})(Qh(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class vy{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof Sr||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&br("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function Af(i,e,t,s={}){var u;const d=(i=Vr(i,Qd))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&br("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let m,D;if("string"==typeof s.mockUserToken)m=s.mockUserToken,D=Rn.MOCK_USER;else{m=(0,Qe.Sg)(s.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const U=s.mockUserToken.sub||s.mockUserToken.user_id;if(!U)throw new wt(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");D=new Rn(U)}i._authCredentials=new wa(new Mo(m,D))}}(this._delegate,e,t,s)}enableNetwork(){return function c0(i){return function dg(i){return i.asyncQueue.enqueue((0,oe.Z)(function*(){const e=yield lg(i),t=yield Eu(i);return e.setNetworkEnabled(!0),function(s){const u=qt(s);return u._u.delete(0),Oc(u)}(t)}))}(ys(i=Vr(i,Fi)))}(this._delegate)}disableNetwork(){return function Xm(i){return function N_(i){return i.asyncQueue.enqueue((0,oe.Z)(function*(){const e=yield lg(i),t=yield Eu(i);return e.setNetworkEnabled(!1),(s=(0,oe.Z)(function*(u){const d=qt(u);d._u.add(0),yield Nc(d),d.gu.set("Offline")}),function(u){return s.apply(this,arguments)})(t);var s}))}(ys(i=Vr(i,Fi)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,Hm("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Jm(i){return function(e){const t=new _i;return e.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function a0(i,e){return vf.apply(this,arguments)}(yield cg(e),t)})),t.promise}(ys(i=Vr(i,Fi)))}(this._delegate)}onSnapshotsInSync(e){return function nv(i,e){return function k_(i,e){const t=new Xd(e);return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return s=yield Sl(i),u=t,qt(s).Ru.add(u),void u.next();var s,u})),()=>{t.bc(),i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return s=yield Sl(i),u=t,void qt(s).Ru.delete(u);var s,u}))}}(ys(i=Vr(i,Fi)),Uf(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new wt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Jc(this,xf(this._delegate,e))}catch(t){throw na(t,"collection()","Firestore.collection()")}}doc(e){try{return new ou(this,Jd(this._delegate,e))}catch(t){throw na(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new No(this,function Zm(i,e){if(i=Vr(i,Qd),Df("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new wt(ot.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new go(i,null,(t=e,new Ka(Zn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw na(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function ov(i,e,t){i=Vr(i,Fi);const s=Object.assign(Object.assign({},sv),t);return function(u){if(u.maxAttempts<1)throw new wt(ot.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(u,d,m){const D=new _i;return u.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){const U=yield function Km(i){return eh(i).then(e=>e.datastore)}(u);new O_(u.asyncQueue,U,m,d,D).run()})),D.promise}(ys(i),u=>e(new gh(i,u)),s)}(this._delegate,t=>e(new hv(this,t)))}batch(){return ys(this._delegate),new fv(new py(this._delegate,e=>rc(this._delegate,e)))}loadBundle(e){return function Iu(i,e){const t=ys(i=Vr(i,Fi)),s=new L_;return function Qm(i,e,t,s){const u=function(d,m){let D;return D="string"==typeof d?(new TextEncoder).encode(d):d,U=function(U,G){if(U instanceof Uint8Array)return Gm(U,G);if(U instanceof ArrayBuffer)return Gm(new Uint8Array(U),G);if(U instanceof ReadableStream)return U.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(D),new zm(U,m);var U}(t,bl(e));i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){!function $m(i,e,t){const s=qt(i);var u;(u=(0,oe.Z)(function*(d,m,D){try{const U=yield m.getMetadata();if(yield function(We,bt){const Tt=qt(We),en=Yi(bt.createTime);return Tt.persistence.runTransaction("hasNewerBundle","readonly",Cn=>Tt.Ns.getBundleMetadata(Cn,bt.id)).then(Cn=>!!Cn&&Cn.createTime.compareTo(en)>=0)}(d.localStore,U))return yield m.close(),D._completeWith({taskState:"Success",documentsLoaded:(We=U).totalDocuments,bytesLoaded:We.totalBytes,totalDocuments:We.totalDocuments,totalBytes:We.totalBytes}),Promise.resolve(new Set);D._updateProgress(Lc(U));const G=new v_(U,d.localStore,m.yt);let ne=yield m.mc();for(;ne;){const We=yield G.Fu(ne);We&&D._updateProgress(We),ne=yield m.mc()}const Ee=yield G.complete();return yield Yu(d,Ee.Lu,void 0),yield function(We,bt){const Tt=qt(We);return Tt.persistence.runTransaction("Save bundle","readwrite",en=>Tt.Ns.saveBundleMetadata(en,bt))}(d.localStore,U),D._completeWith(Ee.progress),Promise.resolve(Ee.Bu)}catch(U){return br("SyncEngine",`Loading bundle failed with ${U}`),D._failWith(U),Promise.resolve(new Set)}var We}),function(d,m,D){return u.apply(this,arguments)})(s,e,t).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield cg(i),u,s)}))}(t,i._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function H_(i,e){return function F_(i,e){return i.asyncQueue.enqueue((0,oe.Z)(function*(){return function(t,s){const u=qt(t);return u.persistence.runTransaction("Get named query","readonly",d=>u.Ns.getNamedQuery(d,s))}(yield ec(i),e)}))}(ys(i=Vr(i,Fi)),e).then(t=>t?new go(i,null,t.query):null)}(this._delegate,e).then(t=>t?new No(this,t):null)}}class Jf extends Cg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yc(new Ys(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ou.forKey(t,this.firestore,null)}}class hv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Jf(e)}get(e){const t=ic(e);return this._delegate.get(t).then(s=>new _h(this._firestore,new su(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const u=ic(e);return s?(Tg("Transaction.set",s),this._delegate.set(u,t,s)):this._delegate.set(u,t),this}update(e,t,s,...u){const d=ic(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,s,...u),this}delete(e){const t=ic(e);return this._delegate.delete(t),this}}class fv{constructor(e){this._delegate=e}set(e,t,s){const u=ic(e);return s?(Tg("WriteBatch.set",s),this._delegate.set(u,t,s)):this._delegate.set(u,t),this}update(e,t,s,...u){const d=ic(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,s,...u),this}delete(e){const t=ic(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Qc{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new qf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new vh(this._firestore,s),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=Qc.INSTANCES;let u=s.get(e);u||(u=new WeakMap,s.set(e,u));let d=u.get(t);return d||(d=new Qc(e,new Jf(e),t),u.set(t,d)),d}}Qc.INSTANCES=new WeakMap;class ou{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Jf(e)}static forPath(e,t,s){if(e.length%2!=0)throw new wt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ou(t,new Ri(t._delegate,s,new Pt(e)))}static forKey(e,t,s){return new ou(t,new Ri(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Jc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Jc(this.firestore,xf(this._delegate,e))}catch(t){throw na(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Qe.m9)(e))instanceof Ri&&Mf(this._delegate,e)}set(e,t){t=Tg("DocumentReference.set",t);try{return t?ph(this._delegate,e,t):ph(this._delegate,e)}catch(s){throw na(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?ss(this._delegate,e):ss(this._delegate,e,t,...s)}catch(u){throw na(u,"updateDoc()","DocumentReference.update()")}}delete(){return function f0(i){return rc(Vr(i.firestore,Fi),[new da(i._key,Ti.none())])}(this._delegate)}onSnapshot(...e){const t=Ag(e),s=yh(e,u=>new _h(this.firestore,new su(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return Dg(this._delegate,t,s)}get(e){let t;return t="cache"===e?.source?function X_(i){i=Vr(i,Ri);const e=Vr(i.firestore,Fi),t=ys(e),s=new Ol(e);return function hg(i,e){const t=new _i;return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return(s=(0,oe.Z)(function*(u,d,m){try{const D=yield function(U,G){const ne=qt(U);return ne.persistence.runTransaction("read document","readonly",Ee=>ne.localDocuments.getDocument(Ee,G))}(u,d);D.isFoundDocument()?m.resolve(D):D.isNoDocument()?m.resolve(null):m.reject(new wt(ot.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(D){const U=Hd(D,`Failed to get document '${d} from cache`);m.reject(U)}}),function(u,d,m){return s.apply(this,arguments)})(yield ec(i),e,t);var s})),t.promise}(t,i._key).then(u=>new su(e,s,i._key,u,new qc(null!==u&&u.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===e?.source?function ev(i){i=Vr(i,Ri);const e=Vr(i.firestore,Fi);return P_(ys(e),i._key,{source:"server"}).then(t=>Kf(e,i,t))}(this._delegate):function jn(i){i=Vr(i,Ri);const e=Vr(i.firestore,Fi);return P_(ys(e),i._key).then(t=>Kf(e,i,t))}(this._delegate),t.then(s=>new _h(this.firestore,new su(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new ou(this.firestore,this._delegate.withConverter(e?Qc.getInstance(this.firestore,e):null))}}function na(i,e,t){return i.message=i.message.replace(e,t),i}function Ag(i){for(const e of i)if("object"==typeof e&&!Qf(e))return e;return{}}function yh(i,e){var t,s;let u;return u=Qf(i[0])?i[0]:Qf(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:d=>{u.next&&u.next(e(d))},error:null===(t=u.error)||void 0===t?void 0:t.bind(u),complete:null===(s=u.complete)||void 0===s?void 0:s.bind(u)}}class _h{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ou(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return J_(this._delegate,e._delegate)}}class vh extends _h{data(e){const t=this._delegate.data(e);return function oa(i,e){i||$t()}(void 0!==t),t}}class No{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Jf(e)}where(e,t,s){try{return new No(this.firestore,Ml(this._delegate,function W_(i,e,t){const s=e,u=Zf("where",i);return dh._create(u,s,t)}(e,t,s)))}catch(u){throw na(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new No(this.firestore,Ml(this._delegate,function K_(i,e="asc"){const t=e,s=Zf("orderBy",i);return _g._create(s,t)}(e,t)))}catch(s){throw na(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new No(this.firestore,Ml(this._delegate,function Y_(i){return Kd("limit",i),Gf._create("limit",i,"F")}(e)))}catch(t){throw na(t,"limit()","Query.limit()")}}limitToLast(e){try{return new No(this.firestore,Ml(this._delegate,function Q_(i){return Kd("limitToLast",i),Gf._create("limitToLast",i,"L")}(e)))}catch(t){throw na(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new No(this.firestore,Ml(this._delegate,function uy(...i){return hh._create("startAt",i,!0)}(...e)))}catch(t){throw na(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new No(this.firestore,Ml(this._delegate,function ly(...i){return hh._create("startAfter",i,!1)}(...e)))}catch(t){throw na(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new No(this.firestore,Ml(this._delegate,function cy(...i){return fh._create("endBefore",i,!1)}(...e)))}catch(t){throw na(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new No(this.firestore,Ml(this._delegate,function dy(...i){return fh._create("endAt",i,!0)}(...e)))}catch(t){throw na(t,"endAt()","Query.endAt()")}}isEqual(e){return Rf(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function tv(i){i=Vr(i,go);const e=Vr(i.firestore,Fi),t=ys(e),s=new Ol(e);return function u0(i,e){const t=new _i;return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return(s=(0,oe.Z)(function*(u,d,m){try{const D=yield tf(u,d,!0),U=new Fm(d,D.Hi),G=U.Wu(D.documents),ne=U.applyChanges(G,!1);m.resolve(ne.snapshot)}catch(D){const U=Hd(D,`Failed to execute query '${d} against cache`);m.reject(U)}}),function(u,d,m){return s.apply(this,arguments)})(yield ec(i),e,t);var s})),t.promise}(t,i._query).then(u=>new Ju(e,s,i,u))}(this._delegate):"server"===e?.source?function Wf(i){i=Vr(i,go);const e=Vr(i.firestore,Fi),t=ys(e),s=new Ol(e);return Ym(t,i._query,{source:"server"}).then(u=>new Ju(e,s,i,u))}(this._delegate):function Wc(i){i=Vr(i,go);const e=Vr(i.firestore,Fi),t=ys(e),s=new Ol(e);return ay(i._query),Ym(t,i._query).then(u=>new Ju(e,s,i,u))}(this._delegate),t.then(s=>new xg(this.firestore,new Ju(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=Ag(e),s=yh(e,u=>new xg(this.firestore,new Ju(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return Dg(this._delegate,t,s)}withConverter(e){return new No(this.firestore,this._delegate.withConverter(e?Qc.getInstance(this.firestore,e):null))}}class bh{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new vh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class xg{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new No(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new vh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new bh(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new vh(this._firestore,s))})}isEqual(e){return J_(this._delegate,e._delegate)}}class Jc extends No{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ou(this.firestore,e):null}doc(e){try{return new ou(this.firestore,void 0===e?Jd(this._delegate):Jd(this._delegate,e))}catch(t){throw na(t,"doc()","CollectionReference.doc()")}}add(e){return function fy(i,e){const t=Vr(i.firestore,Fi),s=Jd(i),u=zf(i.converter,e);return rc(t,[rh(nc(i.firestore),"addDoc",s._key,u,null!==i.converter,{}).toMutation(s._key,Ti.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new ou(this.firestore,t))}isEqual(e){return Mf(this._delegate,e._delegate)}withConverter(e){return new Jc(this.firestore,this._delegate.withConverter(e?Qc.getInstance(this.firestore,e):null))}}function ic(i){return Vr(i,Ri)}class Mg{constructor(...e){this._delegate=new Qs(...e)}static documentId(){return new Mg(Yr.keyField().canonicalString())}isEqual(e){return(e=(0,Qe.m9)(e))instanceof Qs&&this._delegate._internalPath.isEqual(e._internalPath)}}class sc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function uv(){return new Vf("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new sc(e)}static delete(){const e=function av(){return new ih("deleteField")}();return e._methodName="FieldValue.delete",new sc(e)}static arrayUnion(...e){const t=function Yf(...i){return new Bf("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new sc(t)}static arrayRemove(...e){const t=function gy(...i){return new z_("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new sc(t)}static increment(e){const t=function my(i){return new iy("increment",i)}(e);return t._methodName="FieldValue.increment",new sc(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const by={Firestore:vy,GeoPoint:th,Timestamp:Wn,Blob:Yc,Transaction:hv,WriteBatch:fv,DocumentReference:ou,DocumentSnapshot:_h,Query:No,QueryDocumentSnapshot:vh,QuerySnapshot:xg,CollectionReference:Jc,FieldPath:Mg,FieldValue:sc,setLogLevel:function g0(i){!function Vi(i){Cr.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function gv(i){(function pv(i,e){i.INTERNAL.registerComponent(new Be.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),u=t.getProvider("firestore").getImmediate();return e(s,u)},"PUBLIC").setServiceProps(Object.assign({},by)))})(i,(e,t)=>new vy(e,t,new _y)),i.registerVersion("@firebase/firestore-compat","0.3.0")}(Xe.Z);var ka=P(1205),mv=P(6217);function Rg(i,e){return function _v(i,e=h.z){return new C.y(t=>{let s;return null!=e?e.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},t)}):s=i.onSnapshot({includeMetadataChanges:!0},t),()=>{s?.()}})}(i,e)}function Xf(i,e){return Rg(i,e).pipe((0,te.U)(t=>({payload:t,type:"query"})))}function ep(i,e){return Xf(i,e).pipe((0,Ie.O)(void 0),re(),(0,te.U)(([t,s])=>{const u=s.payload.docChanges(),d=u.map(m=>({type:m.type,payload:m}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((m,D)=>{const U=u.find(ne=>ne.doc.ref.isEqual(m.ref)),G=t?.payload.docs.find(ne=>ne.ref.isEqual(m.ref));U&&JSON.stringify(U.doc.metadata)===JSON.stringify(m.metadata)||!U&&G&&JSON.stringify(G.metadata)===JSON.stringify(m.metadata)||d.push({type:"modified",payload:{oldIndex:D,newIndex:D,type:"modified",doc:m}})}),d}))}function tp(i,e,t){return ep(i,t).pipe((0,me.R)((s,u)=>function bv(i,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(i=function wy(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return np(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return np(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return np(i,e.oldIndex,1)}return i}(i,s))}),i}(s,u.map(d=>d.payload),e),[]),function ze(i,e=nt.y){return i=i??Ke,(0,ye.e)((t,s)=>{let u,d=!0;t.subscribe((0,le.x)(s,m=>{const D=e(m);(d||!i(u,D))&&(d=!1,u=D,s.next(m))}))})}(),(0,te.U)(s=>s.map(u=>({type:u.type,payload:u}))))}function np(i,e,t,...s){const u=i.slice();return u.splice(e,t,...s),u}function Ey(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}P(9260);class Iy{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=ep(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,te.U)(s=>s.filter(u=>e.indexOf(u.type)>-1)))),t.pipe((0,Ie.O)(void 0),re(),(0,lt.h)(([s,u])=>u.length>0||!s),(0,te.U)(([s,u])=>u),_e.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,me.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=Ey(e);return tp(this.query,t,this.afs.schedulers.outsideAngular).pipe(_e.iC)}valueChanges(e={}){return Xf(this.query,this.afs.schedulers.outsideAngular).pipe((0,te.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),_e.iC)}get(e){return(0,pe.D)(this.query.get(e)).pipe(_e.iC)}add(e){return this.ref.add(e)}doc(e){return new Cy(this.ref.doc(e),this.afs)}}class Cy{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:u,query:d}=Ty(s,t);return new Iy(u,d,this.afs)}snapshotChanges(){return function vv(i,e){return Rg(i,e).pipe((0,Ie.O)(void 0),re(),(0,te.U)(([t,s])=>s.exists?t?.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(_e.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,te.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,pe.D)(this.ref.get(e)).pipe(_e.iC)}}class Og{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ep(this.query,this.afs.schedulers.outsideAngular).pipe((0,te.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,lt.h)(t=>t.length>0),_e.iC):ep(this.query,this.afs.schedulers.outsideAngular).pipe(_e.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,me.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=Ey(e);return tp(this.query,t,this.afs.schedulers.outsideAngular).pipe(_e.iC)}valueChanges(e={}){return Xf(this.query,this.afs.schedulers.outsideAngular).pipe((0,te.U)(s=>s.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),_e.iC)}get(e){return(0,pe.D)(this.query.get(e)).pipe(_e.iC)}}const wv=new f.OlP("angularfire2.enableFirestorePersistence"),Dy=new f.OlP("angularfire2.firestore.persistenceSettings"),Ev=new f.OlP("angularfire2.firestore.settings"),Iv=new f.OlP("angularfire2.firestore.use-emulator");function Ty(i,e=(t=>t)){return{query:e(i),ref:i}}let Cv=(()=>{class i{constructor(t,s,u,d,m,D,U,G,ne,Ee,We,bt,Tt,en,Cn,hi,Qi){this.schedulers=U;const jr=(0,Ne.on)(t,D,s),Oi=ne;Ee&&(0,ka.nw)(jr,D,We,Tt,en,Cn,bt,hi),[this.firestore,this.persistenceEnabled$]=(0,Ne.cc)(`${jr.name}.firestore`,"AngularFirestore",jr.name,()=>{const zr=D.runOutsideAngular(()=>jr.firestore());if(d&&zr.settings(d),Oi&&zr.useEmulator(...Oi),u&&!(0,xe.PM)(m)){const ri=()=>{try{return(0,pe.D)(zr.enablePersistence(G||void 0).then(()=>!0,()=>!1))}catch(mo){return typeof console<"u"&&console.warn(mo),(0,V.of)(!1)}};return[zr,D.runOutsideAngular(ri)]}return[zr,(0,V.of)(!1)]},[d,Oi,u])}collection(t,s){let u;u="string"==typeof t?this.firestore.collection(t):t;const{ref:d,query:m}=Ty(u,s),D=this.schedulers.ngZone.run(()=>d);return new Iy(D,m,this)}collectionGroup(t,s){const u=s||(m=>m),d=this.firestore.collectionGroup(t);return new Og(u(d),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const u=this.schedulers.ngZone.run(()=>s);return new Cy(u,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(Ne.Dh),f.LFG(Ne.xv,8),f.LFG(wv,8),f.LFG(Ev,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(_e.HU),f.LFG(Dy,8),f.LFG(Iv,8),f.LFG(ka.zQ,8),f.LFG(ka.Qv,8),f.LFG(ka.L6,8),f.LFG(ka._Q,8),f.LFG(ka.rT,8),f.LFG(ka.lh,8),f.LFG(ka.f7,8),f.LFG(mv.nm,8))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})()},377:(kt,Ze,P)=>{P.d(Ze,{Q1:()=>wn});var f=P(9751),h=P(9646),C=P(8996),pe=P(4986),V=P(4482),_e=P(5403),ye=P(4004),le=P(3900),re=P(2122),te=P(4650),me=P(2011),nt=P(3942),ze=P(5861),Ke=P(9681),lt=P(2090),Ne=P(4859);const xe="firebasestorage.googleapis.com",Ve="storageBucket";class Be extends lt.ZR{constructor(L,ee,ue=0){super(at(L),`Firebase Storage: ${ee} (${at(L)})`),this.status_=ue,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Be.prototype)}get status(){return this.status_}set status(L){this.status_=L}_codeEquals(L){return at(L)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(L){this.customData.serverResponse=L,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function at(H){return"storage/"+H}function Qe(){return new Be("unknown","An unknown error occurred, please check the error payload for server response.")}function De(){return new Be("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function ft(){return new Be("canceled","User canceled the upload/download.")}function Yt(){return new Be("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Zt(H){return new Be("invalid-argument",H)}function Wt(){return new Be("app-deleted","The Firebase app was deleted.")}function bn(H){return new Be("invalid-root-operation","The operation '"+H+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ht(H,L){return new Be("invalid-format","String does not match format '"+H+"': "+L)}function On(H){throw new Be("internal-error","Internal error: "+H)}class Nn{constructor(L,ee){this.bucket=L,this.path_=ee}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const L=encodeURIComponent;return"/b/"+L(this.bucket)+"/o/"+L(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(L,ee){let ue;try{ue=Nn.makeFromUrl(L,ee)}catch{return new Nn(L,"")}if(""===ue.path)return ue;throw function Ct(H){return new Be("invalid-default-bucket","Invalid default bucket '"+H+"'.")}(L)}static makeFromUrl(L,ee){let ue=null;const Ae="([A-Za-z0-9.\\-_]+)",A=new RegExp("^gs://"+Ae+"(/(.*))?$","i");function Ce(si){si.path_=decodeURIComponent(si.path)}const En=ee.replace(/[.]/g,"\\."),Ur=[{regex:A,indices:{bucket:1,path:3},postModify:function I(si){"/"===si.path.charAt(si.path.length-1)&&(si.path_=si.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${En}/v[A-Za-z0-9_]+/b/${Ae}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Ce},{regex:new RegExp(`^https?://${ee===xe?"(?:storage.googleapis.com|storage.cloud.google.com)":ee}/${Ae}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Ce}];for(let si=0;si<Ur.length;si++){const Pi=Ur[si],Kr=Pi.regex.exec(L);if(Kr){let Ds=Kr[Pi.indices.path];Ds||(Ds=""),ue=new Nn(Kr[Pi.indices.bucket],Ds),Pi.postModify(ue);break}}if(null==ue)throw function mt(H){return new Be("invalid-url","Invalid URL '"+H+"'.")}(L);return ue}}class wr{constructor(L){this.promise_=Promise.reject(L)}getPromise(){return this.promise_}cancel(L=!1){}}function er(H){return"string"==typeof H||H instanceof String}function An(H){return Fe()&&H instanceof Blob}function Fe(){return typeof Blob<"u"&&!(0,lt.UG)()}function ie(H,L,ee,ue){if(ue<L)throw Zt(`Invalid value for '${H}'. Expected ${L} or greater.`);if(ue>ee)throw Zt(`Invalid value for '${H}'. Expected ${ee} or less.`)}function K(H,L,ee){let ue=L;return null==ee&&(ue=`https://${L}`),`${ee}://${ue}/v0${H}`}function ut(H){const L=encodeURIComponent;let ee="?";for(const ue in H)H.hasOwnProperty(ue)&&(ee=ee+(L(ue)+"=")+L(H[ue])+"&");return ee=ee.slice(0,-1),ee}var At=(()=>{return(H=At||(At={}))[H.NO_ERROR=0]="NO_ERROR",H[H.NETWORK_ERROR=1]="NETWORK_ERROR",H[H.ABORT=2]="ABORT",At;var H})();function Ft(H,L){const ee=H>=500&&H<600,Ae=-1!==[408,429].indexOf(H),I=-1!==L.indexOf(H);return ee||Ae||I}class Fn{constructor(L,ee,ue,Ae,I,S,A,Z,Ce,gt,En,Sn=!0){this.url_=L,this.method_=ee,this.headers_=ue,this.body_=Ae,this.successCodes_=I,this.additionalRetryCodes_=S,this.callback_=A,this.errorCallback_=Z,this.timeout_=Ce,this.progressCallback_=gt,this.connectionFactory_=En,this.retry=Sn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((lr,hr)=>{this.resolve_=lr,this.reject_=hr,this.start_()})}start_(){const ee=(ue,Ae)=>{const I=this.resolve_,S=this.reject_,A=Ae.connection;if(Ae.wasSuccessCode)try{const Z=this.callback_(A,A.getResponse());!function Pr(H){return void 0!==H}(Z)?I():I(Z)}catch(Z){S(Z)}else if(null!==A){const Z=Qe();Z.serverResponse=A.getErrorText(),S(this.errorCallback_?this.errorCallback_(A,Z):Z)}else S(Ae.canceled?this.appDelete_?Wt():ft():De())};this.canceled_?ee(0,new rt(!1,null,!0)):this.backoffId_=function Pn(H,L,ee){let ue=1,Ae=null,I=null,S=!1,A=0;function Z(){return 2===A}let Ce=!1;function gt(...Rr){Ce||(Ce=!0,L.apply(null,Rr))}function En(Rr){Ae=setTimeout(()=>{Ae=null,H(lr,Z())},Rr)}function Sn(){I&&clearTimeout(I)}function lr(Rr,...Mi){if(Ce)return void Sn();if(Rr)return Sn(),void gt.call(null,Rr,...Mi);if(Z()||S)return Sn(),void gt.call(null,Rr,...Mi);let Ur;ue<64&&(ue*=2),1===A?(A=2,Ur=0):Ur=1e3*(ue+Math.random()),En(Ur)}let hr=!1;function di(Rr){hr||(hr=!0,Sn(),!Ce&&(null!==Ae?(Rr||(A=2),clearTimeout(Ae),En(0)):Rr||(A=1)))}return En(0),I=setTimeout(()=>{S=!0,di(!0)},ee),di}((ue,Ae)=>{if(Ae)return void ue(!1,new rt(!1,null,!0));const I=this.connectionFactory_();this.pendingConnection_=I;const S=A=>{null!==this.progressCallback_&&this.progressCallback_(A.loaded,A.lengthComputable?A.total:-1)};null!==this.progressCallback_&&I.addUploadProgressListener(S),I.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&I.removeUploadProgressListener(S),this.pendingConnection_=null;const A=I.getErrorCode()===At.NO_ERROR,Z=I.getStatus();if((!A||Ft(Z,this.additionalRetryCodes_))&&this.retry){const gt=I.getErrorCode()===At.ABORT;return void ue(!1,new rt(!1,null,gt))}const Ce=-1!==this.successCodes_.indexOf(Z);ue(!0,new rt(Ce,I))})},ee,this.timeout_)}getPromise(){return this.promise_}cancel(L){this.canceled_=!0,this.appDelete_=L||!1,null!==this.backoffId_&&function _r(H){H(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class rt{constructor(L,ee,ue){this.wasSuccessCode=L,this.connection=ee,this.canceled=!!ue}}function fi(...H){const L=function or(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==L){const ee=new L;for(let ue=0;ue<H.length;ue++)ee.append(H[ue]);return ee.getBlob()}if(Fe())return new Blob(H);throw new Be("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Dn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qr{constructor(L,ee){this.data=L,this.contentType=ee||null}}function Mn(H,L){switch(H){case Dn.RAW:return new qr(nn(L));case Dn.BASE64:case Dn.BASE64URL:return new qr(Mt(H,L));case Dn.DATA_URL:return new qr(function Gt(H){const L=new dt(H);return L.base64?Mt(Dn.BASE64,L.rest):function ai(H){let L;try{L=decodeURIComponent(H)}catch{throw Ht(Dn.DATA_URL,"Malformed data URL.")}return nn(L)}(L.rest)}(L),function un(H){return new dt(H).contentType}(L))}throw Qe()}function nn(H){const L=[];for(let ee=0;ee<H.length;ee++){let ue=H.charCodeAt(ee);ue<=127?L.push(ue):ue<=2047?L.push(192|ue>>6,128|63&ue):55296==(64512&ue)?ee<H.length-1&&56320==(64512&H.charCodeAt(ee+1))?(ue=65536|(1023&ue)<<10|1023&H.charCodeAt(++ee),L.push(240|ue>>18,128|ue>>12&63,128|ue>>6&63,128|63&ue)):L.push(239,191,189):56320==(64512&ue)?L.push(239,191,189):L.push(224|ue>>12,128|ue>>6&63,128|63&ue)}return new Uint8Array(L)}function Mt(H,L){switch(H){case Dn.BASE64:{const Ae=-1!==L.indexOf("-"),I=-1!==L.indexOf("_");if(Ae||I)throw Ht(H,"Invalid character '"+(Ae?"-":"_")+"' found: is it base64url encoded?");break}case Dn.BASE64URL:{const Ae=-1!==L.indexOf("+"),I=-1!==L.indexOf("/");if(Ae||I)throw Ht(H,"Invalid character '"+(Ae?"+":"/")+"' found: is it base64 encoded?");L=L.replace(/-/g,"+").replace(/_/g,"/");break}}let ee;try{ee=function Bi(H){if(typeof atob>"u")throw function Et(H){return new Be("unsupported-environment",`${H} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(H)}(L)}catch(Ae){throw Ae.message.includes("polyfill")?Ae:Ht(H,"Invalid character found")}const ue=new Uint8Array(ee.length);for(let Ae=0;Ae<ee.length;Ae++)ue[Ae]=ee.charCodeAt(Ae);return ue}class dt{constructor(L){this.base64=!1,this.contentType=null;const ee=L.match(/^data:([^,]+)?,/);if(null===ee)throw Ht(Dn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const ue=ee[1]||null;null!=ue&&(this.base64=function fn(H,L){return H.length>=L.length&&H.substring(H.length-L.length)===L}(ue,";base64"),this.contentType=this.base64?ue.substring(0,ue.length-7):ue),this.rest=L.substring(L.indexOf(",")+1)}}class rn{constructor(L,ee){let ue=0,Ae="";An(L)?(this.data_=L,ue=L.size,Ae=L.type):L instanceof ArrayBuffer?(ee?this.data_=new Uint8Array(L):(this.data_=new Uint8Array(L.byteLength),this.data_.set(new Uint8Array(L))),ue=this.data_.length):L instanceof Uint8Array&&(ee?this.data_=L:(this.data_=new Uint8Array(L.length),this.data_.set(L)),ue=L.length),this.size_=ue,this.type_=Ae}size(){return this.size_}type(){return this.type_}slice(L,ee){if(An(this.data_)){const Ae=function $r(H,L,ee){return H.webkitSlice?H.webkitSlice(L,ee):H.mozSlice?H.mozSlice(L,ee):H.slice?H.slice(L,ee):null}(this.data_,L,ee);return null===Ae?null:new rn(Ae)}{const ue=new Uint8Array(this.data_.buffer,L,ee-L);return new rn(ue,!0)}}static getBlob(...L){if(Fe()){const ee=L.map(ue=>ue instanceof rn?ue.data_:ue);return new rn(fi.apply(null,ee))}{const ee=L.map(S=>er(S)?Mn(Dn.RAW,S).data:S.data_);let ue=0;ee.forEach(S=>{ue+=S.byteLength});const Ae=new Uint8Array(ue);let I=0;return ee.forEach(S=>{for(let A=0;A<S.length;A++)Ae[I++]=S[A]}),new rn(Ae,!0)}}uploadData(){return this.data_}}function be(H){let L;try{L=JSON.parse(H)}catch{return null}return function Gn(H){return"object"==typeof H&&!Array.isArray(H)}(L)?L:null}function st(H){const L=H.lastIndexOf("/",H.length-2);return-1===L?H:H.slice(L+1)}function Ge(H,L){return L}class Rt{constructor(L,ee,ue,Ae){this.server=L,this.local=ee||L,this.writable=!!ue,this.xform=Ae||Ge}}let yn=null;function ar(){if(yn)return yn;const H=[];H.push(new Rt("bucket")),H.push(new Rt("generation")),H.push(new Rt("metageneration")),H.push(new Rt("name","fullPath",!0));const ee=new Rt("name");ee.xform=function L(I,S){return function Ln(H){return!er(H)||H.length<2?H:st(H)}(S)},H.push(ee);const Ae=new Rt("size");return Ae.xform=function ue(I,S){return void 0!==S?Number(S):S},H.push(Ae),H.push(new Rt("timeCreated")),H.push(new Rt("updated")),H.push(new Rt("md5Hash",null,!0)),H.push(new Rt("cacheControl",null,!0)),H.push(new Rt("contentDisposition",null,!0)),H.push(new Rt("contentEncoding",null,!0)),H.push(new Rt("contentLanguage",null,!0)),H.push(new Rt("contentType",null,!0)),H.push(new Rt("metadata","customMetadata",!0)),yn=H,yn}function ve(H,L,ee){const ue=be(L);return null===ue?null:function je(H,L,ee){const ue={type:"file"},Ae=ee.length;for(let I=0;I<Ae;I++){const S=ee[I];ue[S.local]=S.xform(ue,L[S.server])}return function ln(H,L){Object.defineProperty(H,"ref",{get:function ee(){const I=new Nn(H.bucket,H.fullPath);return L._makeStorageReference(I)}})}(ue,H),ue}(H,ue,ee)}function Je(H,L){const ee={},ue=L.length;for(let Ae=0;Ae<ue;Ae++){const I=L[Ae];I.writable&&(ee[I.server]=H[I.local])}return JSON.stringify(ee)}const ht="prefixes";class Yn{constructor(L,ee,ue,Ae){this.url=L,this.method=ee,this.handler=ue,this.timeout=Ae,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function xr(H){if(!H)throw Qe()}function Li(H,L){return function ee(ue,Ae){const I=ve(H,Ae,L);return xr(null!==I),I}}function ji(H){return function L(ee,ue){let Ae;return Ae=401===ee.getStatus()?ee.getErrorText().includes("Firebase App Check token is invalid")?function se(){return new Be("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Y(){return new Be("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===ee.getStatus()?function Oe(H){return new Be("quota-exceeded","Quota for bucket '"+H+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(H.bucket):403===ee.getStatus()?function ae(H){return new Be("unauthorized","User does not have permission to access '"+H+"'.")}(H.path):ue,Ae.status=ee.getStatus(),Ae.serverResponse=ue.serverResponse,Ae}}function Si(H){const L=ji(H);return function ee(ue,Ae){let I=L(ue,Ae);return 404===ue.getStatus()&&(I=function he(H){return new Be("object-not-found","Object '"+H+"' does not exist.")}(H.path)),I.serverResponse=Ae.serverResponse,I}}function os(H,L,ee){const Ae=K(L.fullServerUrl(),H.host,H._protocol),S=H.maxOperationRetryTime,A=new Yn(Ae,"GET",Li(H,ee),S);return A.errorHandler=Si(L),A}function Qn(H,L,ee,ue,Ae){const I={};I.prefix=L.isRoot?"":L.path+"/",ee&&ee.length>0&&(I.delimiter=ee),ue&&(I.pageToken=ue),Ae&&(I.maxResults=Ae);const A=K(L.bucketOnlyServerUrl(),H.host,H._protocol),Ce=H.maxOperationRetryTime,gt=new Yn(A,"GET",function nr(H,L){return function ee(ue,Ae){const I=function kn(H,L,ee){const ue=be(ee);return null===ue?null:function sn(H,L,ee){const ue={prefixes:[],items:[],nextPageToken:ee.nextPageToken};if(ee[ht])for(const Ae of ee[ht]){const I=Ae.replace(/\/$/,""),S=H._makeStorageReference(new Nn(L,I));ue.prefixes.push(S)}if(ee.items)for(const Ae of ee.items){const I=H._makeStorageReference(new Nn(L,Ae.name));ue.items.push(I)}return ue}(H,L,ue)}(H,L,Ae);return xr(null!==I),I}}(H,L.bucket),Ce);return gt.urlParams=I,gt.errorHandler=ji(L),gt}function jt(H,L,ee){const ue=Object.assign({},ee);return ue.fullPath=H.path,ue.size=L.size(),ue.contentType||(ue.contentType=function Ai(H,L){return H&&H.contentType||L&&L.type()||"application/octet-stream"}(null,L)),ue}class mr{constructor(L,ee,ue,Ae){this.current=L,this.total=ee,this.finalized=!!ue,this.metadata=Ae||null}}function pi(H,L){let ee=null;try{ee=H.getResponseHeader("X-Goog-Upload-Status")}catch{xr(!1)}return xr(!!ee&&-1!==(L||["active"]).indexOf(ee)),ee}const as={STATE_CHANGED:"state_changed"},Fr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Tn(H){switch(H){case"running":case"pausing":case"canceling":return Fr.RUNNING;case"paused":return Fr.PAUSED;case"success":return Fr.SUCCESS;case"canceled":return Fr.CANCELED;default:return Fr.ERROR}}class wi{constructor(L,ee,ue){if(function Jt(H){return"function"==typeof H}(L)||null!=ee||null!=ue)this.next=L,this.error=ee??void 0,this.complete=ue??void 0;else{const I=L;this.next=I.next,this.error=I.error,this.complete=I.complete}}}function Ei(H){return(...L)=>{Promise.resolve().then(()=>H(...L))}}class Xr{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=At.NO_ERROR,this.sendPromise_=new Promise(L=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=At.ABORT,L()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=At.NETWORK_ERROR,L()}),this.xhr_.addEventListener("load",()=>{L()})})}send(L,ee,ue,Ae){if(this.sent_)throw On("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ee,L,!0),void 0!==Ae)for(const I in Ae)Ae.hasOwnProperty(I)&&this.xhr_.setRequestHeader(I,Ae[I].toString());return void 0!==ue?this.xhr_.send(ue):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw On("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw On("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw On("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw On("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(L){return this.xhr_.getResponseHeader(L)}addUploadProgressListener(L){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",L)}removeUploadProgressListener(L){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",L)}}class yr extends Xr{initXhr(){this.xhr_.responseType="text"}}function Br(){return new yr}class Te{constructor(L,ee,ue=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=L,this._blob=ee,this._metadata=ue,this._mappings=ar(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Ae=>{if(this._request=void 0,this._chunkMultiplier=1,Ae._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const I=this.isExponentialBackoffExpired();if(Ft(Ae.status,[])){if(!I)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Ae=De()}this._error=Ae,this._transition("error")}},this._metadataErrorHandler=Ae=>{this._request=void 0,Ae._codeEquals("canceled")?this.completeTransitions_():(this._error=Ae,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Ae,I)=>{this._resolve=Ae,this._reject=I,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const L=this._transferred;return ee=>this._updateProgress(L+ee)}_shouldDoResumable(L){return L.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(L){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([ee,ue])=>{switch(this._state){case"running":L(ee,ue);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((L,ee)=>{const ue=function Jr(H,L,ee,ue,Ae){const I=L.bucketOnlyServerUrl(),S=jt(L,ue,Ae),A={name:S.fullPath},Z=K(I,H.host,H._protocol),gt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${ue.size()}`,"X-Goog-Upload-Header-Content-Type":S.contentType,"Content-Type":"application/json; charset=utf-8"},En=Je(S,ee),hr=new Yn(Z,"POST",function lr(di){let Rr;pi(di);try{Rr=di.getResponseHeader("X-Goog-Upload-URL")}catch{xr(!1)}return xr(er(Rr)),Rr},H.maxUploadRetryTime);return hr.urlParams=A,hr.headers=gt,hr.body=En,hr.errorHandler=ji(L),hr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ae=this._ref.storage._makeRequest(ue,Br,L,ee);this._request=Ae,Ae.getPromise().then(I=>{this._request=void 0,this._uploadUrl=I,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const L=this._uploadUrl;this._resolveToken((ee,ue)=>{const Ae=function kr(H,L,ee,ue){const Z=new Yn(ee,"POST",function I(Ce){const gt=pi(Ce,["active","final"]);let En=null;try{En=Ce.getResponseHeader("X-Goog-Upload-Size-Received")}catch{xr(!1)}En||xr(!1);const Sn=Number(En);return xr(!isNaN(Sn)),new mr(Sn,ue.size(),"final"===gt)},H.maxUploadRetryTime);return Z.headers={"X-Goog-Upload-Command":"query"},Z.errorHandler=ji(L),Z}(this._ref.storage,this._ref._location,L,this._blob),I=this._ref.storage._makeRequest(Ae,Br,ee,ue);this._request=I,I.getPromise().then(S=>{this._request=void 0,this._updateProgress(S.current),this._needToFetchStatus=!1,S.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const L=262144*this._chunkMultiplier,ee=new mr(this._transferred,this._blob.size()),ue=this._uploadUrl;this._resolveToken((Ae,I)=>{let S;try{S=function ur(H,L,ee,ue,Ae,I,S,A){const Z=new mr(0,0);if(S?(Z.current=S.current,Z.total=S.total):(Z.current=0,Z.total=ue.size()),ue.size()!==Z.total)throw function Nt(){return new Be("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const Ce=Z.total-Z.current;let gt=Ce;Ae>0&&(gt=Math.min(gt,Ae));const En=Z.current;let lr="";lr=0===gt?"finalize":Ce===gt?"upload, finalize":"upload";const hr={"X-Goog-Upload-Command":lr,"X-Goog-Upload-Offset":`${Z.current}`},di=ue.slice(En,En+gt);if(null===di)throw Yt();const Ur=new Yn(ee,"POST",function Rr(si,Pi){const Kr=pi(si,["active","final"]),Bo=Z.current+gt,Ds=ue.size();let Ts;return Ts="final"===Kr?Li(L,I)(si,Pi):null,new mr(Bo,Ds,"final"===Kr,Ts)},L.maxUploadRetryTime);return Ur.headers=hr,Ur.body=di.uploadData(),Ur.progressCallback=A||null,Ur.errorHandler=ji(H),Ur}(this._ref._location,this._ref.storage,ue,this._blob,L,this._mappings,ee,this._makeProgressCallback())}catch(Z){return this._error=Z,void this._transition("error")}const A=this._ref.storage._makeRequest(S,Br,Ae,I,!1);this._request=A,A.getPromise().then(Z=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Z.current),Z.finalized?(this._metadata=Z.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((L,ee)=>{const ue=os(this._ref.storage,this._ref._location,this._mappings),Ae=this._ref.storage._makeRequest(ue,Br,L,ee);this._request=Ae,Ae.getPromise().then(I=>{this._request=void 0,this._metadata=I,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((L,ee)=>{const ue=function pn(H,L,ee,ue,Ae){const I=L.bucketOnlyServerUrl(),S={"X-Goog-Upload-Protocol":"multipart"},Z=function A(){let Ur="";for(let si=0;si<2;si++)Ur+=Math.random().toString().slice(2);return Ur}();S["Content-Type"]="multipart/related; boundary="+Z;const Ce=jt(L,ue,Ae),gt=Je(Ce,ee),lr=rn.getBlob("--"+Z+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+gt+"\r\n--"+Z+"\r\nContent-Type: "+Ce.contentType+"\r\n\r\n",ue,"\r\n--"+Z+"--");if(null===lr)throw Yt();const hr={name:Ce.fullPath},di=K(I,H.host,H._protocol),Mi=H.maxUploadRetryTime,Jn=new Yn(di,"POST",Li(H,ee),Mi);return Jn.urlParams=hr,Jn.headers=S,Jn.body=lr.uploadData(),Jn.errorHandler=ji(L),Jn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ae=this._ref.storage._makeRequest(ue,Br,L,ee);this._request=Ae,Ae.getPromise().then(I=>{this._request=void 0,this._metadata=I,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(L){const ee=this._transferred;this._transferred=L,this._transferred!==ee&&this._notifyObservers()}_transition(L){if(this._state!==L)switch(L){case"canceling":case"pausing":this._state=L,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const ee="paused"===this._state;this._state=L,ee&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=L,this._notifyObservers();break;case"canceled":this._error=ft(),this._state=L,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const L=Tn(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:L,metadata:this._metadata,task:this,ref:this._ref}}on(L,ee,ue,Ae){const I=new wi(ee||void 0,ue||void 0,Ae||void 0);return this._addObserver(I),()=>{this._removeObserver(I)}}then(L,ee){return this._promise.then(L,ee)}catch(L){return this.then(null,L)}_addObserver(L){this._observers.push(L),this._notifyObserver(L)}_removeObserver(L){const ee=this._observers.indexOf(L);-1!==ee&&this._observers.splice(ee,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(ee=>{this._notifyObserver(ee)})}_finishPromise(){if(void 0!==this._resolve){let L=!0;switch(Tn(this._state)){case Fr.SUCCESS:Ei(this._resolve.bind(null,this.snapshot))();break;case Fr.CANCELED:case Fr.ERROR:Ei(this._reject.bind(null,this._error))();break;default:L=!1}L&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(L){switch(Tn(this._state)){case Fr.RUNNING:case Fr.PAUSED:L.next&&Ei(L.next.bind(L,this.snapshot))();break;case Fr.SUCCESS:L.complete&&Ei(L.complete.bind(L))();break;default:L.error&&Ei(L.error.bind(L,this._error))()}}resume(){const L="paused"===this._state||"pausing"===this._state;return L&&this._transition("running"),L}pause(){const L="running"===this._state;return L&&this._transition("pausing"),L}cancel(){const L="running"===this._state||"pausing"===this._state;return L&&this._transition("canceling"),L}}class Me{constructor(L,ee){this._service=L,this._location=ee instanceof Nn?ee:Nn.makeFromUrl(ee,L.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(L,ee){return new Me(L,ee)}get root(){const L=new Nn(this._location.bucket,"");return this._newRef(this._service,L)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return st(this._location.path)}get storage(){return this._service}get parent(){const L=function fe(H){if(0===H.length)return null;const L=H.lastIndexOf("/");return-1===L?"":H.slice(0,L)}(this._location.path);if(null===L)return null;const ee=new Nn(this._location.bucket,L);return new Me(this._service,ee)}_throwIfRoot(L){if(""===this._location.path)throw bn(L)}}function ir(H,L,ee){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,ze.Z)(function*(H,L,ee){const Ae=yield li(H,{pageToken:ee});L.prefixes.push(...Ae.prefixes),L.items.push(...Ae.items),null!=Ae.nextPageToken&&(yield ir(H,L,Ae.nextPageToken))})).apply(this,arguments)}function li(H,L){null!=L&&"number"==typeof L.maxResults&&ie("options.maxResults",1,1e3,L.maxResults);const ee=L||{},ue=Qn(H.storage,H._location,"/",ee.pageToken,ee.maxResults);return H.storage.makeRequestWithTokens(ue,Br)}function Hi(H){H._throwIfRoot("getDownloadURL");const L=function Dr(H,L,ee){const Ae=K(L.fullServerUrl(),H.host,H._protocol),S=H.maxOperationRetryTime,A=new Yn(Ae,"GET",function Rs(H,L){return function ee(ue,Ae){const I=ve(H,Ae,L);return xr(null!==I),function de(H,L,ee,ue){const Ae=be(L);if(null===Ae||!er(Ae.downloadTokens))return null;const I=Ae.downloadTokens;if(0===I.length)return null;const S=encodeURIComponent;return I.split(",").map(Ce=>{const En=H.fullPath;return K("/b/"+S(H.bucket)+"/o/"+S(En),ee,ue)+ut({alt:"media",token:Ce})})[0]}(I,Ae,H.host,H._protocol)}}(H,ee),S);return A.errorHandler=Si(L),A}(H.storage,H._location,ar());return H.storage.makeRequestWithTokens(L,Br).then(ee=>{if(null===ee)throw function Lt(){return new Be("no-download-url","The given file does not have any download URLs.")}();return ee})}function ws(H,L){const ee=function Se(H,L){const ee=L.split("/").filter(ue=>ue.length>0).join("/");return 0===H.length?ee:H+"/"+ee}(H._location.path,L),ue=new Nn(H._location.bucket,ee);return new Me(H.storage,ue)}function gi(H,L){if(H instanceof Ns){const ee=H;if(null==ee._bucket)throw function Ot(){return new Be("no-default-bucket","No default bucket found. Did you set the '"+Ve+"' property when initializing the app?")}();const ue=new Me(ee,ee._bucket);return null!=L?gi(ue,L):ue}return void 0!==L?ws(H,L):H}function us(H,L){if(L&&function Xs(H){return/^[A-Za-z]+:\/\//.test(H)}(L)){if(H instanceof Ns)return function js(H,L){return new Me(H,L)}(H,L);throw Zt("To use ref(service, url), the first argument must be a Storage instance.")}return gi(H,L)}function $s(H,L){const ee=L?.[Ve];return null==ee?null:Nn.makeFromBucketSpec(ee,H)}class Ns{constructor(L,ee,ue,Ae,I){this.app=L,this._authProvider=ee,this._appCheckProvider=ue,this._url=Ae,this._firebaseVersion=I,this._bucket=null,this._host=xe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Ae?Nn.makeFromBucketSpec(Ae,this._host):$s(this._host,this.app.options)}get host(){return this._host}set host(L){this._host=L,this._bucket=null!=this._url?Nn.makeFromBucketSpec(this._url,L):$s(L,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(L){ie("time",0,Number.POSITIVE_INFINITY,L),this._maxUploadRetryTime=L}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(L){ie("time",0,Number.POSITIVE_INFINITY,L),this._maxOperationRetryTime=L}_getAuthToken(){var L=this;return(0,ze.Z)(function*(){if(L._overrideAuthToken)return L._overrideAuthToken;const ee=L._authProvider.getImmediate({optional:!0});if(ee){const ue=yield ee.getToken();if(null!==ue)return ue.accessToken}return null})()}_getAppCheckToken(){var L=this;return(0,ze.Z)(function*(){const ee=L._appCheckProvider.getImmediate({optional:!0});return ee?(yield ee.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(L=>L.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(L){return new Me(this,L)}_makeRequest(L,ee,ue,Ae,I=!0){if(this._deleted)return new wr(Wt());{const S=function zn(H,L,ee,ue,Ae,I,S=!0){const A=ut(H.urlParams),Z=H.url+A,Ce=Object.assign({},H.headers);return function Ut(H,L){L&&(H["X-Firebase-GMPID"]=L)}(Ce,L),function qe(H,L){null!==L&&L.length>0&&(H.Authorization="Firebase "+L)}(Ce,ee),function Le(H,L){H["X-Firebase-Storage-Version"]="webjs/"+(L??"AppManager")}(Ce,I),function Er(H,L){null!==L&&(H["X-Firebase-AppCheck"]=L)}(Ce,ue),new Fn(Z,H.method,Ce,H.body,H.successCodes,H.additionalRetryCodes,H.handler,H.errorHandler,H.timeout,H.progressCallback,Ae,S)}(L,this._appId,ue,Ae,ee,this._firebaseVersion,I);return this._requests.add(S),S.getPromise().then(()=>this._requests.delete(S),()=>this._requests.delete(S)),S}}makeRequestWithTokens(L,ee){var ue=this;return(0,ze.Z)(function*(){const[Ae,I]=yield Promise.all([ue._getAuthToken(),ue._getAppCheckToken()]);return ue._makeRequest(L,ee,Ae,I).getPromise()})()}}const Es="@firebase/storage";function Ji(H,L){return us(H=(0,lt.m9)(H),L)}function xi(H,{instanceIdentifier:L}){const ee=H.getProvider("app").getImmediate(),ue=H.getProvider("auth-internal"),Ae=H.getProvider("app-check-internal");return new Ns(ee,ue,Ae,L,Ke.SDK_VERSION)}!function zs(){(0,Ke._registerComponent)(new Ne.wA("storage",xi,"PUBLIC").setMultipleInstances(!0)),(0,Ke.registerVersion)(Es,"0.10.0",""),(0,Ke.registerVersion)(Es,"0.10.0","esm2017")}();class qs{constructor(L,ee,ue){this._delegate=L,this.task=ee,this.ref=ue}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class to{constructor(L,ee){this._delegate=L,this._ref=ee,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new qs(this._delegate.snapshot,this,this._ref)}then(L,ee){return this._delegate.then(ue=>{if(L)return L(new qs(ue,this,this._ref))},ee)}on(L,ee,ue,Ae){let I;return ee&&(I="function"==typeof ee?S=>ee(new qs(S,this,this._ref)):{next:ee.next?S=>ee.next(new qs(S,this,this._ref)):void 0,complete:ee.complete||void 0,error:ee.error||void 0}),this._delegate.on(L,I,ue||void 0,Ae||void 0)}}class yo{constructor(L,ee){this._delegate=L,this._service=ee}get prefixes(){return this._delegate.prefixes.map(L=>new Wr(L,this._service))}get items(){return this._delegate.items.map(L=>new Wr(L,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Wr{constructor(L,ee){this._delegate=L,this.storage=ee}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(L){const ee=function zi(H,L){return ws(H,L)}(this._delegate,L);return new Wr(ee,this.storage)}get root(){return new Wr(this._delegate.root,this.storage)}get parent(){const L=this._delegate.parent;return null==L?null:new Wr(L,this.storage)}put(L,ee){return this._throwIfRoot("put"),new to(function Po(H,L,ee){return function on(H,L,ee){return H._throwIfRoot("uploadBytesResumable"),new Te(H,new rn(L),ee)}(H=(0,lt.m9)(H),L,ee)}(this._delegate,L,ee),this)}putString(L,ee=Dn.RAW,ue){this._throwIfRoot("putString");const Ae=Mn(ee,L),I=Object.assign({},ue);return null==I.contentType&&null!=Ae.contentType&&(I.contentType=Ae.contentType),new to(new Te(this._delegate,new rn(Ae.data,!0),I),this)}listAll(){return function ls(H){return function Bn(H){const L={prefixes:[],items:[]};return ir(H,L).then(()=>L)}(H=(0,lt.m9)(H))}(this._delegate).then(L=>new yo(L,this.storage))}list(L){return function eo(H,L){return li(H=(0,lt.m9)(H),L)}(this._delegate,L||void 0).then(ee=>new yo(ee,this.storage))}getMetadata(){return function So(H){return function ei(H){H._throwIfRoot("getMetadata");const L=os(H.storage,H._location,ar());return H.storage.makeRequestWithTokens(L,Br)}(H=(0,lt.m9)(H))}(this._delegate)}updateMetadata(L){return function mi(H,L){return function ci(H,L){H._throwIfRoot("updateMetadata");const ee=function Tr(H,L,ee,ue){const I=K(L.fullServerUrl(),H.host,H._protocol),A=Je(ee,ue),Ce=H.maxOperationRetryTime,gt=new Yn(I,"PATCH",Li(H,ue),Ce);return gt.headers={"Content-Type":"application/json; charset=utf-8"},gt.body=A,gt.errorHandler=Si(L),gt}(H.storage,H._location,L,ar());return H.storage.makeRequestWithTokens(ee,Br)}(H=(0,lt.m9)(H),L)}(this._delegate,L)}getDownloadURL(){return function cs(H){return Hi(H=(0,lt.m9)(H))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Gs(H){return function ii(H){H._throwIfRoot("deleteObject");const L=function Qr(H,L){const ue=K(L.fullServerUrl(),H.host,H._protocol),A=new Yn(ue,"DELETE",function S(Z,Ce){},H.maxOperationRetryTime);return A.successCodes=[200,204],A.errorHandler=Si(L),A}(H.storage,H._location);return H.storage.makeRequestWithTokens(L,Br)}(H=(0,lt.m9)(H))}(this._delegate)}_throwIfRoot(L){if(""===this._delegate._location.path)throw bn(L)}}class Ir{constructor(L,ee){this.app=L,this._delegate=ee}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(L){if(Ii(L))throw Zt("ref() expected a child path but got a URL, use refFromURL instead.");return new Wr(Ji(this._delegate,L),this)}refFromURL(L){if(!Ii(L))throw Zt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Nn.makeFromUrl(L,this._delegate.host)}catch{throw Zt("refFromUrl() expected a valid full URL but got an invalid one.")}return new Wr(Ji(this._delegate,L),this)}setMaxUploadRetryTime(L){this._delegate.maxUploadRetryTime=L}setMaxOperationRetryTime(L){this._delegate.maxOperationRetryTime=L}useEmulator(L,ee,ue={}){!function Ni(H,L,ee,ue={}){!function Os(H,L,ee,ue={}){H.host=`${L}:${ee}`,H._protocol="http";const{mockUserToken:Ae}=ue;Ae&&(H._overrideAuthToken="string"==typeof Ae?Ae:(0,lt.Sg)(Ae,H.app.options.projectId))}(H,L,ee,ue)}(this._delegate,L,ee,ue)}}function Ii(H){return/^[A-Za-z]+:\/\//.test(H)}function dr(H,{instanceIdentifier:L}){const ee=H.getProvider("app-compat").getImmediate(),ue=H.getProvider("storage").getImmediate({identifier:L});return new Ir(ee,ue)}!function Ao(H){const L={TaskState:Fr,TaskEvent:as,StringFormat:Dn,Storage:Ir,Reference:Wr};H.INTERNAL.registerComponent(new Ne.wA("storage-compat",dr,"PUBLIC").setServiceProps(L).setMultipleInstances(!0)),H.registerVersion("@firebase/storage-compat","0.2.0")}(nt.Z);var ds=P(6217);function Cs(H){const L=function yi(H){return new f.y(L=>{const ee=S=>L.next(S);ee(H.snapshot);const I=H.on("state_changed",ee);return H.then(S=>{ee(S),L.complete()},S=>{ee(H.snapshot),(S=>{L.error(S)})(S)}),function(){I()}}).pipe(function Ie(H,L=pe.z){return(0,V.e)((ee,ue)=>{let Ae=null,I=null,S=null;const A=()=>{if(Ae){Ae.unsubscribe(),Ae=null;const Ce=I;I=null,ue.next(Ce)}};function Z(){const Ce=S+H,gt=L.now();if(gt<Ce)return Ae=this.schedule(void 0,Ce-gt),void ue.add(Ae);A()}ee.subscribe((0,_e.x)(ue,Ce=>{I=Ce,S=L.now(),Ae||(Ae=L.schedule(Z,H),ue.add(Ae))},()=>{A(),ue.complete()},void 0,()=>{I=Ae=null}))})}(0))}(H);return{task:H,then:H.then.bind(H),catch:H.catch.bind(H),pause:H.pause.bind(H),cancel:H.cancel.bind(H),resume:H.resume.bind(H),snapshotChanges:()=>L,percentageChanges:()=>L.pipe((0,ye.U)(ee=>ee.bytesTransferred/ee.totalBytes*100))}}function es(H){return{getDownloadURL:()=>(0,h.of)(void 0).pipe(re.fc,(0,le.w)(()=>H.getDownloadURL()),re.iC),getMetadata:()=>(0,h.of)(void 0).pipe(re.fc,(0,le.w)(()=>H.getMetadata()),re.iC),delete:()=>(0,C.D)(H.delete()),child:L=>es(H.child(L)),updateMetadata:L=>(0,C.D)(H.updateMetadata(L)),put:(L,ee)=>Cs(H.put(L,ee)),putString:(L,ee,ue)=>Cs(H.putString(L,ee,ue)),list:L=>(0,C.D)(H.list(L)),listAll:()=>(0,C.D)(H.listAll())}}P(9260);const _o=new te.OlP("angularfire2.storageBucket"),ts=new te.OlP("angularfire2.storage.maxUploadRetryTime"),qi=new te.OlP("angularfire2.storage.maxOperationRetryTime"),hs=new te.OlP("angularfire2.storage.use-emulator");let wn=(()=>{class H{constructor(ee,ue,Ae,I,S,A,Z,Ce,gt,En){const Sn=(0,me.on)(ee,S,ue);this.storage=(0,me.cc)(`${Sn.name}.storage.${Ae}`,"AngularFireStorage",Sn.name,()=>{const lr=S.runOutsideAngular(()=>Sn.storage(Ae||void 0)),hr=gt;return hr&&lr.useEmulator(...hr),Z&&lr.setMaxUploadRetryTime(Z),Ce&&lr.setMaxOperationRetryTime(Ce),lr},[Z,Ce])}ref(ee){return es(this.storage.ref(ee))}refFromURL(ee){return es(this.storage.refFromURL(ee))}upload(ee,ue,Ae){return es(this.storage.ref(ee)).put(ue,Ae)}}return H.\u0275fac=function(ee){return new(ee||H)(te.LFG(me.Dh),te.LFG(me.xv,8),te.LFG(_o,8),te.LFG(te.Lbi),te.LFG(te.R0b),te.LFG(re.HU),te.LFG(ts,8),te.LFG(qi,8),te.LFG(hs,8),te.LFG(ds.nm,8))},H.\u0275prov=te.Yz7({token:H,factory:H.\u0275fac,providedIn:"any"}),H})()},2011:(kt,Ze,P)=>{P.d(Ze,{Dh:()=>ye,GT:()=>_e,cc:()=>ze,hO:()=>nt,on:()=>re,pX:()=>V,xv:()=>le});var f=P(4650),h=P(9260),C=P(2122);kt=P.hmd(kt);const pe=["ngOnDestroy"],V=(xe,Ve,Xe,oe={})=>new Proxy(xe,{get:(He,Be)=>Xe.runOutsideAngular(()=>{var at;if(xe[Be])return!(null===(at=oe?.spy)||void 0===at)&&at.get&&oe.spy.get(Be,xe[Be]),xe[Be];if(pe.indexOf(Be)>-1)return()=>{};const Qe=Ve.toPromise().then(he=>{const Oe=he&&he[Be];return"function"==typeof Oe?Oe.bind(he):Oe&&Oe.then?Oe.then(Y=>Xe.run(()=>Y)):Xe.run(()=>Oe)});return new Proxy(()=>{},{get:(he,Oe)=>Qe[Oe],apply:(he,Oe,Y)=>Qe.then(se=>{var ae;const De=se&&se(...Y);return!(null===(ae=oe?.spy)||void 0===ae)&&ae.apply&&oe.spy.apply(Be,Y,De),De})})})}),_e=(xe,Ve)=>{Ve.forEach(Xe=>{Object.getOwnPropertyNames(Xe.prototype||Xe).forEach(oe=>{Object.defineProperty(xe.prototype,oe,Object.getOwnPropertyDescriptor(Xe.prototype||Xe,oe))})})};class Ie{constructor(Ve){return Ve}}const ye=new f.OlP("angularfire2.app.options"),le=new f.OlP("angularfire2.app.name");function re(xe,Ve,Xe){const He="object"==typeof Xe&&Xe||{};He.name=He.name||"string"==typeof Xe&&Xe||"[DEFAULT]";const at=h.Z.apps.filter(Qe=>Qe&&Qe.name===He.name)[0]||Ve.runOutsideAngular(()=>h.Z.initializeApp(xe,He));try{JSON.stringify(xe)!==JSON.stringify(at.options)&&te("error",`${at.name} Firebase App already initialized with different options${kt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ie(at)}const te=(xe,...Ve)=>{(0,f.X6Q)()&&typeof console<"u"&&console[xe](...Ve)},me={provide:Ie,useFactory:re,deps:[ye,f.R0b,[new f.FiY,le]]};let nt=(()=>{class xe{constructor(Xe){h.Z.registerVersion("angularfire",C.q4.full,"core"),h.Z.registerVersion("angularfire",C.q4.full,"app-compat"),h.Z.registerVersion("angular",f.q4F.full,Xe.toString())}static initializeApp(Xe,oe){return{ngModule:xe,providers:[{provide:ye,useValue:Xe},{provide:le,useValue:oe}]}}}return xe.\u0275fac=function(Xe){return new(Xe||xe)(f.LFG(f.Lbi))},xe.\u0275mod=f.oAB({type:xe}),xe.\u0275inj=f.cJS({providers:[me]}),xe})();function ze(xe,Ve,Xe,oe,He){const[,Be,at]=globalThis.\u0275AngularfireInstanceCache.find(Qe=>Qe[0]===xe)||[];if(Be)return function Ke(xe,Ve){try{return xe.toString()===Ve.toString()}catch{return xe===Ve}}(He,at)||(Ne("error",`${Ve} was already initialized on the ${Xe} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),Ne("warn",{is:He,was:at})),Be;{const Qe=oe();return globalThis.\u0275AngularfireInstanceCache.push([xe,Qe,He]),Qe}}const lt=!!kt.hot,Ne=(xe,...Ve)=>{(0,f.X6Q)()&&typeof console<"u"&&console[xe](...Ve)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(kt,Ze,P)=>{P.d(Ze,{q4:()=>wo,iC:()=>Vo,fc:()=>ao,HU:()=>ti,vb:()=>vt,JM:()=>Re});var f=P(4650),h=P(259),C=P(5861),pe=P(9681),V=P(2090),_e=P(4859),Ie=P(1877),ye=P(8766);const le="@firebase/installations",me="w:0.6.0",nt="FIS_v2",Ve=new V.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Xe(N){return N instanceof V.ZR&&N.code.includes("request-failed")}function oe({projectId:N}){return`https://firebaseinstallations.googleapis.com/v1/projects/${N}/installations`}function He(N){return{token:N.token,requestStatus:2,expiresIn:se(N.expiresIn),creationTime:Date.now()}}function Be(N,F){return at.apply(this,arguments)}function at(){return(at=(0,C.Z)(function*(N,F){const ge=(yield F.json()).error;return Ve.create("request-failed",{requestName:N,serverCode:ge.code,serverMessage:ge.message,serverStatus:ge.status})})).apply(this,arguments)}function Qe({apiKey:N}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":N})}function he(N,{refreshToken:F}){const q=Qe(N);return q.append("Authorization",function ae(N){return`${nt} ${N}`}(F)),q}function Oe(N){return Y.apply(this,arguments)}function Y(){return(Y=(0,C.Z)(function*(N){const F=yield N();return F.status>=500&&F.status<600?N():F})).apply(this,arguments)}function se(N){return Number(N.replace("s","000"))}function De(N,F){return ft.apply(this,arguments)}function ft(){return(ft=(0,C.Z)(function*({appConfig:N,heartbeatServiceProvider:F},{fid:q}){const ge=oe(N),Ue=Qe(N),tt=F.getImmediate({optional:!0});if(tt){const an=yield tt.getHeartbeatsHeader();an&&Ue.append("x-firebase-client",an)}const dn={method:"POST",headers:Ue,body:JSON.stringify({fid:q,authVersion:nt,appId:N.appId,sdkVersion:me})},_n=yield Oe(()=>fetch(ge,dn));if(_n.ok){const an=yield _n.json();return{fid:an.fid||q,registrationStatus:2,refreshToken:an.refreshToken,authToken:He(an.authToken)}}throw yield Be("Create Installation",_n)})).apply(this,arguments)}function mt(N){return new Promise(F=>{setTimeout(F,N)})}const Ot=/^[cdef][\w-]{21}$/;function Nt(){try{const N=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(N),N[0]=112+N[0]%16;const q=function Lt(N){return function Ct(N){return btoa(String.fromCharCode(...N)).replace(/\+/g,"-").replace(/\//g,"_")}(N).substr(0,22)}(N);return Ot.test(q)?q:""}catch{return""}}function Et(N){return`${N.appName}!${N.appId}`}const Zt=new Map;function Wt(N,F){const q=Et(N);On(q,F),function Nn(N,F){const q=function Pn(){return!wr&&"BroadcastChannel"in self&&(wr=new BroadcastChannel("[Firebase] FID Change"),wr.onmessage=N=>{On(N.data.key,N.data.fid)}),wr}();q&&q.postMessage({key:N,fid:F}),function _r(){0===Zt.size&&wr&&(wr.close(),wr=null)}()}(q,F)}function On(N,F){const q=Zt.get(N);if(q)for(const ge of q)ge(F)}let wr=null;const Gn="firebase-installations-store";let er=null;function An(){return er||(er=(0,ye.X3)("firebase-installations-database",1,{upgrade:(N,F)=>{0===F&&N.createObjectStore(Gn)}})),er}function Fe(N,F){return ie.apply(this,arguments)}function ie(){return(ie=(0,C.Z)(function*(N,F){const q=Et(N),Ue=(yield An()).transaction(Gn,"readwrite"),tt=Ue.objectStore(Gn),Dt=yield tt.get(q);return yield tt.put(F,q),yield Ue.done,(!Dt||Dt.fid!==F.fid)&&Wt(N,F.fid),F})).apply(this,arguments)}function K(N){return ut.apply(this,arguments)}function ut(){return(ut=(0,C.Z)(function*(N){const F=Et(N),ge=(yield An()).transaction(Gn,"readwrite");yield ge.objectStore(Gn).delete(F),yield ge.done})).apply(this,arguments)}function At(N,F){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,C.Z)(function*(N,F){const q=Et(N),Ue=(yield An()).transaction(Gn,"readwrite"),tt=Ue.objectStore(Gn),Dt=yield tt.get(q),dn=F(Dt);return void 0===dn?yield tt.delete(q):yield tt.put(dn,q),yield Ue.done,dn&&(!Dt||Dt.fid!==dn.fid)&&Wt(N,dn.fid),dn})).apply(this,arguments)}function Fn(N){return rt.apply(this,arguments)}function rt(){return(rt=(0,C.Z)(function*(N){let F;const q=yield At(N.appConfig,ge=>{const Ue=qe(ge),tt=Le(N,Ue);return F=tt.registrationPromise,tt.installationEntry});return""===q.fid?{installationEntry:yield F}:{installationEntry:q,registrationPromise:F}})).apply(this,arguments)}function qe(N){return $r(N||{fid:Nt(),registrationStatus:0})}function Le(N,F){if(0===F.registrationStatus){if(!navigator.onLine)return{installationEntry:F,registrationPromise:Promise.reject(Ve.create("app-offline"))};const q={fid:F.fid,registrationStatus:1,registrationTime:Date.now()},ge=function Ut(N,F){return Er.apply(this,arguments)}(N,q);return{installationEntry:q,registrationPromise:ge}}return 1===F.registrationStatus?{installationEntry:F,registrationPromise:zn(N)}:{installationEntry:F}}function Er(){return(Er=(0,C.Z)(function*(N,F){try{const q=yield De(N,F);return Fe(N.appConfig,q)}catch(q){throw Xe(q)&&409===q.customData.serverCode?yield K(N.appConfig):yield Fe(N.appConfig,{fid:F.fid,registrationStatus:0}),q}})).apply(this,arguments)}function zn(N){return or.apply(this,arguments)}function or(){return(or=(0,C.Z)(function*(N){let F=yield fi(N.appConfig);for(;1===F.registrationStatus;)yield mt(100),F=yield fi(N.appConfig);if(0===F.registrationStatus){const{installationEntry:q,registrationPromise:ge}=yield Fn(N);return ge||q}return F})).apply(this,arguments)}function fi(N){return At(N,F=>{if(!F)throw Ve.create("installation-not-found");return $r(F)})}function $r(N){return function Bi(N){return 1===N.registrationStatus&&N.registrationTime+1e4<Date.now()}(N)?{fid:N.fid,registrationStatus:0}:N}function Dn(N,F){return qr.apply(this,arguments)}function qr(){return(qr=(0,C.Z)(function*({appConfig:N,heartbeatServiceProvider:F},q){const ge=Mn(N,q),Ue=he(N,q),tt=F.getImmediate({optional:!0});if(tt){const an=yield tt.getHeartbeatsHeader();an&&Ue.append("x-firebase-client",an)}const dn={method:"POST",headers:Ue,body:JSON.stringify({installation:{sdkVersion:me,appId:N.appId}})},_n=yield Oe(()=>fetch(ge,dn));if(_n.ok)return He(yield _n.json());throw yield Be("Generate Auth Token",_n)})).apply(this,arguments)}function Mn(N,{fid:F}){return`${oe(N)}/${F}/authTokens:generate`}function nn(N){return ai.apply(this,arguments)}function ai(){return(ai=(0,C.Z)(function*(N,F=!1){let q;const ge=yield At(N.appConfig,tt=>{if(!rn(tt))throw Ve.create("not-registered");const Dt=tt.authToken;if(!F&&be(Dt))return tt;if(1===Dt.requestStatus)return q=Mt(N,F),tt;{if(!navigator.onLine)throw Ve.create("app-offline");const dn=Se(tt);return q=un(N,dn),dn}});return q?yield q:ge.authToken})).apply(this,arguments)}function Mt(N,F){return dt.apply(this,arguments)}function dt(){return(dt=(0,C.Z)(function*(N,F){let q=yield Gt(N.appConfig);for(;1===q.authToken.requestStatus;)yield mt(100),q=yield Gt(N.appConfig);const ge=q.authToken;return 0===ge.requestStatus?nn(N,F):ge})).apply(this,arguments)}function Gt(N){return At(N,F=>{if(!rn(F))throw Ve.create("not-registered");return function st(N){return 1===N.requestStatus&&N.requestTime+1e4<Date.now()}(F.authToken)?Object.assign(Object.assign({},F),{authToken:{requestStatus:0}}):F})}function un(N,F){return fn.apply(this,arguments)}function fn(){return(fn=(0,C.Z)(function*(N,F){try{const q=yield Dn(N,F),ge=Object.assign(Object.assign({},F),{authToken:q});return yield Fe(N.appConfig,ge),q}catch(q){if(!Xe(q)||401!==q.customData.serverCode&&404!==q.customData.serverCode){const ge=Object.assign(Object.assign({},F),{authToken:{requestStatus:0}});yield Fe(N.appConfig,ge)}else yield K(N.appConfig);throw q}})).apply(this,arguments)}function rn(N){return void 0!==N&&2===N.registrationStatus}function be(N){return 2===N.requestStatus&&!function fe(N){const F=Date.now();return F<N.creationTime||N.creationTime+N.expiresIn<F+36e5}(N)}function Se(N){const F={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},N),{authToken:F})}function Rt(){return(Rt=(0,C.Z)(function*(N){const F=N,{installationEntry:q,registrationPromise:ge}=yield Fn(F);return ge?ge.catch(console.error):nn(F).catch(console.error),q.fid})).apply(this,arguments)}function Ln(){return(Ln=(0,C.Z)(function*(N,F=!1){const q=N;return yield ar(q),(yield nn(q,F)).token})).apply(this,arguments)}function ar(N){return ln.apply(this,arguments)}function ln(){return(ln=(0,C.Z)(function*(N){const{registrationPromise:F}=yield Fn(N);F&&(yield F)})).apply(this,arguments)}function Yn(N){return Ve.create("missing-app-config-values",{valueName:N})}const xr="installations",nr=N=>{const F=N.getProvider("app").getImmediate(),q=function kn(N){if(!N||!N.options)throw Yn("App Configuration");if(!N.name)throw Yn("App Name");const F=["projectId","apiKey","appId"];for(const q of F)if(!N.options[q])throw Yn(q);return{appName:N.name,projectId:N.options.projectId,apiKey:N.options.apiKey,appId:N.options.appId}}(F);return{app:F,appConfig:q,heartbeatServiceProvider:(0,pe._getProvider)(F,"heartbeat"),_delete:()=>Promise.resolve()}},Rs=N=>{const F=N.getProvider("app").getImmediate(),q=(0,pe._getProvider)(F,xr).getImmediate();return{getId:()=>function Ge(N){return Rt.apply(this,arguments)}(q),getToken:Ue=>function yn(N){return Ln.apply(this,arguments)}(q,Ue)}};(function ji(){(0,pe._registerComponent)(new _e.wA(xr,nr,"PUBLIC")),(0,pe._registerComponent)(new _e.wA("installations-internal",Rs,"PRIVATE"))})(),(0,pe.registerVersion)(le,"0.6.0"),(0,pe.registerVersion)(le,"0.6.0","esm2017");const Si="@firebase/remote-config",Tr=new V.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class vs{constructor(F,q,ge,Ue){this.client=F,this.storage=q,this.storageCache=ge,this.logger=Ue}isCachedDataFresh(F,q){if(!q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ge=Date.now()-q,Ue=ge<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ge}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${Ue}.`),Ue}fetch(F){var q=this;return(0,C.Z)(function*(){const[ge,Ue]=yield Promise.all([q.storage.getLastSuccessfulFetchTimestampMillis(),q.storage.getLastSuccessfulFetchResponse()]);if(Ue&&q.isCachedDataFresh(F.cacheMaxAgeMillis,ge))return Ue;F.eTag=Ue&&Ue.eTag;const tt=yield q.client.fetch(F),Dt=[q.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===tt.status&&Dt.push(q.storage.setLastSuccessfulFetchResponse(tt)),yield Promise.all(Dt),tt})()}}function ui(N=navigator){return N.languages&&N.languages[0]||N.language}class bs{constructor(F,q,ge,Ue,tt,Dt){this.firebaseInstallations=F,this.sdkVersion=q,this.namespace=ge,this.projectId=Ue,this.apiKey=tt,this.appId=Dt}fetch(F){var q=this;return(0,C.Z)(function*(){const[ge,Ue]=yield Promise.all([q.firebaseInstallations.getId(),q.firebaseInstallations.getToken()]),Dt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${q.projectId}/namespaces/${q.namespace}:fetch?key=${q.apiKey}`,dn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},_n={sdk_version:q.sdkVersion,app_instance_id:ge,app_instance_id_token:Ue,app_id:q.appId,language_code:ui()},an={method:"POST",headers:dn,body:JSON.stringify(_n)},tr=fetch(Dt,an),$n=new Promise((Oo,Qo)=>{F.signal.addEventListener(()=>{const xa=new Error("The operation was aborted.");xa.name="AbortError",Qo(xa)})});let uo;try{yield Promise.race([tr,$n]),uo=yield tr}catch(Oo){let Qo="fetch-client-network";throw"AbortError"===Oo?.name&&(Qo="fetch-timeout"),Tr.create(Qo,{originalErrorMessage:Oo?.message})}let xn=uo.status;const Nr=uo.headers.get("ETag")||void 0;let Sa,Aa;if(200===uo.status){let Oo;try{Oo=yield uo.json()}catch(Qo){throw Tr.create("fetch-client-parse",{originalErrorMessage:Qo?.message})}Sa=Oo.entries,Aa=Oo.state}if("INSTANCE_STATE_UNSPECIFIED"===Aa?xn=500:"NO_CHANGE"===Aa?xn=304:("NO_TEMPLATE"===Aa||"EMPTY_CONFIG"===Aa)&&(Sa={}),304!==xn&&200!==xn)throw Tr.create("fetch-status",{httpStatus:xn});return{status:xn,eTag:Nr,config:Sa}})()}}class Me{constructor(F,q){this.client=F,this.storage=q}fetch(F){var q=this;return(0,C.Z)(function*(){const ge=(yield q.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return q.attemptFetch(F,ge)})()}attemptFetch(F,{throttleEndTimeMillis:q,backoffCount:ge}){var Ue=this;return(0,C.Z)(function*(){yield function rr(N,F){return new Promise((q,ge)=>{const Ue=Math.max(F-Date.now(),0),tt=setTimeout(q,Ue);N.addEventListener(()=>{clearTimeout(tt),ge(Tr.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,q);try{const tt=yield Ue.client.fetch(F);return yield Ue.storage.deleteThrottleMetadata(),tt}catch(tt){if(!function Te(N){if(!(N instanceof V.ZR&&N.customData))return!1;const F=Number(N.customData.httpStatus);return 429===F||500===F||503===F||504===F}(tt))throw tt;const Dt={throttleEndTimeMillis:Date.now()+(0,V.$s)(ge),backoffCount:ge+1};return yield Ue.storage.setThrottleMetadata(Dt),Ue.attemptFetch(F,Dt)}})()}}class St{constructor(F,q,ge,Ue,tt){this.app=F,this._client=q,this._storageCache=ge,this._storage=Ue,this._logger=tt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function on(N,F){const q=N.target.error||void 0;return Tr.create(F,{originalErrorMessage:q&&q?.message})}const mn="app_namespace_store";class li{constructor(F,q,ge,Ue=function Lr(){return new Promise((N,F)=>{try{const q=indexedDB.open("firebase_remote_config",1);q.onerror=ge=>{F(on(ge,"storage-open"))},q.onsuccess=ge=>{N(ge.target.result)},q.onupgradeneeded=ge=>{0===ge.oldVersion&&ge.target.result.createObjectStore(mn,{keyPath:"compositeKey"})}}catch(q){F(Tr.create("storage-open",{originalErrorMessage:q?.message}))}})}()){this.appId=F,this.appName=q,this.namespace=ge,this.openDbPromise=Ue}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var q=this;return(0,C.Z)(function*(){const ge=yield q.openDbPromise;return new Promise((Ue,tt)=>{const dn=ge.transaction([mn],"readonly").objectStore(mn),_n=q.createCompositeKey(F);try{const an=dn.get(_n);an.onerror=tr=>{tt(on(tr,"storage-get"))},an.onsuccess=tr=>{const $n=tr.target.result;Ue($n?$n.value:void 0)}}catch(an){tt(Tr.create("storage-get",{originalErrorMessage:an?.message}))}})})()}set(F,q){var ge=this;return(0,C.Z)(function*(){const Ue=yield ge.openDbPromise;return new Promise((tt,Dt)=>{const _n=Ue.transaction([mn],"readwrite").objectStore(mn),an=ge.createCompositeKey(F);try{const tr=_n.put({compositeKey:an,value:q});tr.onerror=$n=>{Dt(on($n,"storage-set"))},tr.onsuccess=()=>{tt()}}catch(tr){Dt(Tr.create("storage-set",{originalErrorMessage:tr?.message}))}})})()}delete(F){var q=this;return(0,C.Z)(function*(){const ge=yield q.openDbPromise;return new Promise((Ue,tt)=>{const dn=ge.transaction([mn],"readwrite").objectStore(mn),_n=q.createCompositeKey(F);try{const an=dn.delete(_n);an.onerror=tr=>{tt(on(tr,"storage-delete"))},an.onsuccess=()=>{Ue()}}catch(an){tt(Tr.create("storage-delete",{originalErrorMessage:an?.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class ei{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,C.Z)(function*(){const q=F.storage.getLastFetchStatus(),ge=F.storage.getLastSuccessfulFetchTimestampMillis(),Ue=F.storage.getActiveConfig(),tt=yield q;tt&&(F.lastFetchStatus=tt);const Dt=yield ge;Dt&&(F.lastSuccessfulFetchTimestampMillis=Dt);const dn=yield Ue;dn&&(F.activeConfig=dn)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function ws(){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,C.Z)(function*(){if(!(0,V.hl)())return!1;try{return yield(0,V.eu)()}catch{return!1}})).apply(this,arguments)}!function ci(){(0,pe._registerComponent)(new _e.wA("remote-config",function N(F,{instanceIdentifier:q}){const ge=F.getProvider("app").getImmediate(),Ue=F.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Tr.create("registration-window");if(!(0,V.hl)())throw Tr.create("indexed-db-unavailable");const{projectId:tt,apiKey:Dt,appId:dn}=ge.options;if(!tt)throw Tr.create("registration-project-id");if(!Dt)throw Tr.create("registration-api-key");if(!dn)throw Tr.create("registration-app-id");const _n=new li(dn,ge.name,q=q||"firebase"),an=new ei(_n),tr=new Ie.Yd(Si);tr.logLevel=Ie.in.ERROR;const $n=new bs(Ue,pe.SDK_VERSION,q,tt,Dt,dn),uo=new Me($n,_n),xn=new vs(uo,_n,an,tr),Nr=new St(ge,xn,an,_n,tr);return function ur(N){const F=(0,V.m9)(N);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}(Nr),Nr},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(Si,"0.4.0"),(0,pe.registerVersion)(Si,"0.4.0","esm2017")}();const js="/firebase-messaging-sw.js",gi="/firebase-cloud-messaging-push-scope",us="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Os="google.c.a.c_id",Ns="google.c.a.c_l",Es="google.c.a.ts",Hs="google.c.a.e";var Zi=(()=>{return(N=Zi||(Zi={})).PUSH_RECEIVED="push-received",N.NOTIFICATION_CLICKED="notification-clicked",Zi;var N})();function Gi(N){const F=new Uint8Array(N);return btoa(String.fromCharCode(...F)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Zs(N){const q=(N+"=".repeat((4-N.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ge=atob(q),Ue=new Uint8Array(ge.length);for(let tt=0;tt<ge.length;++tt)Ue[tt]=ge.charCodeAt(tt);return Ue}const Po="fcm_token_details_db",mi="fcm_token_object_Store";function eo(N){return ls.apply(this,arguments)}function ls(){return ls=(0,C.Z)(function*(N){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(tt=>tt.name).includes(Po))return null;let F=null;return(yield(0,ye.X3)(Po,5,{upgrade:(ge=(0,C.Z)(function*(Ue,tt,Dt,dn){var _n;if(tt<2||!Ue.objectStoreNames.contains(mi))return;const an=dn.objectStore(mi),tr=yield an.index("fcmSenderId").get(N);if(yield an.clear(),tr)if(2===tt){const $n=tr;if(!$n.auth||!$n.p256dh||!$n.endpoint)return;F={token:$n.fcmToken,createTime:null!==(_n=$n.createTime)&&void 0!==_n?_n:Date.now(),subscriptionOptions:{auth:$n.auth,p256dh:$n.p256dh,endpoint:$n.endpoint,swScope:$n.swScope,vapidKey:"string"==typeof $n.vapidKey?$n.vapidKey:Gi($n.vapidKey)}}}else if(3===tt){const $n=tr;F={token:$n.fcmToken,createTime:$n.createTime,subscriptionOptions:{auth:Gi($n.auth),p256dh:Gi($n.p256dh),endpoint:$n.endpoint,swScope:$n.swScope,vapidKey:Gi($n.vapidKey)}}}else if(4===tt){const $n=tr;F={token:$n.fcmToken,createTime:$n.createTime,subscriptionOptions:{auth:Gi($n.auth),p256dh:Gi($n.p256dh),endpoint:$n.endpoint,swScope:$n.swScope,vapidKey:Gi($n.vapidKey)}}}}),function(tt,Dt,dn,_n){return ge.apply(this,arguments)})})).close(),yield(0,ye.Lj)(Po),yield(0,ye.Lj)("fcm_vapid_details_db"),yield(0,ye.Lj)("undefined"),cs(F)?F:null;var ge}),ls.apply(this,arguments)}function cs(N){if(!N||!N.subscriptionOptions)return!1;const{subscriptionOptions:F}=N;return"number"==typeof N.createTime&&N.createTime>0&&"string"==typeof N.token&&N.token.length>0&&"string"==typeof F.auth&&F.auth.length>0&&"string"==typeof F.p256dh&&F.p256dh.length>0&&"string"==typeof F.endpoint&&F.endpoint.length>0&&"string"==typeof F.swScope&&F.swScope.length>0&&"string"==typeof F.vapidKey&&F.vapidKey.length>0}const zi="firebase-messaging-store";let cr=null;function Ni(){return cr||(cr=(0,ye.X3)("firebase-messaging-database",1,{upgrade:(N,F)=>{0===F&&N.createObjectStore(zi)}})),cr}function Ps(N){return ks.apply(this,arguments)}function ks(){return(ks=(0,C.Z)(function*(N){const F=yo(N),ge=yield(yield Ni()).transaction(zi).objectStore(zi).get(F);if(ge)return ge;{const Ue=yield eo(N.appConfig.senderId);if(Ue)return yield xi(N,Ue),Ue}})).apply(this,arguments)}function xi(N,F){return zs.apply(this,arguments)}function zs(){return(zs=(0,C.Z)(function*(N,F){const q=yo(N),Ue=(yield Ni()).transaction(zi,"readwrite");return yield Ue.objectStore(zi).put(F,q),yield Ue.done,F})).apply(this,arguments)}function qs(N){return to.apply(this,arguments)}function to(){return(to=(0,C.Z)(function*(N){const F=yo(N),ge=(yield Ni()).transaction(zi,"readwrite");yield ge.objectStore(zi).delete(F),yield ge.done})).apply(this,arguments)}function yo({appConfig:N}){return N.appId}const Ir=new V.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ii(N,F){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,C.Z)(function*(N,F){const q=yield Is(N),ge=Cs(F),Ue={method:"POST",headers:q,body:JSON.stringify(ge)};let tt;try{tt=yield(yield fetch(ds(N.appConfig),Ue)).json()}catch(Dt){throw Ir.create("token-subscribe-failed",{errorInfo:Dt?.toString()})}if(tt.error)throw Ir.create("token-subscribe-failed",{errorInfo:tt.error.message});if(!tt.token)throw Ir.create("token-subscribe-no-token");return tt.token})).apply(this,arguments)}function Ws(N,F){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,C.Z)(function*(N,F){const q=yield Is(N),ge=Cs(F.subscriptionOptions),Ue={method:"PATCH",headers:q,body:JSON.stringify(ge)};let tt;try{tt=yield(yield fetch(`${ds(N.appConfig)}/${F.token}`,Ue)).json()}catch(Dt){throw Ir.create("token-update-failed",{errorInfo:Dt?.toString()})}if(tt.error)throw Ir.create("token-update-failed",{errorInfo:tt.error.message});if(!tt.token)throw Ir.create("token-update-no-token");return tt.token})).apply(this,arguments)}function dr(N,F){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,C.Z)(function*(N,F){const ge={method:"DELETE",headers:yield Is(N)};try{const tt=yield(yield fetch(`${ds(N.appConfig)}/${F}`,ge)).json();if(tt.error)throw Ir.create("token-unsubscribe-failed",{errorInfo:tt.error.message})}catch(Ue){throw Ir.create("token-unsubscribe-failed",{errorInfo:Ue?.toString()})}})).apply(this,arguments)}function ds({projectId:N}){return`https://fcmregistrations.googleapis.com/v1/projects/${N}/registrations`}function Is(N){return yi.apply(this,arguments)}function yi(){return(yi=(0,C.Z)(function*({appConfig:N,installations:F}){const q=yield F.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":N.apiKey,"x-goog-firebase-installations-auth":`FIS ${q}`})})).apply(this,arguments)}function Cs({p256dh:N,auth:F,endpoint:q,vapidKey:ge}){const Ue={web:{endpoint:q,auth:F,p256dh:N}};return ge!==us&&(Ue.web.applicationPubKey=ge),Ue}const es=6048e5;function _o(N){return ts.apply(this,arguments)}function ts(){return(ts=(0,C.Z)(function*(N){const F=yield H(N.swRegistration,N.vapidKey),q={vapidKey:N.vapidKey,swScope:N.swRegistration.scope,endpoint:F.endpoint,auth:Gi(F.getKey("auth")),p256dh:Gi(F.getKey("p256dh"))},ge=yield Ps(N.firebaseDependencies);if(ge){if(ee(ge.subscriptionOptions,q))return Date.now()>=ge.createTime+es?wn(N,{token:ge.token,createTime:Date.now(),subscriptionOptions:q}):ge.token;try{yield dr(N.firebaseDependencies,ge.token)}catch(Ue){console.warn(Ue)}return vo(N.firebaseDependencies,q)}return vo(N.firebaseDependencies,q)})).apply(this,arguments)}function qi(N){return hs.apply(this,arguments)}function hs(){return(hs=(0,C.Z)(function*(N){const F=yield Ps(N.firebaseDependencies);F&&(yield dr(N.firebaseDependencies,F.token),yield qs(N.firebaseDependencies));const q=yield N.swRegistration.pushManager.getSubscription();return!q||q.unsubscribe()})).apply(this,arguments)}function wn(N,F){return xo.apply(this,arguments)}function xo(){return(xo=(0,C.Z)(function*(N,F){try{const q=yield Ws(N.firebaseDependencies,F),ge=Object.assign(Object.assign({},F),{token:q,createTime:Date.now()});return yield xi(N.firebaseDependencies,ge),q}catch(q){throw yield qi(N),q}})).apply(this,arguments)}function vo(N,F){return no.apply(this,arguments)}function no(){return(no=(0,C.Z)(function*(N,F){const ge={token:yield Ii(N,F),createTime:Date.now(),subscriptionOptions:F};return yield xi(N,ge),ge.token})).apply(this,arguments)}function H(N,F){return L.apply(this,arguments)}function L(){return(L=(0,C.Z)(function*(N,F){return(yield N.pushManager.getSubscription())||N.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Zs(F)})})).apply(this,arguments)}function ee(N,F){return F.vapidKey===N.vapidKey&&F.endpoint===N.endpoint&&F.auth===N.auth&&F.p256dh===N.p256dh}function ue(N){const F={from:N.from,collapseKey:N.collapse_key,messageId:N.fcmMessageId};return function Ae(N,F){if(!F.notification)return;N.notification={};const q=F.notification.title;q&&(N.notification.title=q);const ge=F.notification.body;ge&&(N.notification.body=ge);const Ue=F.notification.image;Ue&&(N.notification.image=Ue);const tt=F.notification.icon;tt&&(N.notification.icon=tt)}(F,N),function I(N,F){!F.data||(N.data=F.data)}(F,N),function S(N,F){var q,ge,Ue,tt,Dt;if(!(F.fcmOptions||null!==(q=F.notification)&&void 0!==q&&q.click_action))return;N.fcmOptions={};const dn=null!==(Ue=null===(ge=F.fcmOptions)||void 0===ge?void 0:ge.link)&&void 0!==Ue?Ue:null===(tt=F.notification)||void 0===tt?void 0:tt.click_action;dn&&(N.fcmOptions.link=dn);const _n=null===(Dt=F.fcmOptions)||void 0===Dt?void 0:Dt.analytics_label;_n&&(N.fcmOptions.analyticsLabel=_n)}(F,N),F}function A(N){return"object"==typeof N&&!!N&&Os in N}function Z(N,F){const q=[];for(let ge=0;ge<N.length;ge++)q.push(N.charAt(ge)),ge<F.length&&q.push(F.charAt(ge));return q.join("")}function gt(N){return Ir.create("missing-app-config-values",{valueName:N})}Z("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Z("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class En{constructor(F,q,ge){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ue=function Ce(N){if(!N||!N.options)throw gt("App Configuration Object");if(!N.name)throw gt("App Name");const F=["projectId","apiKey","appId","messagingSenderId"],{options:q}=N;for(const ge of F)if(!q[ge])throw gt(ge);return{appName:N.name,projectId:q.projectId,apiKey:q.apiKey,appId:q.appId,senderId:q.messagingSenderId}}(F);this.firebaseDependencies={app:F,appConfig:Ue,installations:q,analyticsProvider:ge}}_delete(){return Promise.resolve()}}function Sn(N){return lr.apply(this,arguments)}function lr(){return(lr=(0,C.Z)(function*(N){try{N.swRegistration=yield navigator.serviceWorker.register(js,{scope:gi}),N.swRegistration.update().catch(()=>{})}catch(F){throw Ir.create("failed-service-worker-registration",{browserErrorMessage:F?.message})}})).apply(this,arguments)}function hr(N,F){return di.apply(this,arguments)}function di(){return(di=(0,C.Z)(function*(N,F){if(!F&&!N.swRegistration&&(yield Sn(N)),F||!N.swRegistration){if(!(F instanceof ServiceWorkerRegistration))throw Ir.create("invalid-sw-registration");N.swRegistration=F}})).apply(this,arguments)}function Rr(N,F){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,C.Z)(function*(N,F){F?N.vapidKey=F:N.vapidKey||(N.vapidKey=us)})).apply(this,arguments)}function Ur(){return(Ur=(0,C.Z)(function*(N,F){if(!navigator)throw Ir.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ir.create("permission-blocked");return yield Rr(N,F?.vapidKey),yield hr(N,F?.serviceWorkerRegistration),_o(N)})).apply(this,arguments)}function si(N,F,q){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,C.Z)(function*(N,F,q){const ge=Kr(F);(yield N.firebaseDependencies.analyticsProvider.get()).logEvent(ge,{message_id:q[Os],message_name:q[Ns],message_time:q[Es],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Kr(N){switch(N){case Zi.NOTIFICATION_CLICKED:return"notification_open";case Zi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ds(){return(Ds=(0,C.Z)(function*(N,F){const q=F.data;if(!q.isFirebaseMessaging)return;N.onMessageHandler&&q.messageType===Zi.PUSH_RECEIVED&&("function"==typeof N.onMessageHandler?N.onMessageHandler(ue(q)):N.onMessageHandler.next(ue(q)));const ge=q.data;A(ge)&&"1"===ge[Hs]&&(yield si(N,q.messageType,ge))})).apply(this,arguments)}const Ts="@firebase/messaging",ra=N=>{const F=new En(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),N.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",q=>function Bo(N,F){return Ds.apply(this,arguments)}(F,q)),F},ko=N=>{const F=N.getProvider("messaging").getImmediate();return{getToken:ge=>function Jn(N,F){return Ur.apply(this,arguments)}(F,ge)}};function ro(){return va.apply(this,arguments)}function va(){return(va=(0,C.Z)(function*(){try{yield(0,V.eu)()}catch{return!1}return typeof window<"u"&&(0,V.hl)()&&(0,V.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Fa(){(0,pe._registerComponent)(new _e.wA("messaging",ra,"PUBLIC")),(0,pe._registerComponent)(new _e.wA("messaging-internal",ko,"PRIVATE")),(0,pe.registerVersion)(Ts,"0.12.0"),(0,pe.registerVersion)(Ts,"0.12.0","esm2017")}();const ba="analytics",fs="firebase_id",io="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ns="https://www.googletagmanager.com/gtag/js",ki=new Ie.Yd("@firebase/analytics");function au(N){return Promise.all(N.map(F=>F.catch(q=>q)))}function sa(N,F){const q=document.createElement("script");q.src=`${ns}?l=${N}&id=${F}`,q.async=!0,document.head.appendChild(q)}function $(N,F,q,ge,Ue,tt){return R.apply(this,arguments)}function R(){return(R=(0,C.Z)(function*(N,F,q,ge,Ue,tt){const Dt=ge[Ue];try{if(Dt)yield F[Dt];else{const _n=(yield au(q)).find(an=>an.measurementId===Ue);_n&&(yield F[_n.appId])}}catch(dn){ki.error(dn)}N("config",Ue,tt)})).apply(this,arguments)}function W(N,F,q,ge,Ue){return we.apply(this,arguments)}function we(){return(we=(0,C.Z)(function*(N,F,q,ge,Ue){try{let tt=[];if(Ue&&Ue.send_to){let Dt=Ue.send_to;Array.isArray(Dt)||(Dt=[Dt]);const dn=yield au(q);for(const _n of Dt){const an=dn.find($n=>$n.measurementId===_n),tr=an&&F[an.appId];if(!tr){tt=[];break}tt.push(tr)}}0===tt.length&&(tt=Object.values(F)),yield Promise.all(tt),N("event",ge,Ue||{})}catch(tt){ki.error(tt)}})).apply(this,arguments)}function Kt(N){const F=window.document.getElementsByTagName("script");for(const q of Object.values(F))if(q.src&&q.src.includes(ns)&&q.src.includes(N))return q;return null}const Hn=new V.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Or=new class Cr{constructor(F={},q=1e3){this.throttleMetadata=F,this.intervalMillis=q}getThrottleMetadata(F){return this.throttleMetadata[F]}setThrottleMetadata(F,q){this.throttleMetadata[F]=q}deleteThrottleMetadata(F){delete this.throttleMetadata[F]}};function Vi(N){return new Headers({Accept:"application/json","x-goog-api-key":N})}function It(N){return vr.apply(this,arguments)}function vr(){return(vr=(0,C.Z)(function*(N){var F;const{appId:q,apiKey:ge}=N,Ue={method:"GET",headers:Vi(ge)},tt=io.replace("{app-id}",q),Dt=yield fetch(tt,Ue);if(200!==Dt.status&&304!==Dt.status){let dn="";try{const _n=yield Dt.json();null!==(F=_n.error)&&void 0!==F&&F.message&&(dn=_n.error.message)}catch{}throw Hn.create("config-fetch-failed",{httpStatus:Dt.status,responseMessage:dn})}return Dt.json()})).apply(this,arguments)}function br(N){return ps.apply(this,arguments)}function ps(){return(ps=(0,C.Z)(function*(N,F=Or,q){const{appId:ge,apiKey:Ue,measurementId:tt}=N.options;if(!ge)throw Hn.create("no-app-id");if(!Ue){if(tt)return{measurementId:tt,appId:ge};throw Hn.create("no-api-key")}const Dt=F.getThrottleMetadata(ge)||{backoffCount:0,throttleEndTimeMillis:Date.now()},dn=new ot;return setTimeout((0,C.Z)(function*(){dn.abort()}),void 0!==q?q:6e4),$t({appId:ge,apiKey:Ue,measurementId:tt},Dt,dn,F)})).apply(this,arguments)}function $t(N,F,q){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,C.Z)(function*(N,{throttleEndTimeMillis:F,backoffCount:q},ge,Ue=Or){var tt;const{appId:Dt,measurementId:dn}=N;try{yield oa(ge,F)}catch(_n){if(dn)return ki.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${dn} provided in the "measurementId" field in the local Firebase config. [${_n?.message}]`),{appId:Dt,measurementId:dn};throw _n}try{const _n=yield It(N);return Ue.deleteThrottleMetadata(Dt),_n}catch(_n){const an=_n;if(!qt(an)){if(Ue.deleteThrottleMetadata(Dt),dn)return ki.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${dn} provided in the "measurementId" field in the local Firebase config. [${an?.message}]`),{appId:Dt,measurementId:dn};throw _n}const tr=503===Number(null===(tt=an?.customData)||void 0===tt?void 0:tt.httpStatus)?(0,V.$s)(q,Ue.intervalMillis,30):(0,V.$s)(q,Ue.intervalMillis),$n={throttleEndTimeMillis:Date.now()+tr,backoffCount:q+1};return Ue.setThrottleMetadata(Dt,$n),ki.debug(`Calling attemptFetch again in ${tr} millis`),$t(N,$n,ge,Ue)}})).apply(this,arguments)}function oa(N,F){return new Promise((q,ge)=>{const Ue=Math.max(F-Date.now(),0),tt=setTimeout(q,Ue);N.addEventListener(()=>{clearTimeout(tt),ge(Hn.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}function qt(N){if(!(N instanceof V.ZR&&N.customData))return!1;const F=Number(N.customData.httpStatus);return 429===F||500===F||503===F||504===F}class ot{constructor(){this.listeners=[]}addEventListener(F){this.listeners.push(F)}abort(){this.listeners.forEach(F=>F())}}let wt,Go;function Mo(){return(Mo=(0,C.Z)(function*(N,F,q,ge,Ue){if(Ue&&Ue.global)N("event",q,ge);else{const tt=yield F;N("event",q,Object.assign(Object.assign({},ge),{send_to:tt}))}})).apply(this,arguments)}function ja(N){Go=N}function Un(N){wt=N}function zo(){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,C.Z)(function*(){if(!(0,V.hl)())return ki.warn(Hn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,V.eu)()}catch(N){return ki.warn(Hn.create("indexeddb-unavailable",{errorInfo:N?.toString()}).message),!1}return!0})).apply(this,arguments)}function gn(){return(gn=(0,C.Z)(function*(N,F,q,ge,Ue,tt,Dt){var dn;const _n=br(N);_n.then(xn=>{q[xn.measurementId]=xn.appId,N.options.measurementId&&xn.measurementId!==N.options.measurementId&&ki.warn(`The measurement ID in the local Firebase config (${N.options.measurementId}) does not match the measurement ID fetched from the server (${xn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(xn=>ki.error(xn)),F.push(_n);const an=zo().then(xn=>{if(xn)return ge.getId()}),[tr,$n]=yield Promise.all([_n,an]);Kt(tt)||sa(tt,tr.measurementId),Go&&(Ue("consent","default",Go),ja(void 0)),Ue("js",new Date);const uo=null!==(dn=Dt?.config)&&void 0!==dn?dn:{};return uo.origin="firebase",uo.update=!0,null!=$n&&(uo[fs]=$n),Ue("config",tr.measurementId,uo),wt&&(Ue("set",wt),Un(void 0)),tr.measurementId})).apply(this,arguments)}class Lo{constructor(F){this.app=F}_delete(){return delete Zn[this.app.options.appId],Promise.resolve()}}let Zn={},lu=[];const Yr={};let Ha,Wi,Pt="dataLayer",so=!1;function Wo(N,F,q){!function kl(){const N=[];if((0,V.ru)()&&N.push("This is a browser extension environment."),(0,V.zI)()||N.push("Cookies are not available."),N.length>0){const F=N.map((ge,Ue)=>`(${Ue+1}) ${ge}`).join(" "),q=Hn.create("invalid-analytics-context",{errorInfo:F});ki.warn(q.message)}}();const ge=N.options.appId;if(!ge)throw Hn.create("no-app-id");if(!N.options.apiKey){if(!N.options.measurementId)throw Hn.create("no-api-key");ki.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${N.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Zn[ge])throw Hn.create("already-exists",{id:ge});if(!so){!function M(N){let F=[];Array.isArray(window[N])?F=window[N]:window[N]=F}(Pt);const{wrappedGtag:tt,gtagCore:Dt}=function yt(N,F,q,ge,Ue){let tt=function(...Dt){window[ge].push(arguments)};return window[Ue]&&"function"==typeof window[Ue]&&(tt=window[Ue]),window[Ue]=function it(N,F,q,ge){function tt(){return(tt=(0,C.Z)(function*(Dt,dn,_n){try{"event"===Dt?yield W(N,F,q,dn,_n):"config"===Dt?yield $(N,F,q,ge,dn,_n):"consent"===Dt?N("consent","update",_n):N("set",dn)}catch(an){ki.error(an)}})).apply(this,arguments)}return function Ue(Dt,dn,_n){return tt.apply(this,arguments)}}(tt,N,F,q),{gtagCore:tt,wrappedGtag:window[Ue]}}(Zn,lu,Yr,Pt,"gtag");Wi=tt,Ha=Dt,so=!0}return Zn[ge]=function Wn(N,F,q,ge,Ue,tt,Dt){return gn.apply(this,arguments)}(N,lu,Yr,F,Ha,Pt,q),new Lo(N)}function Ss(){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,C.Z)(function*(){if((0,V.ru)()||!(0,V.zI)()||!(0,V.hl)())return!1;try{return yield(0,V.eu)()}catch{return!1}})).apply(this,arguments)}const Gr="@firebase/analytics";!function Ia(){(0,pe._registerComponent)(new _e.wA(ba,(F,{options:q})=>Wo(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),q),"PUBLIC")),(0,pe._registerComponent)(new _e.wA("analytics-internal",function N(F){try{const q=F.getProvider(ba).getImmediate();return{logEvent:(ge,Ue,tt)=>function Ru(N,F,q,ge){N=(0,V.m9)(N),function _i(N,F,q,ge,Ue){return Mo.apply(this,arguments)}(Wi,Zn[N.app.options.appId],F,q,ge).catch(Ue=>ki.error(Ue))}(q,ge,Ue,tt)}}catch(q){throw Hn.create("interop-component-reg-failed",{reason:q})}},"PRIVATE")),(0,pe.registerVersion)(Gr,"0.9.0"),(0,pe.registerVersion)(Gr,"0.9.0","esm2017")}();var Ca=P(4408),cu=P(7565);const el=new class qa extends cu.v{}(class za extends Ca.o{constructor(F,q){super(F,q),this.scheduler=F,this.work=q}schedule(F,q=0){return q>0?super.schedule(F,q):(this.delay=q,this.state=F,this.scheduler.flush(this),this)}execute(F,q){return q>0||this.closed?super.execute(F,q):this._execute(F,q)}requestAsyncId(F,q,ge=0){return null!=ge&&ge>0||null==ge&&this.delay>0?super.requestAsyncId(F,q,ge):(F.flush(this),0)}});var Fs=P(4986),hu=P(8505),Sr=P(5363),Da=P(9468);const wo=new f.GfV("7.5.0"),Wa="__angularfire_symbol__analyticsIsSupportedValue",Ki="__angularfire_symbol__analyticsIsSupported",Ls="__angularfire_symbol__remoteConfigIsSupportedValue",b="__angularfire_symbol__remoteConfigIsSupported",E="__angularfire_symbol__messagingIsSupportedValue",y="__angularfire_symbol__messagingIsSupported";function Re(N,F,q){if(F){if(1===F.length)return F[0];const tt=F.filter(Dt=>Dt.app===q);if(1===tt.length)return tt[0]}return q.container.getProvider(N).getImmediate({optional:!0})}globalThis[Ki]||(globalThis[Ki]=Ss().then(N=>globalThis[Wa]=N).catch(()=>globalThis[Wa]=!1)),globalThis[y]||(globalThis[y]=ro().then(N=>globalThis[E]=N).catch(()=>globalThis[E]=!1)),globalThis[b]||(globalThis[b]=ws().then(N=>globalThis[Ls]=N).catch(()=>globalThis[Ls]=!1));const vt=(N,F)=>{const q=F?[F]:(0,h.C6)(),ge=[];return q.forEach(Ue=>{Ue.container.getProvider(N).instances.forEach(Dt=>{ge.includes(Dt)||ge.push(Dt)})}),ge};function zt(){}class Xt{constructor(F,q=el){this.zone=F,this.delegate=q}now(){return this.delegate.now()}schedule(F,q,ge){const Ue=this.zone;return this.delegate.schedule(function(Dt){Ue.runGuarded(()=>{F.apply(this,[Dt])})},q,ge)}}class Xn{constructor(F){this.zone=F,this.task=null}call(F,q){const ge=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zt,{},zt,zt)),q.pipe((0,hu.b)({next:ge,complete:ge,error:ge})).subscribe(F).add(ge)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ti=(()=>{class N{constructor(q){this.ngZone=q,this.outsideAngular=q.runOutsideAngular(()=>new Xt(Zone.current)),this.insideAngular=q.run(()=>new Xt(Zone.current,Fs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return N.\u0275fac=function(q){return new(q||N)(f.LFG(f.R0b))},N.\u0275prov=f.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();function oi(){const N=globalThis.\u0275AngularFireScheduler;if(!N)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return N}function ao(N){return N.pipe((0,Sr.Q)(oi().outsideAngular))}function Vo(N){return oi(),function Eo(N){return function(q){return(q=q.lift(new Xn(N.ngZone))).pipe((0,Da.R)(N.outsideAngular),(0,Sr.Q)(N.insideAngular))}}(oi())(N)}},2090:(kt,Ze,P)=>{P.d(Ze,{$s:()=>Gt,BH:()=>Yt,G6:()=>Be,L:()=>ye,LL:()=>Zt,Pz:()=>Ot,Sg:()=>Nt,UG:()=>Ke,US:()=>_e,ZB:()=>te,ZR:()=>Et,aH:()=>Ct,b$:()=>xe,eu:()=>Qe,hl:()=>at,jU:()=>lt,m9:()=>rn,ne:()=>rt,pd:()=>Ft,r3:()=>Jt,ru:()=>Ne,tV:()=>le,uI:()=>ze,vZ:()=>Fe,w1:()=>Xe,xO:()=>ut,xb:()=>er,z$:()=>nt,zI:()=>he,zd:()=>At});const pe=function(be){const fe=[];let Se=0;for(let st=0;st<be.length;st++){let Ge=be.charCodeAt(st);Ge<128?fe[Se++]=Ge:Ge<2048?(fe[Se++]=Ge>>6|192,fe[Se++]=63&Ge|128):55296==(64512&Ge)&&st+1<be.length&&56320==(64512&be.charCodeAt(st+1))?(Ge=65536+((1023&Ge)<<10)+(1023&be.charCodeAt(++st)),fe[Se++]=Ge>>18|240,fe[Se++]=Ge>>12&63|128,fe[Se++]=Ge>>6&63|128,fe[Se++]=63&Ge|128):(fe[Se++]=Ge>>12|224,fe[Se++]=Ge>>6&63|128,fe[Se++]=63&Ge|128)}return fe},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(be,fe){if(!Array.isArray(be))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Se=fe?this.byteToCharMapWebSafe_:this.byteToCharMap_,st=[];for(let Ge=0;Ge<be.length;Ge+=3){const Rt=be[Ge],yn=Ge+1<be.length,Ln=yn?be[Ge+1]:0,ar=Ge+2<be.length,ln=ar?be[Ge+2]:0;let de=(15&Ln)<<2|ln>>6,Je=63&ln;ar||(Je=64,yn||(de=64)),st.push(Se[Rt>>2],Se[(3&Rt)<<4|Ln>>4],Se[de],Se[Je])}return st.join("")},encodeString(be,fe){return this.HAS_NATIVE_SUPPORT&&!fe?btoa(be):this.encodeByteArray(pe(be),fe)},decodeString(be,fe){return this.HAS_NATIVE_SUPPORT&&!fe?atob(be):function(be){const fe=[];let Se=0,st=0;for(;Se<be.length;){const Ge=be[Se++];if(Ge<128)fe[st++]=String.fromCharCode(Ge);else if(Ge>191&&Ge<224){const Rt=be[Se++];fe[st++]=String.fromCharCode((31&Ge)<<6|63&Rt)}else if(Ge>239&&Ge<365){const ar=((7&Ge)<<18|(63&be[Se++])<<12|(63&be[Se++])<<6|63&be[Se++])-65536;fe[st++]=String.fromCharCode(55296+(ar>>10)),fe[st++]=String.fromCharCode(56320+(1023&ar))}else{const Rt=be[Se++],yn=be[Se++];fe[st++]=String.fromCharCode((15&Ge)<<12|(63&Rt)<<6|63&yn)}}return fe.join("")}(this.decodeStringToByteArray(be,fe))},decodeStringToByteArray(be,fe){this.init_();const Se=fe?this.charToByteMapWebSafe_:this.charToByteMap_,st=[];for(let Ge=0;Ge<be.length;){const Rt=Se[be.charAt(Ge++)],Ln=Ge<be.length?Se[be.charAt(Ge)]:0;++Ge;const ln=Ge<be.length?Se[be.charAt(Ge)]:64;++Ge;const ve=Ge<be.length?Se[be.charAt(Ge)]:64;if(++Ge,null==Rt||null==Ln||null==ln||null==ve)throw Error();st.push(Rt<<2|Ln>>4),64!==ln&&(st.push(Ln<<4&240|ln>>2),64!==ve&&st.push(ln<<6&192|ve))}return st},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let be=0;be<this.ENCODED_VALS.length;be++)this.byteToCharMap_[be]=this.ENCODED_VALS.charAt(be),this.charToByteMap_[this.byteToCharMap_[be]]=be,this.byteToCharMapWebSafe_[be]=this.ENCODED_VALS_WEBSAFE.charAt(be),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[be]]=be,be>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(be)]=be,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(be)]=be)}}},ye=function(be){return function(be){const fe=pe(be);return _e.encodeByteArray(fe,!0)}(be).replace(/\./g,"")},le=function(be){try{return _e.decodeString(be,!0)}catch(fe){console.error("base64Decode failed: ",fe)}return null};function te(be,fe){if(!(fe instanceof Object))return fe;switch(fe.constructor){case Date:return new Date(fe.getTime());case Object:void 0===be&&(be={});break;case Array:be=[];break;default:return fe}for(const Se in fe)!fe.hasOwnProperty(Se)||!me(Se)||(be[Se]=te(be[Se],fe[Se]));return be}function me(be){return"__proto__"!==be}function nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ze(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function Ke(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function lt(){return"object"==typeof self&&self.self===self}function Ne(){const be="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof be&&void 0!==be.id}function xe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xe(){const be=nt();return be.indexOf("MSIE ")>=0||be.indexOf("Trident/")>=0}function Be(){return!Ke()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function at(){try{return"object"==typeof indexedDB}catch{return!1}}function Qe(){return new Promise((be,fe)=>{try{let Se=!0;const st="validate-browser-context-for-indexeddb-analytics-module",Ge=self.indexedDB.open(st);Ge.onsuccess=()=>{Ge.result.close(),Se||self.indexedDB.deleteDatabase(st),be(!0)},Ge.onupgradeneeded=()=>{Se=!1},Ge.onerror=()=>{var Rt;fe((null===(Rt=Ge.error)||void 0===Rt?void 0:Rt.message)||"")}}catch(Se){fe(Se)}})}function he(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const De=()=>{try{return function Oe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const be=process.env.__FIREBASE_DEFAULTS__;return be?JSON.parse(be):void 0})()||(()=>{if(typeof document>"u")return;let be;try{be=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const fe=be&&le(be[1]);return fe&&JSON.parse(fe)})()}catch(be){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${be}`)}},Ct=()=>{var be;return null===(be=De())||void 0===be?void 0:be.config},Ot=be=>{var fe;return null===(fe=De())||void 0===fe?void 0:fe[`_${be}`]};class Yt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((fe,Se)=>{this.resolve=fe,this.reject=Se})}wrapCallback(fe){return(Se,st)=>{Se?this.reject(Se):this.resolve(st),"function"==typeof fe&&(this.promise.catch(()=>{}),1===fe.length?fe(Se):fe(Se,st))}}}function Nt(be,fe){if(be.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const st=fe||"demo-project",Ge=be.iat||0,Rt=be.sub||be.user_id;if(!Rt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const yn=Object.assign({iss:`https://securetoken.google.com/${st}`,aud:st,iat:Ge,exp:Ge+3600,auth_time:Ge,sub:Rt,user_id:Rt,firebase:{sign_in_provider:"custom",identities:{}}},be);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(yn)),""].join(".")}class Et extends Error{constructor(fe,Se,st){super(Se),this.code=fe,this.customData=st,this.name="FirebaseError",Object.setPrototypeOf(this,Et.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zt.prototype.create)}}class Zt{constructor(fe,Se,st){this.service=fe,this.serviceName=Se,this.errors=st}create(fe,...Se){const st=Se[0]||{},Ge=`${this.service}/${fe}`,Rt=this.errors[fe],yn=Rt?function Wt(be,fe){return be.replace(bn,(Se,st)=>{const Ge=fe[st];return null!=Ge?String(Ge):`<${st}?>`})}(Rt,st):"Error";return new Et(Ge,`${this.serviceName}: ${yn} (${Ge}).`,st)}}const bn=/\{\$([^}]+)}/g;function Jt(be,fe){return Object.prototype.hasOwnProperty.call(be,fe)}function er(be){for(const fe in be)if(Object.prototype.hasOwnProperty.call(be,fe))return!1;return!0}function Fe(be,fe){if(be===fe)return!0;const Se=Object.keys(be),st=Object.keys(fe);for(const Ge of Se){if(!st.includes(Ge))return!1;const Rt=be[Ge],yn=fe[Ge];if(ie(Rt)&&ie(yn)){if(!Fe(Rt,yn))return!1}else if(Rt!==yn)return!1}for(const Ge of st)if(!Se.includes(Ge))return!1;return!0}function ie(be){return null!==be&&"object"==typeof be}function ut(be){const fe=[];for(const[Se,st]of Object.entries(be))Array.isArray(st)?st.forEach(Ge=>{fe.push(encodeURIComponent(Se)+"="+encodeURIComponent(Ge))}):fe.push(encodeURIComponent(Se)+"="+encodeURIComponent(st));return fe.length?"&"+fe.join("&"):""}function At(be){const fe={};return be.replace(/^\?/,"").split("&").forEach(st=>{if(st){const[Ge,Rt]=st.split("=");fe[decodeURIComponent(Ge)]=decodeURIComponent(Rt)}}),fe}function Ft(be){const fe=be.indexOf("?");if(!fe)return"";const Se=be.indexOf("#",fe);return be.substring(fe,Se>0?Se:void 0)}function rt(be,fe){const Se=new qe(be,fe);return Se.subscribe.bind(Se)}class qe{constructor(fe,Se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Se,this.task.then(()=>{fe(this)}).catch(st=>{this.error(st)})}next(fe){this.forEachObserver(Se=>{Se.next(fe)})}error(fe){this.forEachObserver(Se=>{Se.error(fe)}),this.close(fe)}complete(){this.forEachObserver(fe=>{fe.complete()}),this.close()}subscribe(fe,Se,st){let Ge;if(void 0===fe&&void 0===Se&&void 0===st)throw new Error("Missing Observer.");Ge=function Ut(be,fe){if("object"!=typeof be||null===be)return!1;for(const Se of fe)if(Se in be&&"function"==typeof be[Se])return!0;return!1}(fe,["next","error","complete"])?fe:{next:fe,error:Se,complete:st},void 0===Ge.next&&(Ge.next=Er),void 0===Ge.error&&(Ge.error=Er),void 0===Ge.complete&&(Ge.complete=Er);const Rt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ge.error(this.finalError):Ge.complete()}catch{}}),this.observers.push(Ge),Rt}unsubscribeOne(fe){void 0===this.observers||void 0===this.observers[fe]||(delete this.observers[fe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(fe){if(!this.finalized)for(let Se=0;Se<this.observers.length;Se++)this.sendOne(Se,fe)}sendOne(fe,Se){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[fe])try{Se(this.observers[fe])}catch(st){typeof console<"u"&&console.error&&console.error(st)}})}close(fe){this.finalized||(this.finalized=!0,void 0!==fe&&(this.finalError=fe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Er(){}function Gt(be,fe=1e3,Se=2){const st=fe*Math.pow(Se,be),Ge=Math.round(.5*st*(Math.random()-.5)*2);return Math.min(144e5,st+Ge)}function rn(be){return be&&be._delegate?be._delegate:be}},9751:(kt,Ze,P)=>{P.d(Ze,{y:()=>ye});var f=P(2961),h=P(727),C=P(8822),pe=P(9635),V=P(2416),_e=P(576),Ie=P(2806);let ye=(()=>{class me{constructor(ze){ze&&(this._subscribe=ze)}lift(ze){const Ke=new me;return Ke.source=this,Ke.operator=ze,Ke}subscribe(ze,Ke,lt){const Ne=function te(me){return me&&me instanceof f.Lv||function re(me){return me&&(0,_e.m)(me.next)&&(0,_e.m)(me.error)&&(0,_e.m)(me.complete)}(me)&&(0,h.Nn)(me)}(ze)?ze:new f.Hp(ze,Ke,lt);return(0,Ie.x)(()=>{const{operator:xe,source:Ve}=this;Ne.add(xe?xe.call(Ne,Ve):Ve?this._subscribe(Ne):this._trySubscribe(Ne))}),Ne}_trySubscribe(ze){try{return this._subscribe(ze)}catch(Ke){ze.error(Ke)}}forEach(ze,Ke){return new(Ke=le(Ke))((lt,Ne)=>{const xe=new f.Hp({next:Ve=>{try{ze(Ve)}catch(Xe){Ne(Xe),xe.unsubscribe()}},error:Ne,complete:lt});this.subscribe(xe)})}_subscribe(ze){var Ke;return null===(Ke=this.source)||void 0===Ke?void 0:Ke.subscribe(ze)}[C.L](){return this}pipe(...ze){return(0,pe.U)(ze)(this)}toPromise(ze){return new(ze=le(ze))((Ke,lt)=>{let Ne;this.subscribe(xe=>Ne=xe,xe=>lt(xe),()=>Ke(Ne))})}}return me.create=nt=>new me(nt),me})();function le(me){var nt;return null!==(nt=me??V.v.Promise)&&void 0!==nt?nt:Promise}},7579:(kt,Ze,P)=>{P.d(Ze,{x:()=>Ie});var f=P(9751),h=P(727);const pe=(0,P(3888).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var V=P(8737),_e=P(2806);let Ie=(()=>{class le extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(te){const me=new ye(this,this);return me.operator=te,me}_throwIfClosed(){if(this.closed)throw new pe}next(te){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const me of this.currentObservers)me.next(te)}})}error(te){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=te;const{observers:me}=this;for(;me.length;)me.shift().error(te)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:te}=this;for(;te.length;)te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var te;return(null===(te=this.observers)||void 0===te?void 0:te.length)>0}_trySubscribe(te){return this._throwIfClosed(),super._trySubscribe(te)}_subscribe(te){return this._throwIfClosed(),this._checkFinalizedStatuses(te),this._innerSubscribe(te)}_innerSubscribe(te){const{hasError:me,isStopped:nt,observers:ze}=this;return me||nt?h.Lc:(this.currentObservers=null,ze.push(te),new h.w0(()=>{this.currentObservers=null,(0,V.P)(ze,te)}))}_checkFinalizedStatuses(te){const{hasError:me,thrownError:nt,isStopped:ze}=this;me?te.error(nt):ze&&te.complete()}asObservable(){const te=new f.y;return te.source=this,te}}return le.create=(re,te)=>new ye(re,te),le})();class ye extends Ie{constructor(re,te){super(),this.destination=re,this.source=te}next(re){var te,me;null===(me=null===(te=this.destination)||void 0===te?void 0:te.next)||void 0===me||me.call(te,re)}error(re){var te,me;null===(me=null===(te=this.destination)||void 0===te?void 0:te.error)||void 0===me||me.call(te,re)}complete(){var re,te;null===(te=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===te||te.call(re)}_subscribe(re){var te,me;return null!==(me=null===(te=this.source)||void 0===te?void 0:te.subscribe(re))&&void 0!==me?me:h.Lc}}},2961:(kt,Ze,P)=>{P.d(Ze,{Hp:()=>lt,Lv:()=>me});var f=P(576),h=P(727),C=P(2416),pe=P(7849);function V(){}const _e=le("C",void 0,void 0);function le(oe,He,Be){return{kind:oe,value:He,error:Be}}var re=P(3410),te=P(2806);class me extends h.w0{constructor(He){super(),this.isStopped=!1,He?(this.destination=He,(0,h.Nn)(He)&&He.add(this)):this.destination=Xe}static create(He,Be,at){return new lt(He,Be,at)}next(He){this.isStopped?Ve(function ye(oe){return le("N",oe,void 0)}(He),this):this._next(He)}error(He){this.isStopped?Ve(function Ie(oe){return le("E",void 0,oe)}(He),this):(this.isStopped=!0,this._error(He))}complete(){this.isStopped?Ve(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(He){this.destination.next(He)}_error(He){try{this.destination.error(He)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const nt=Function.prototype.bind;function ze(oe,He){return nt.call(oe,He)}class Ke{constructor(He){this.partialObserver=He}next(He){const{partialObserver:Be}=this;if(Be.next)try{Be.next(He)}catch(at){Ne(at)}}error(He){const{partialObserver:Be}=this;if(Be.error)try{Be.error(He)}catch(at){Ne(at)}else Ne(He)}complete(){const{partialObserver:He}=this;if(He.complete)try{He.complete()}catch(Be){Ne(Be)}}}class lt extends me{constructor(He,Be,at){let Qe;if(super(),(0,f.m)(He)||!He)Qe={next:He??void 0,error:Be??void 0,complete:at??void 0};else{let he;this&&C.v.useDeprecatedNextContext?(he=Object.create(He),he.unsubscribe=()=>this.unsubscribe(),Qe={next:He.next&&ze(He.next,he),error:He.error&&ze(He.error,he),complete:He.complete&&ze(He.complete,he)}):Qe=He}this.destination=new Ke(Qe)}}function Ne(oe){C.v.useDeprecatedSynchronousErrorHandling?(0,te.O)(oe):(0,pe.h)(oe)}function Ve(oe,He){const{onStoppedNotification:Be}=C.v;Be&&re.z.setTimeout(()=>Be(oe,He))}const Xe={closed:!0,next:V,error:function xe(oe){throw oe},complete:V}},727:(kt,Ze,P)=>{P.d(Ze,{Lc:()=>_e,w0:()=>V,Nn:()=>Ie});var f=P(576);const C=(0,P(3888).d)(le=>function(te){le(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((me,nt)=>`${nt+1}) ${me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te});var pe=P(8737);class V{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:te}=this;if(te)if(this._parentage=null,Array.isArray(te))for(const ze of te)ze.remove(this);else te.remove(this);const{initialTeardown:me}=this;if((0,f.m)(me))try{me()}catch(ze){re=ze instanceof C?ze.errors:[ze]}const{_finalizers:nt}=this;if(nt){this._finalizers=null;for(const ze of nt)try{ye(ze)}catch(Ke){re=re??[],Ke instanceof C?re=[...re,...Ke.errors]:re.push(Ke)}}if(re)throw new C(re)}}add(re){var te;if(re&&re!==this)if(this.closed)ye(re);else{if(re instanceof V){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(te=this._finalizers)&&void 0!==te?te:[]).push(re)}}_hasParent(re){const{_parentage:te}=this;return te===re||Array.isArray(te)&&te.includes(re)}_addParent(re){const{_parentage:te}=this;this._parentage=Array.isArray(te)?(te.push(re),te):te?[te,re]:re}_removeParent(re){const{_parentage:te}=this;te===re?this._parentage=null:Array.isArray(te)&&(0,pe.P)(te,re)}remove(re){const{_finalizers:te}=this;te&&(0,pe.P)(te,re),re instanceof V&&re._removeParent(this)}}V.EMPTY=(()=>{const le=new V;return le.closed=!0,le})();const _e=V.EMPTY;function Ie(le){return le instanceof V||le&&"closed"in le&&(0,f.m)(le.remove)&&(0,f.m)(le.add)&&(0,f.m)(le.unsubscribe)}function ye(le){(0,f.m)(le)?le():le.unsubscribe()}},2416:(kt,Ze,P)=>{P.d(Ze,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(kt,Ze,P)=>{P.d(Ze,{z:()=>V});var f=P(8189),C=P(7669),pe=P(8996);function V(..._e){return function h(){return(0,f.J)(1)}()((0,pe.D)(_e,(0,C.yG)(_e)))}},515:(kt,Ze,P)=>{P.d(Ze,{E:()=>h});const h=new(P(9751).y)(V=>V.complete())},8996:(kt,Ze,P)=>{P.d(Ze,{D:()=>He});var f=P(8421),h=P(5363),C=P(9468),_e=P(9751),ye=P(2202),le=P(576),re=P(9672);function me(Be,at){if(!Be)throw new Error("Iterable cannot be null");return new _e.y(Qe=>{(0,re.f)(Qe,at,()=>{const he=Be[Symbol.asyncIterator]();(0,re.f)(Qe,at,()=>{he.next().then(Oe=>{Oe.done?Qe.complete():Qe.next(Oe.value)})},0,!0)})})}var nt=P(3670),ze=P(8239),Ke=P(1144),lt=P(6495),Ne=P(2206),xe=P(4532),Ve=P(3260);function He(Be,at){return at?function oe(Be,at){if(null!=Be){if((0,nt.c)(Be))return function pe(Be,at){return(0,f.Xf)(Be).pipe((0,C.R)(at),(0,h.Q)(at))}(Be,at);if((0,Ke.z)(Be))return function Ie(Be,at){return new _e.y(Qe=>{let he=0;return at.schedule(function(){he===Be.length?Qe.complete():(Qe.next(Be[he++]),Qe.closed||this.schedule())})})}(Be,at);if((0,ze.t)(Be))return function V(Be,at){return(0,f.Xf)(Be).pipe((0,C.R)(at),(0,h.Q)(at))}(Be,at);if((0,Ne.D)(Be))return me(Be,at);if((0,lt.T)(Be))return function te(Be,at){return new _e.y(Qe=>{let he;return(0,re.f)(Qe,at,()=>{he=Be[ye.h](),(0,re.f)(Qe,at,()=>{let Oe,Y;try{({value:Oe,done:Y}=he.next())}catch(se){return void Qe.error(se)}Y?Qe.complete():Qe.next(Oe)},0,!0)}),()=>(0,le.m)(he?.return)&&he.return()})}(Be,at);if((0,Ve.L)(Be))return function Xe(Be,at){return me((0,Ve.Q)(Be),at)}(Be,at)}throw(0,xe.z)(Be)}(Be,at):(0,f.Xf)(Be)}},8421:(kt,Ze,P)=>{P.d(Ze,{Xf:()=>nt});var f=P(655),h=P(1144),C=P(8239),pe=P(9751),V=P(3670),_e=P(2206),Ie=P(4532),ye=P(6495),le=P(3260),re=P(576),te=P(7849),me=P(8822);function nt(oe){if(oe instanceof pe.y)return oe;if(null!=oe){if((0,V.c)(oe))return function ze(oe){return new pe.y(He=>{const Be=oe[me.L]();if((0,re.m)(Be.subscribe))return Be.subscribe(He);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(oe);if((0,h.z)(oe))return function Ke(oe){return new pe.y(He=>{for(let Be=0;Be<oe.length&&!He.closed;Be++)He.next(oe[Be]);He.complete()})}(oe);if((0,C.t)(oe))return function lt(oe){return new pe.y(He=>{oe.then(Be=>{He.closed||(He.next(Be),He.complete())},Be=>He.error(Be)).then(null,te.h)})}(oe);if((0,_e.D)(oe))return xe(oe);if((0,ye.T)(oe))return function Ne(oe){return new pe.y(He=>{for(const Be of oe)if(He.next(Be),He.closed)return;He.complete()})}(oe);if((0,le.L)(oe))return function Ve(oe){return xe((0,le.Q)(oe))}(oe)}throw(0,Ie.z)(oe)}function xe(oe){return new pe.y(He=>{(function Xe(oe,He){var Be,at,Qe,he;return(0,f.mG)(this,void 0,void 0,function*(){try{for(Be=(0,f.KL)(oe);!(at=yield Be.next()).done;)if(He.next(at.value),He.closed)return}catch(Oe){Qe={error:Oe}}finally{try{at&&!at.done&&(he=Be.return)&&(yield he.call(Be))}finally{if(Qe)throw Qe.error}}He.complete()})})(oe,He).catch(Be=>He.error(Be))})}},6451:(kt,Ze,P)=>{P.d(Ze,{T:()=>_e});var f=P(8189),h=P(8421),C=P(515),pe=P(7669),V=P(8996);function _e(...Ie){const ye=(0,pe.yG)(Ie),le=(0,pe._6)(Ie,1/0),re=Ie;return re.length?1===re.length?(0,h.Xf)(re[0]):(0,f.J)(le)((0,V.D)(re,ye)):C.E}},9646:(kt,Ze,P)=>{P.d(Ze,{of:()=>C});var f=P(7669),h=P(8996);function C(...pe){const V=(0,f.yG)(pe);return(0,h.D)(pe,V)}},5403:(kt,Ze,P)=>{P.d(Ze,{x:()=>h});var f=P(2961);function h(pe,V,_e,Ie,ye){return new C(pe,V,_e,Ie,ye)}class C extends f.Lv{constructor(V,_e,Ie,ye,le,re){super(V),this.onFinalize=le,this.shouldUnsubscribe=re,this._next=_e?function(te){try{_e(te)}catch(me){V.error(me)}}:super._next,this._error=ye?function(te){try{ye(te)}catch(me){V.error(me)}finally{this.unsubscribe()}}:super._error,this._complete=Ie?function(){try{Ie()}catch(te){V.error(te)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var V;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(V=this.onFinalize)||void 0===V||V.call(this))}}}},6590:(kt,Ze,P)=>{P.d(Ze,{d:()=>C});var f=P(4482),h=P(5403);function C(pe){return(0,f.e)((V,_e)=>{let Ie=!1;V.subscribe((0,h.x)(_e,ye=>{Ie=!0,_e.next(ye)},()=>{Ie||_e.next(pe),_e.complete()}))})}},9300:(kt,Ze,P)=>{P.d(Ze,{h:()=>C});var f=P(4482),h=P(5403);function C(pe,V){return(0,f.e)((_e,Ie)=>{let ye=0;_e.subscribe((0,h.x)(Ie,le=>pe.call(V,le,ye++)&&Ie.next(le)))})}},590:(kt,Ze,P)=>{P.d(Ze,{P:()=>Ie});var f=P(6805),h=P(9300),C=P(5698),pe=P(6590),V=P(8068),_e=P(4671);function Ie(ye,le){const re=arguments.length>=2;return te=>te.pipe(ye?(0,h.h)((me,nt)=>ye(me,nt,te)):_e.y,(0,C.q)(1),re?(0,pe.d)(le):(0,V.T)(()=>new f.K))}},4004:(kt,Ze,P)=>{P.d(Ze,{U:()=>C});var f=P(4482),h=P(5403);function C(pe,V){return(0,f.e)((_e,Ie)=>{let ye=0;_e.subscribe((0,h.x)(Ie,le=>{Ie.next(pe.call(V,le,ye++))}))})}},8189:(kt,Ze,P)=>{P.d(Ze,{J:()=>C});var f=P(5577),h=P(4671);function C(pe=1/0){return(0,f.z)(h.y,pe)}},5577:(kt,Ze,P)=>{P.d(Ze,{z:()=>ye});var f=P(4004),h=P(8421),C=P(4482),pe=P(9672),V=P(5403),Ie=P(576);function ye(le,re,te=1/0){return(0,Ie.m)(re)?ye((me,nt)=>(0,f.U)((ze,Ke)=>re(me,ze,nt,Ke))((0,h.Xf)(le(me,nt))),te):("number"==typeof re&&(te=re),(0,C.e)((me,nt)=>function _e(le,re,te,me,nt,ze,Ke,lt){const Ne=[];let xe=0,Ve=0,Xe=!1;const oe=()=>{Xe&&!Ne.length&&!xe&&re.complete()},He=at=>xe<me?Be(at):Ne.push(at),Be=at=>{ze&&re.next(at),xe++;let Qe=!1;(0,h.Xf)(te(at,Ve++)).subscribe((0,V.x)(re,he=>{nt?.(he),ze?He(he):re.next(he)},()=>{Qe=!0},void 0,()=>{if(Qe)try{for(xe--;Ne.length&&xe<me;){const he=Ne.shift();Ke?(0,pe.f)(re,Ke,()=>Be(he)):Be(he)}oe()}catch(he){re.error(he)}}))};return le.subscribe((0,V.x)(re,He,()=>{Xe=!0,oe()})),()=>{lt?.()}}(me,nt,le,te)))}},5363:(kt,Ze,P)=>{P.d(Ze,{Q:()=>pe});var f=P(9672),h=P(4482),C=P(5403);function pe(V,_e=0){return(0,h.e)((Ie,ye)=>{Ie.subscribe((0,C.x)(ye,le=>(0,f.f)(ye,V,()=>ye.next(le),_e),()=>(0,f.f)(ye,V,()=>ye.complete(),_e),le=>(0,f.f)(ye,V,()=>ye.error(le),_e)))})}},5026:(kt,Ze,P)=>{P.d(Ze,{R:()=>pe});var f=P(4482),h=P(5403);function C(V,_e,Ie,ye,le){return(re,te)=>{let me=Ie,nt=_e,ze=0;re.subscribe((0,h.x)(te,Ke=>{const lt=ze++;nt=me?V(nt,Ke,lt):(me=!0,Ke),ye&&te.next(nt)},le&&(()=>{me&&te.next(nt),te.complete()})))}}function pe(V,_e){return(0,f.e)(C(V,_e,arguments.length>=2,!0))}},3099:(kt,Ze,P)=>{P.d(Ze,{B:()=>V});var f=P(8421),h=P(7579),C=P(2961),pe=P(4482);function V(Ie={}){const{connector:ye=(()=>new h.x),resetOnError:le=!0,resetOnComplete:re=!0,resetOnRefCountZero:te=!0}=Ie;return me=>{let nt,ze,Ke,lt=0,Ne=!1,xe=!1;const Ve=()=>{ze?.unsubscribe(),ze=void 0},Xe=()=>{Ve(),nt=Ke=void 0,Ne=xe=!1},oe=()=>{const He=nt;Xe(),He?.unsubscribe()};return(0,pe.e)((He,Be)=>{lt++,!xe&&!Ne&&Ve();const at=Ke=Ke??ye();Be.add(()=>{lt--,0===lt&&!xe&&!Ne&&(ze=_e(oe,te))}),at.subscribe(Be),!nt&&lt>0&&(nt=new C.Hp({next:Qe=>at.next(Qe),error:Qe=>{xe=!0,Ve(),ze=_e(Xe,le,Qe),at.error(Qe)},complete:()=>{Ne=!0,Ve(),ze=_e(Xe,re),at.complete()}}),(0,f.Xf)(He).subscribe(nt))})(me)}}function _e(Ie,ye,...le){if(!0===ye)return void Ie();if(!1===ye)return;const re=new C.Hp({next:()=>{re.unsubscribe(),Ie()}});return ye(...le).subscribe(re)}},8675:(kt,Ze,P)=>{P.d(Ze,{O:()=>pe});var f=P(7272),h=P(7669),C=P(4482);function pe(...V){const _e=(0,h.yG)(V);return(0,C.e)((Ie,ye)=>{(_e?(0,f.z)(V,Ie,_e):(0,f.z)(V,Ie)).subscribe(ye)})}},9468:(kt,Ze,P)=>{P.d(Ze,{R:()=>h});var f=P(4482);function h(C,pe=0){return(0,f.e)((V,_e)=>{_e.add(C.schedule(()=>V.subscribe(_e),pe))})}},3900:(kt,Ze,P)=>{P.d(Ze,{w:()=>pe});var f=P(8421),h=P(4482),C=P(5403);function pe(V,_e){return(0,h.e)((Ie,ye)=>{let le=null,re=0,te=!1;const me=()=>te&&!le&&ye.complete();Ie.subscribe((0,C.x)(ye,nt=>{le?.unsubscribe();let ze=0;const Ke=re++;(0,f.Xf)(V(nt,Ke)).subscribe(le=(0,C.x)(ye,lt=>ye.next(_e?_e(nt,lt,Ke,ze++):lt),()=>{le=null,me()}))},()=>{te=!0,me()}))})}},5698:(kt,Ze,P)=>{P.d(Ze,{q:()=>pe});var f=P(515),h=P(4482),C=P(5403);function pe(V){return V<=0?()=>f.E:(0,h.e)((_e,Ie)=>{let ye=0;_e.subscribe((0,C.x)(Ie,le=>{++ye<=V&&(Ie.next(le),V<=ye&&Ie.complete())}))})}},8505:(kt,Ze,P)=>{P.d(Ze,{b:()=>V});var f=P(576),h=P(4482),C=P(5403),pe=P(4671);function V(_e,Ie,ye){const le=(0,f.m)(_e)||Ie||ye?{next:_e,error:Ie,complete:ye}:_e;return le?(0,h.e)((re,te)=>{var me;null===(me=le.subscribe)||void 0===me||me.call(le);let nt=!0;re.subscribe((0,C.x)(te,ze=>{var Ke;null===(Ke=le.next)||void 0===Ke||Ke.call(le,ze),te.next(ze)},()=>{var ze;nt=!1,null===(ze=le.complete)||void 0===ze||ze.call(le),te.complete()},ze=>{var Ke;nt=!1,null===(Ke=le.error)||void 0===Ke||Ke.call(le,ze),te.error(ze)},()=>{var ze,Ke;nt&&(null===(ze=le.unsubscribe)||void 0===ze||ze.call(le)),null===(Ke=le.finalize)||void 0===Ke||Ke.call(le)}))}):pe.y}},8068:(kt,Ze,P)=>{P.d(Ze,{T:()=>pe});var f=P(6805),h=P(4482),C=P(5403);function pe(_e=V){return(0,h.e)((Ie,ye)=>{let le=!1;Ie.subscribe((0,C.x)(ye,re=>{le=!0,ye.next(re)},()=>le?ye.complete():ye.error(_e())))})}function V(){return new f.K}},4408:(kt,Ze,P)=>{P.d(Ze,{o:()=>V});var f=P(727);class h extends f.w0{constructor(Ie,ye){super()}schedule(Ie,ye=0){return this}}const C={setInterval(_e,Ie,...ye){const{delegate:le}=C;return le?.setInterval?le.setInterval(_e,Ie,...ye):setInterval(_e,Ie,...ye)},clearInterval(_e){const{delegate:Ie}=C;return(Ie?.clearInterval||clearInterval)(_e)},delegate:void 0};var pe=P(8737);class V extends h{constructor(Ie,ye){super(Ie,ye),this.scheduler=Ie,this.work=ye,this.pending=!1}schedule(Ie,ye=0){var le;if(this.closed)return this;this.state=Ie;const re=this.id,te=this.scheduler;return null!=re&&(this.id=this.recycleAsyncId(te,re,ye)),this.pending=!0,this.delay=ye,this.id=null!==(le=this.id)&&void 0!==le?le:this.requestAsyncId(te,this.id,ye),this}requestAsyncId(Ie,ye,le=0){return C.setInterval(Ie.flush.bind(Ie,this),le)}recycleAsyncId(Ie,ye,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return ye;null!=ye&&C.clearInterval(ye)}execute(Ie,ye){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(Ie,ye);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ie,ye){let re,le=!1;try{this.work(Ie)}catch(te){le=!0,re=te||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:Ie,scheduler:ye}=this,{actions:le}=ye;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.P)(le,this),null!=Ie&&(this.id=this.recycleAsyncId(ye,Ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(kt,Ze,P)=>{P.d(Ze,{v:()=>C});var f=P(6063);class h{constructor(V,_e=h.now){this.schedulerActionCtor=V,this.now=_e}schedule(V,_e=0,Ie){return new this.schedulerActionCtor(this,V).schedule(Ie,_e)}}h.now=f.l.now;class C extends h{constructor(V,_e=h.now){super(V,_e),this.actions=[],this._active=!1}flush(V){const{actions:_e}=this;if(this._active)return void _e.push(V);let Ie;this._active=!0;do{if(Ie=V.execute(V.state,V.delay))break}while(V=_e.shift());if(this._active=!1,Ie){for(;V=_e.shift();)V.unsubscribe();throw Ie}}}},4986:(kt,Ze,P)=>{P.d(Ze,{z:()=>C});var f=P(4408);const C=new(P(7565).v)(f.o)},6063:(kt,Ze,P)=>{P.d(Ze,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},3410:(kt,Ze,P)=>{P.d(Ze,{z:()=>f});const f={setTimeout(h,C,...pe){const{delegate:V}=f;return V?.setTimeout?V.setTimeout(h,C,...pe):setTimeout(h,C,...pe)},clearTimeout(h){const{delegate:C}=f;return(C?.clearTimeout||clearTimeout)(h)},delegate:void 0}},2202:(kt,Ze,P)=>{P.d(Ze,{h:()=>h});const h=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(kt,Ze,P)=>{P.d(Ze,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(kt,Ze,P)=>{P.d(Ze,{K:()=>h});const h=(0,P(3888).d)(C=>function(){C(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(kt,Ze,P)=>{P.d(Ze,{_6:()=>_e,jO:()=>pe,yG:()=>V});var f=P(576);function C(Ie){return Ie[Ie.length-1]}function pe(Ie){return(0,f.m)(C(Ie))?Ie.pop():void 0}function V(Ie){return function h(Ie){return Ie&&(0,f.m)(Ie.schedule)}(C(Ie))?Ie.pop():void 0}function _e(Ie,ye){return"number"==typeof C(Ie)?Ie.pop():ye}},4742:(kt,Ze,P)=>{P.d(Ze,{D:()=>V});const{isArray:f}=Array,{getPrototypeOf:h,prototype:C,keys:pe}=Object;function V(Ie){if(1===Ie.length){const ye=Ie[0];if(f(ye))return{args:ye,keys:null};if(function _e(Ie){return Ie&&"object"==typeof Ie&&h(Ie)===C}(ye)){const le=pe(ye);return{args:le.map(re=>ye[re]),keys:le}}}return{args:Ie,keys:null}}},8737:(kt,Ze,P)=>{function f(h,C){if(h){const pe=h.indexOf(C);0<=pe&&h.splice(pe,1)}}P.d(Ze,{P:()=>f})},3888:(kt,Ze,P)=>{function f(h){const pe=h(V=>{Error.call(V),V.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}P.d(Ze,{d:()=>f})},1810:(kt,Ze,P)=>{function f(h,C){return h.reduce((pe,V,_e)=>(pe[V]=C[_e],pe),{})}P.d(Ze,{n:()=>f})},2806:(kt,Ze,P)=>{P.d(Ze,{O:()=>pe,x:()=>C});var f=P(2416);let h=null;function C(V){if(f.v.useDeprecatedSynchronousErrorHandling){const _e=!h;if(_e&&(h={errorThrown:!1,error:null}),V(),_e){const{errorThrown:Ie,error:ye}=h;if(h=null,Ie)throw ye}}else V()}function pe(V){f.v.useDeprecatedSynchronousErrorHandling&&h&&(h.errorThrown=!0,h.error=V)}},9672:(kt,Ze,P)=>{function f(h,C,pe,V=0,_e=!1){const Ie=C.schedule(function(){pe(),_e?h.add(this.schedule(null,V)):this.unsubscribe()},V);if(h.add(Ie),!_e)return Ie}P.d(Ze,{f:()=>f})},4671:(kt,Ze,P)=>{function f(h){return h}P.d(Ze,{y:()=>f})},1144:(kt,Ze,P)=>{P.d(Ze,{z:()=>f});const f=h=>h&&"number"==typeof h.length&&"function"!=typeof h},2206:(kt,Ze,P)=>{P.d(Ze,{D:()=>h});var f=P(576);function h(C){return Symbol.asyncIterator&&(0,f.m)(C?.[Symbol.asyncIterator])}},576:(kt,Ze,P)=>{function f(h){return"function"==typeof h}P.d(Ze,{m:()=>f})},3670:(kt,Ze,P)=>{P.d(Ze,{c:()=>C});var f=P(8822),h=P(576);function C(pe){return(0,h.m)(pe[f.L])}},6495:(kt,Ze,P)=>{P.d(Ze,{T:()=>C});var f=P(2202),h=P(576);function C(pe){return(0,h.m)(pe?.[f.h])}},8239:(kt,Ze,P)=>{P.d(Ze,{t:()=>h});var f=P(576);function h(C){return(0,f.m)(C?.then)}},3260:(kt,Ze,P)=>{P.d(Ze,{L:()=>pe,Q:()=>C});var f=P(655),h=P(576);function C(V){return(0,f.FC)(this,arguments,function*(){const Ie=V.getReader();try{for(;;){const{value:ye,done:le}=yield(0,f.qq)(Ie.read());if(le)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(ye)}}finally{Ie.releaseLock()}})}function pe(V){return(0,h.m)(V?.getReader)}},4482:(kt,Ze,P)=>{P.d(Ze,{A:()=>h,e:()=>C});var f=P(576);function h(pe){return(0,f.m)(pe?.lift)}function C(pe){return V=>{if(h(V))return V.lift(function(_e){try{return pe(_e,this)}catch(Ie){this.error(Ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(kt,Ze,P)=>{P.d(Ze,{Z:()=>pe});var f=P(4004);const{isArray:h}=Array;function pe(V){return(0,f.U)(_e=>function C(V,_e){return h(_e)?V(..._e):V(_e)}(V,_e))}},9635:(kt,Ze,P)=>{P.d(Ze,{U:()=>C,z:()=>h});var f=P(4671);function h(...pe){return C(pe)}function C(pe){return 0===pe.length?f.y:1===pe.length?pe[0]:function(_e){return pe.reduce((Ie,ye)=>ye(Ie),_e)}}},7849:(kt,Ze,P)=>{P.d(Ze,{h:()=>C});var f=P(2416),h=P(3410);function C(pe){h.z.setTimeout(()=>{const{onUnhandledError:V}=f.v;if(!V)throw pe;V(pe)})}},4532:(kt,Ze,P)=>{function f(h){return new TypeError(`You provided ${null!==h&&"object"==typeof h?"an invalid object":`'${h}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Ze,{z:()=>f})},655:(kt,Ze,P)=>{function pe(Y,se){var ae={};for(var De in Y)Object.prototype.hasOwnProperty.call(Y,De)&&se.indexOf(De)<0&&(ae[De]=Y[De]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var ft=0;for(De=Object.getOwnPropertySymbols(Y);ft<De.length;ft++)se.indexOf(De[ft])<0&&Object.prototype.propertyIsEnumerable.call(Y,De[ft])&&(ae[De[ft]]=Y[De[ft]])}return ae}function ye(Y,se,ae,De){return new(ae||(ae=Promise))(function(mt,Ct){function Ot(Lt){try{Nt(De.next(Lt))}catch(Et){Ct(Et)}}function Yt(Lt){try{Nt(De.throw(Lt))}catch(Et){Ct(Et)}}function Nt(Lt){Lt.done?mt(Lt.value):function ft(mt){return mt instanceof ae?mt:new ae(function(Ct){Ct(mt)})}(Lt.value).then(Ot,Yt)}Nt((De=De.apply(Y,se||[])).next())})}function Ne(Y){return this instanceof Ne?(this.v=Y,this):new Ne(Y)}function xe(Y,se,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ft,De=ae.apply(Y,se||[]),mt=[];return ft={},Ct("next"),Ct("throw"),Ct("return"),ft[Symbol.asyncIterator]=function(){return this},ft;function Ct(Zt){De[Zt]&&(ft[Zt]=function(Wt){return new Promise(function(bn,Ht){mt.push([Zt,Wt,bn,Ht])>1||Ot(Zt,Wt)})})}function Ot(Zt,Wt){try{!function Yt(Zt){Zt.value instanceof Ne?Promise.resolve(Zt.value.v).then(Nt,Lt):Et(mt[0][2],Zt)}(De[Zt](Wt))}catch(bn){Et(mt[0][3],bn)}}function Nt(Zt){Ot("next",Zt)}function Lt(Zt){Ot("throw",Zt)}function Et(Zt,Wt){Zt(Wt),mt.shift(),mt.length&&Ot(mt[0][0],mt[0][1])}}function Xe(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,se=Y[Symbol.asyncIterator];return se?se.call(Y):(Y=function me(Y){var se="function"==typeof Symbol&&Symbol.iterator,ae=se&&Y[se],De=0;if(ae)return ae.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&De>=Y.length&&(Y=void 0),{value:Y&&Y[De++],done:!Y}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),ae={},De("next"),De("throw"),De("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function De(mt){ae[mt]=Y[mt]&&function(Ct){return new Promise(function(Ot,Yt){!function ft(mt,Ct,Ot,Yt){Promise.resolve(Yt).then(function(Nt){mt({value:Nt,done:Ot})},Ct)}(Ot,Yt,(Ct=Y[mt](Ct)).done,Ct.value)})}}}P.d(Ze,{FC:()=>xe,KL:()=>Xe,_T:()=>pe,mG:()=>ye,qq:()=>Ne})},6895:(kt,Ze,P)=>{P.d(Ze,{Do:()=>Ve,EM:()=>zi,HT:()=>pe,JF:()=>xi,K0:()=>_e,Mx:()=>Qr,O5:()=>ur,PM:()=>ls,S$:()=>lt,V_:()=>le,Ye:()=>Xe,b0:()=>xe,bD:()=>Zs,ez:()=>Gi,mk:()=>Ai,q:()=>C,sg:()=>Jr,w_:()=>V});var f=P(4650);let h=null;function C(){return h}function pe(M){h||(h=M)}class V{}const _e=new f.OlP("DocumentToken");let Ie=(()=>{class M{historyGo(R){throw new Error("Not implemented")}}return M.\u0275fac=function(R){return new(R||M)},M.\u0275prov=f.Yz7({token:M,factory:function(){return function ye(){return(0,f.LFG)(re)}()},providedIn:"platform"}),M})();const le=new f.OlP("Location Initialized");let re=(()=>{class M extends Ie{constructor(R){super(),this._doc=R,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return C().getBaseHref(this._doc)}onPopState(R){const W=C().getGlobalEventTarget(this._doc,"window");return W.addEventListener("popstate",R,!1),()=>W.removeEventListener("popstate",R)}onHashChange(R){const W=C().getGlobalEventTarget(this._doc,"window");return W.addEventListener("hashchange",R,!1),()=>W.removeEventListener("hashchange",R)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(R){this.location.pathname=R}pushState(R,W,we){te()?this._history.pushState(R,W,we):this.location.hash=we}replaceState(R,W,we){te()?this._history.replaceState(R,W,we):this.location.hash=we}forward(){this._history.forward()}back(){this._history.back()}historyGo(R=0){this._history.go(R)}getState(){return this._history.state}}return M.\u0275fac=function(R){return new(R||M)(f.LFG(_e))},M.\u0275prov=f.Yz7({token:M,factory:function(){return function me(){return new re((0,f.LFG)(_e))}()},providedIn:"platform"}),M})();function te(){return!!window.history.pushState}function nt(M,$){if(0==M.length)return $;if(0==$.length)return M;let R=0;return M.endsWith("/")&&R++,$.startsWith("/")&&R++,2==R?M+$.substring(1):1==R?M+$:M+"/"+$}function ze(M){const $=M.match(/#|\?|$/),R=$&&$.index||M.length;return M.slice(0,R-("/"===M[R-1]?1:0))+M.slice(R)}function Ke(M){return M&&"?"!==M[0]?"?"+M:M}let lt=(()=>{class M{historyGo(R){throw new Error("Not implemented")}}return M.\u0275fac=function(R){return new(R||M)},M.\u0275prov=f.Yz7({token:M,factory:function(){return(0,f.f3M)(xe)},providedIn:"root"}),M})();const Ne=new f.OlP("appBaseHref");let xe=(()=>{class M extends lt{constructor(R,W){super(),this._platformLocation=R,this._removeListenerFns=[],this._baseHref=W??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(_e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}prepareExternalUrl(R){return nt(this._baseHref,R)}path(R=!1){const W=this._platformLocation.pathname+Ke(this._platformLocation.search),we=this._platformLocation.hash;return we&&R?`${W}${we}`:W}pushState(R,W,we,it){const yt=this.prepareExternalUrl(we+Ke(it));this._platformLocation.pushState(R,W,yt)}replaceState(R,W,we,it){const yt=this.prepareExternalUrl(we+Ke(it));this._platformLocation.replaceState(R,W,yt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}}return M.\u0275fac=function(R){return new(R||M)(f.LFG(Ie),f.LFG(Ne,8))},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),Ve=(()=>{class M extends lt{constructor(R,W){super(),this._platformLocation=R,this._baseHref="",this._removeListenerFns=[],null!=W&&(this._baseHref=W)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}path(R=!1){let W=this._platformLocation.hash;return null==W&&(W="#"),W.length>0?W.substring(1):W}prepareExternalUrl(R){const W=nt(this._baseHref,R);return W.length>0?"#"+W:W}pushState(R,W,we,it){let yt=this.prepareExternalUrl(we+Ke(it));0==yt.length&&(yt=this._platformLocation.pathname),this._platformLocation.pushState(R,W,yt)}replaceState(R,W,we,it){let yt=this.prepareExternalUrl(we+Ke(it));0==yt.length&&(yt=this._platformLocation.pathname),this._platformLocation.replaceState(R,W,yt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}}return M.\u0275fac=function(R){return new(R||M)(f.LFG(Ie),f.LFG(Ne,8))},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac}),M})(),Xe=(()=>{class M{constructor(R){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=R;const W=this._locationStrategy.getBaseHref();this._basePath=function at(M){if(/^(https?:)?\/\//.test(M)){const[,$]=M.split(/\/\/[^\/]+/);return $}return M}(ze(Be(W))),this._locationStrategy.onPopState(we=>{this._subject.emit({url:this.path(!0),pop:!0,state:we.state,type:we.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(R=!1){return this.normalize(this._locationStrategy.path(R))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(R,W=""){return this.path()==this.normalize(R+Ke(W))}normalize(R){return M.stripTrailingSlash(function He(M,$){return M&&$.startsWith(M)?$.substring(M.length):$}(this._basePath,Be(R)))}prepareExternalUrl(R){return R&&"/"!==R[0]&&(R="/"+R),this._locationStrategy.prepareExternalUrl(R)}go(R,W="",we=null){this._locationStrategy.pushState(we,"",R,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+Ke(W)),we)}replaceState(R,W="",we=null){this._locationStrategy.replaceState(we,"",R,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+Ke(W)),we)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(R=0){this._locationStrategy.historyGo?.(R)}onUrlChange(R){return this._urlChangeListeners.push(R),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(W=>{this._notifyUrlChangeListeners(W.url,W.state)})),()=>{const W=this._urlChangeListeners.indexOf(R);this._urlChangeListeners.splice(W,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(R="",W){this._urlChangeListeners.forEach(we=>we(R,W))}subscribe(R,W,we){return this._subject.subscribe({next:R,error:W,complete:we})}}return M.normalizeQueryParams=Ke,M.joinWithSlash=nt,M.stripTrailingSlash=ze,M.\u0275fac=function(R){return new(R||M)(f.LFG(lt))},M.\u0275prov=f.Yz7({token:M,factory:function(){return function oe(){return new Xe((0,f.LFG)(lt))}()},providedIn:"root"}),M})();function Be(M){return M.replace(/\/index.html$/,"")}function Qr(M,$){$=encodeURIComponent($);for(const R of M.split(";")){const W=R.indexOf("="),[we,it]=-1==W?[R,""]:[R.slice(0,W),R.slice(W+1)];if(we.trim()===$)return decodeURIComponent(it)}return null}let Ai=(()=>{class M{constructor(R,W,we,it){this._iterableDiffers=R,this._keyValueDiffers=W,this._ngEl=we,this._renderer=it,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(R){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof R?R.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(R){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof R?R.split(/\s+/):R,this._rawClass&&((0,f.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const R=this._iterableDiffer.diff(this._rawClass);R&&this._applyIterableChanges(R)}else if(this._keyValueDiffer){const R=this._keyValueDiffer.diff(this._rawClass);R&&this._applyKeyValueChanges(R)}}_applyKeyValueChanges(R){R.forEachAddedItem(W=>this._toggleClass(W.key,W.currentValue)),R.forEachChangedItem(W=>this._toggleClass(W.key,W.currentValue)),R.forEachRemovedItem(W=>{W.previousValue&&this._toggleClass(W.key,!1)})}_applyIterableChanges(R){R.forEachAddedItem(W=>{if("string"!=typeof W.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,f.AaK)(W.item)}`);this._toggleClass(W.item,!0)}),R.forEachRemovedItem(W=>this._toggleClass(W.item,!1))}_applyClasses(R){R&&(Array.isArray(R)||R instanceof Set?R.forEach(W=>this._toggleClass(W,!0)):Object.keys(R).forEach(W=>this._toggleClass(W,!!R[W])))}_removeClasses(R){R&&(Array.isArray(R)||R instanceof Set?R.forEach(W=>this._toggleClass(W,!1)):Object.keys(R).forEach(W=>this._toggleClass(W,!1)))}_toggleClass(R,W){(R=R.trim())&&R.split(/\s+/g).forEach(we=>{W?this._renderer.addClass(this._ngEl.nativeElement,we):this._renderer.removeClass(this._ngEl.nativeElement,we)})}}return M.\u0275fac=function(R){return new(R||M)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},M.\u0275dir=f.lG2({type:M,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),M})();class pi{constructor($,R,W,we){this.$implicit=$,this.ngForOf=R,this.index=W,this.count=we}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Jr=(()=>{class M{constructor(R,W,we){this._viewContainer=R,this._template=W,this._differs=we,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(R){this._ngForOf=R,this._ngForOfDirty=!0}set ngForTrackBy(R){this._trackByFn=R}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(R){R&&(this._template=R)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const R=this._ngForOf;!this._differ&&R&&(this._differ=this._differs.find(R).create(this.ngForTrackBy))}if(this._differ){const R=this._differ.diff(this._ngForOf);R&&this._applyChanges(R)}}_applyChanges(R){const W=this._viewContainer;R.forEachOperation((we,it,yt)=>{if(null==we.previousIndex)W.createEmbeddedView(this._template,new pi(we.item,this._ngForOf,-1,-1),null===yt?void 0:yt);else if(null==yt)W.remove(null===it?void 0:it);else if(null!==it){const Kt=W.get(it);W.move(Kt,yt),kr(Kt,we)}});for(let we=0,it=W.length;we<it;we++){const Kt=W.get(we).context;Kt.index=we,Kt.count=it,Kt.ngForOf=this._ngForOf}R.forEachIdentityChange(we=>{kr(W.get(we.currentIndex),we)})}static ngTemplateContextGuard(R,W){return!0}}return M.\u0275fac=function(R){return new(R||M)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},M.\u0275dir=f.lG2({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),M})();function kr(M,$){M.context.$implicit=$.item}let ur=(()=>{class M{constructor(R,W){this._viewContainer=R,this._context=new as,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=W}set ngIf(R){this._context.$implicit=this._context.ngIf=R,this._updateView()}set ngIfThen(R){Fr("ngIfThen",R),this._thenTemplateRef=R,this._thenViewRef=null,this._updateView()}set ngIfElse(R){Fr("ngIfElse",R),this._elseTemplateRef=R,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(R,W){return!0}}return M.\u0275fac=function(R){return new(R||M)(f.Y36(f.s_b),f.Y36(f.Rgc))},M.\u0275dir=f.lG2({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),M})();class as{constructor(){this.$implicit=null,this.ngIf=null}}function Fr(M,$){if($&&!$.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,f.AaK)($)}'.`)}let Gi=(()=>{class M{}return M.\u0275fac=function(R){return new(R||M)},M.\u0275mod=f.oAB({type:M}),M.\u0275inj=f.cJS({}),M})();const Zs="browser";function ls(M){return"server"===M}let zi=(()=>{class M{}return M.\u0275prov=(0,f.Yz7)({token:M,providedIn:"root",factory:()=>new cr((0,f.LFG)(_e),window)}),M})();class cr{constructor($,R){this.document=$,this.window=R,this.offset=()=>[0,0]}setOffset($){this.offset=Array.isArray($)?()=>$:$}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition($){this.supportsScrolling()&&this.window.scrollTo($[0],$[1])}scrollToAnchor($){if(!this.supportsScrolling())return;const R=function Ps(M,$){const R=M.getElementById($)||M.getElementsByName($)[0];if(R)return R;if("function"==typeof M.createTreeWalker&&M.body&&(M.body.createShadowRoot||M.body.attachShadow)){const W=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let we=W.currentNode;for(;we;){const it=we.shadowRoot;if(it){const yt=it.getElementById($)||it.querySelector(`[name="${$}"]`);if(yt)return yt}we=W.nextNode()}}return null}(this.document,$);R&&(this.scrollToElement(R),R.focus())}setHistoryScrollRestoration($){if(this.supportScrollRestoration()){const R=this.window.history;R&&R.scrollRestoration&&(R.scrollRestoration=$)}}scrollToElement($){const R=$.getBoundingClientRect(),W=R.left+this.window.pageXOffset,we=R.top+this.window.pageYOffset,it=this.offset();this.window.scrollTo(W-it[0],we-it[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const $=Ni(this.window.history)||Ni(Object.getPrototypeOf(this.window.history));return!(!$||!$.writable&&!$.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ni(M){return Object.getOwnPropertyDescriptor(M,"scrollRestoration")}class xi{}},4650:(kt,Ze,P)=>{P.d(Ze,{$8M:()=>Ss,$Z:()=>Em,AFp:()=>lb,AaK:()=>ye,CHM:()=>A,CRH:()=>B0,CZH:()=>Ry,CqO:()=>Jd,D6c:()=>xE,EJc:()=>Gw,EpF:()=>iu,F4k:()=>Zm,FYo:()=>Dd,FiY:()=>Ta,Gf:()=>U0,GfV:()=>Sd,Gpc:()=>te,JOm:()=>la,KtG:()=>Z,LFG:()=>Mt,LSH:()=>hp,Lbi:()=>$w,Lck:()=>ri,MAs:()=>ag,MMx:()=>Tv,NdJ:()=>Mf,O4$:()=>io,OlP:()=>Gr,Oqu:()=>sh,P3R:()=>fp,PXZ:()=>oE,Q6J:()=>Tf,QGY:()=>xf,QP$:()=>Tr,Qsj:()=>Xy,R0b:()=>Du,RDi:()=>eu,Rgc:()=>kg,SBq:()=>Cd,Sil:()=>qw,Suo:()=>V0,TTD:()=>cr,TgZ:()=>Kd,VKq:()=>C0,WLB:()=>D0,X6Q:()=>dE,XFs:()=>K,Xpm:()=>kn,Xts:()=>bd,Y36:()=>Kl,YKP:()=>zr,YNc:()=>Df,Yjl:()=>os,Yz7:()=>Ht,Z0I:()=>Pn,ZZ4:()=>Qv,_Bn:()=>jr,_UZ:()=>Sf,_Vd:()=>ql,_c5:()=>SE,_uU:()=>jf,aQg:()=>Jv,c2e:()=>Hw,cJS:()=>Nn,cg1:()=>su,dDg:()=>nE,dqk:()=>qe,eFA:()=>Eb,ekj:()=>ey,eoX:()=>vb,f3M:()=>Gt,g9A:()=>db,h0i:()=>Oi,hGG:()=>AE,hij:()=>oh,iGM:()=>L0,ifc:()=>Ln,ip1:()=>ub,jDz:()=>y0,kEZ:()=>T0,kL8:()=>Ju,kcU:()=>ki,lG2:()=>Si,lqb:()=>ya,lri:()=>yb,n5z:()=>kl,oAB:()=>nr,oxw:()=>qm,q4F:()=>Ac,qLn:()=>gl,qOj:()=>Kp,qZA:()=>Yd,rWj:()=>_b,sBO:()=>hE,sIi:()=>Vc,s_b:()=>Ay,soG:()=>Oy,tb:()=>hb,tp0:()=>F,uIk:()=>rg,vHH:()=>Ne,vpe:()=>Pl,wAp:()=>jn,xp6:()=>cm,z2F:()=>Ny,zSh:()=>gp,zs3:()=>_l});var f=P(7579),h=P(727),C=P(9751),pe=P(6451),V=P(3099);function _e(n){for(let r in n)if(n[r]===_e)return r;throw Error("Could not find renamed property on target object.")}function Ie(n,r){for(const o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function ye(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ye).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function le(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const re=_e({__forward_ref__:_e});function te(n){return n.__forward_ref__=te,n.toString=function(){return ye(this())},n}function me(n){return nt(n)?n():n}function nt(n){return"function"==typeof n&&n.hasOwnProperty(re)&&n.__forward_ref__===te}function ze(n){return n&&!!n.\u0275providers}const lt="https://g.co/ng/security#xss";class Ne extends Error{constructor(r,o){super(function xe(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,o)),this.code=r}}function Ve(n){return"string"==typeof n?n:null==n?"":String(n)}function at(n,r){throw new Ne(-201,!1)}function Lt(n,r){null==n&&function Et(n,r,o,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${o} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function Ht(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Nn(n){return{providers:n.providers||[],imports:n.imports||[]}}function wr(n){return _r(n,er)||_r(n,Fe)}function Pn(n){return null!==wr(n)}function _r(n,r){return n.hasOwnProperty(r)?n[r]:null}function Gn(n){return n&&(n.hasOwnProperty(An)||n.hasOwnProperty(ie))?n[An]:null}const er=_e({\u0275prov:_e}),An=_e({\u0275inj:_e}),Fe=_e({ngInjectableDef:_e}),ie=_e({ngInjectorDef:_e});var K=(()=>((K=K||{})[K.Default=0]="Default",K[K.Host=1]="Host",K[K.Self=2]="Self",K[K.SkipSelf=4]="SkipSelf",K[K.Optional=8]="Optional",K))();let ut;function Ft(n){const r=ut;return ut=n,r}function Fn(n,r,o){const a=wr(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&K.Optional?null:void 0!==r?r:void at(ye(n))}const qe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),zn={},or="__NG_DI_FLAG__",fi="ngTempTokenPath",Bi=/\n/gm,qr="__source";let Mn;function nn(n){const r=Mn;return Mn=n,r}function ai(n,r=K.Default){if(void 0===Mn)throw new Ne(-203,!1);return null===Mn?Fn(n,void 0,r):Mn.get(n,r&K.Optional?null:void 0,r)}function Mt(n,r=K.Default){return(function At(){return ut}()||ai)(me(n),r)}function Gt(n,r=K.Default){return Mt(n,un(r))}function un(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function fn(n){const r=[];for(let o=0;o<n.length;o++){const a=me(n[o]);if(Array.isArray(a)){if(0===a.length)throw new Ne(900,!1);let l,p=K.Default;for(let v=0;v<a.length;v++){const T=a[v],O=be(T);"number"==typeof O?-1===O?l=T.token:p|=O:l=T}r.push(Mt(l,p))}else r.push(Mt(a))}return r}function rn(n,r){return n[or]=r,n.prototype[or]=r,n}function be(n){return n[or]}function st(n){return{toString:n}.toString()}var Ge=(()=>((Ge=Ge||{})[Ge.OnPush=0]="OnPush",Ge[Ge.Default=1]="Default",Ge))(),Ln=(()=>{return(n=Ln||(Ln={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ln;var n})();const ar={},ln=[],je=_e({\u0275cmp:_e}),ve=_e({\u0275dir:_e}),de=_e({\u0275pipe:_e}),Je=_e({\u0275mod:_e}),ht=_e({\u0275fac:_e}),cn=_e({__NG_ELEMENT_ID__:_e});let sn=0;function kn(n){return st(()=>{const o=!0===n.standalone,a={},l={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ge.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||ln,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Ln.Emulated,id:"c"+sn++,styles:n.styles||ln,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},p=n.dependencies,v=n.features;return l.inputs=ji(n.inputs,a),l.outputs=ji(n.outputs),v&&v.forEach(T=>T(l)),l.directiveDefs=p?()=>("function"==typeof p?p():p).map(xr).filter(Li):null,l.pipeDefs=p?()=>("function"==typeof p?p():p).map(Dr).filter(Li):null,l})}function xr(n){return Qn(n)||Mr(n)}function Li(n){return null!==n}function nr(n){return st(()=>({type:n.type,bootstrap:n.bootstrap||ln,declarations:n.declarations||ln,imports:n.imports||ln,exports:n.exports||ln,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ji(n,r){if(null==n)return ar;const o={};for(const a in n)if(n.hasOwnProperty(a)){let l=n[a],p=l;Array.isArray(l)&&(p=l[1],l=l[0]),o[l]=a,r&&(r[l]=p)}return o}const Si=kn;function os(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Qn(n){return n[je]||null}function Mr(n){return n[ve]||null}function Dr(n){return n[de]||null}function Tr(n){const r=Qn(n)||Mr(n)||Dr(n);return null!==r&&r.standalone}function Qr(n,r){const o=n[Je]||null;if(!o&&!0===r)throw new Error(`Type ${ye(n)} does not have '\u0275mod' property.`);return o}function Lr(n){return Array.isArray(n)&&"object"==typeof n[1]}function li(n){return Array.isArray(n)&&!0===n[1]}function ei(n){return 0!=(4&n.flags)}function ci(n){return n.componentOffset>-1}function Hi(n){return 1==(1&n.flags)}function ii(n){return null!==n.template}function ws(n){return 0!=(256&n[2])}function Ji(n,r){return n.hasOwnProperty(ht)?n[ht]:null}class zi{constructor(r,o,a){this.previousValue=r,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function cr(){return Ni}function Ni(n){return n.type.prototype.ngOnChanges&&(n.setInput=ks),Ps}function Ps(){const n=zs(this),r=n?.current;if(r){const o=n.previous;if(o===ar)n.previous=r;else for(let a in r)o[a]=r[a];n.current=null,this.ngOnChanges(r)}}function ks(n,r,o,a){const l=this.declaredInputs[o],p=zs(n)||function qs(n,r){return n[xi]=r}(n,{previous:ar,current:null}),v=p.current||(p.current={}),T=p.previous,O=T[l];v[l]=new zi(O&&O.currentValue,r,T===ar),n[a]=r}cr.ngInherit=!0;const xi="__ngSimpleChanges__";function zs(n){return n[xi]||null}function Hr(n){for(;Array.isArray(n);)n=n[0];return n}function Xi(n,r){return Hr(r[n])}function dr(n,r){return Hr(r[n.index])}function ds(n,r){return n.data[r]}function yi(n,r){const o=r[n];return Lr(o)?o:o[0]}function es(n){return 64==(64&n[2])}function ts(n,r){return null==r?null:n[r]}function qi(n){n[18]=0}function hs(n,r){n[5]+=r;let o=n,a=n[3];for(;null!==a&&(1===r&&1===o[5]||-1===r&&0===o[5]);)a[5]+=r,o=a,a=a[3]}const wn={lFrame:Tu(null),bindingsEnabled:!0};function ee(){return wn.bindingsEnabled}function I(){return wn.lFrame.lView}function S(){return wn.lFrame.tView}function A(n){return wn.lFrame.contextLView=n,n[8]}function Z(n){return wn.lFrame.contextLView=null,n}function Ce(){let n=gt();for(;null!==n&&64===n.type;)n=n.parent;return n}function gt(){return wn.lFrame.currentTNode}function Sn(n,r){const o=wn.lFrame;o.currentTNode=n,o.isParent=r}function lr(){return wn.lFrame.isParent}function Jn(){const n=wn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Pi(){return wn.lFrame.bindingIndex++}function Ts(n,r){const o=wn.lFrame;o.bindingIndex=o.bindingRootIndex=n,ra(r)}function ra(n){wn.lFrame.currentDirectiveIndex=n}function Fa(){return wn.lFrame.currentQueryIndex}function ro(n){wn.lFrame.currentQueryIndex=n}function va(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function La(n,r,o){if(o&K.SkipSelf){let l=r,p=n;for(;!(l=l.parent,null!==l||o&K.Host||(l=va(p),null===l||(p=p[15],10&l.type))););if(null===l)return!1;r=l,n=p}const a=wn.lFrame=$o();return a.currentTNode=r,a.lView=n,!0}function bo(n){const r=$o(),o=n[1];wn.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function $o(){const n=wn.lFrame,r=null===n?null:n.child;return null===r?Tu(n):r}function Tu(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Fo(){const n=wn.lFrame;return wn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Ho=Fo;function Su(){const n=Fo();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function fs(){return wn.lFrame.selectedIndex}function Zo(n){wn.lFrame.selectedIndex=n}function Zr(){const n=wn.lFrame;return ds(n.tView,n.selectedIndex)}function io(){wn.lFrame.currentNamespace="svg"}function ki(){!function au(){wn.lFrame.currentNamespace=null}()}function $(n,r){for(let o=r.directiveStart,a=r.directiveEnd;o<a;o++){const p=n.data[o].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:T,ngAfterViewInit:O,ngAfterViewChecked:B,ngOnDestroy:Q}=p;v&&(n.contentHooks||(n.contentHooks=[])).push(-o,v),T&&((n.contentHooks||(n.contentHooks=[])).push(o,T),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,T)),O&&(n.viewHooks||(n.viewHooks=[])).push(-o,O),B&&((n.viewHooks||(n.viewHooks=[])).push(o,B),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,B)),null!=Q&&(n.destroyHooks||(n.destroyHooks=[])).push(o,Q)}}function R(n,r,o){it(n,r,3,o)}function W(n,r,o,a){(3&n[2])===o&&it(n,r,o,a)}function we(n,r){let o=n[2];(3&o)===r&&(o&=2047,o+=1,n[2]=o)}function it(n,r,o,a){const p=a??-1,v=r.length-1;let T=0;for(let O=void 0!==a?65535&n[18]:0;O<v;O++)if("number"==typeof r[O+1]){if(T=r[O],null!=a&&T>=a)break}else r[O]<0&&(n[18]+=65536),(T<p||-1==p)&&(yt(n,o,r,O),n[18]=(4294901760&n[18])+O+2),O++}function yt(n,r,o,a){const l=o[a]<0,p=o[a+1],T=n[l?-o[a]:o[a]];if(l){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{p.call(T)}finally{}}}else try{p.call(T)}finally{}}class pr{constructor(r,o,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function br(n,r,o){let a=0;for(;a<o.length;){const l=o[a];if("number"==typeof l){if(0!==l)break;a++;const p=o[a++],v=o[a++],T=o[a++];n.setAttribute(r,v,T,p)}else{const p=l,v=o[++a];$t(p)?n.setProperty(r,p,v):n.setAttribute(r,p,v),a++}}return a}function ps(n){return 3===n||4===n||6===n}function $t(n){return 64===n.charCodeAt(0)}function Qt(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let a=0;a<r.length;a++){const l=r[a];"number"==typeof l?o=l:0===o||oa(n,o,l,null,-1===o||2===o?r[++a]:null)}}return n}function oa(n,r,o,a,l){let p=0,v=n.length;if(-1===r)v=-1;else for(;p<n.length;){const T=n[p++];if("number"==typeof T){if(T===r){v=-1;break}if(T>r){v=p-1;break}}}for(;p<n.length;){const T=n[p];if("number"==typeof T)break;if(T===o){if(null===a)return void(null!==l&&(n[p+1]=l));if(a===n[p+1])return void(n[p+2]=l)}p++,null!==a&&p++,null!==l&&p++}-1!==v&&(n.splice(v,0,r),p=v+1),n.splice(p++,0,o),null!==a&&n.splice(p++,0,a),null!==l&&n.splice(p++,0,l)}function qt(n){return-1!==n}function ot(n){return 32767&n}function _i(n,r){let o=function wt(n){return n>>16}(n),a=r;for(;o>0;)a=a[15],o--;return a}let Mo=!0;function Ua(n){const r=Mo;return Mo=n,r}let Au=0;const rs={};function Ba(n,r){const o=ja(n,r);if(-1!==o)return o;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,Go(a.data,n),Go(r,null),Go(a.blueprint,null));const l=Un(n,r),p=n.injectorIndex;if(qt(l)){const v=ot(l),T=_i(l,r),O=T[1].data;for(let B=0;B<8;B++)r[p+B]=T[v+B]|O[v+B]}return r[p+8]=l,p}function Go(n,r){n.push(0,0,0,0,0,0,0,0,r)}function ja(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Un(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,a=null,l=r;for(;null!==l;){if(a=Za(l),null===a)return-1;if(o++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return-1}function zo(n,r,o){!function xu(n,r,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(cn)&&(a=o[cn]),null==a&&(a=o[cn]=Au++);const l=255&a;r.data[n+(l>>5)]|=1<<l}(n,r,o)}function Wn(n,r,o){if(o&K.Optional||void 0!==n)return n;at()}function gn(n,r,o,a){if(o&K.Optional&&void 0===a&&(a=null),0==(o&(K.Self|K.Host))){const l=n[9],p=Ft(void 0);try{return l?l.get(r,a,o&K.Optional):Fn(r,a,o&K.Optional)}finally{Ft(p)}}return Wn(a,0,o)}function Lo(n,r,o,a=K.Default,l){if(null!==n){if(1024&r[2]){const v=function Ko(n,r,o,a,l){let p=n,v=r;for(;null!==p&&null!==v&&1024&v[2]&&!(256&v[2]);){const T=Zn(p,v,o,a|K.Self,rs);if(T!==rs)return T;let O=p.parent;if(!O){const B=v[21];if(B){const Q=B.get(o,rs,a);if(Q!==rs)return Q}O=Za(v),v=v[15]}p=O}return l}(n,r,o,a,rs);if(v!==rs)return v}const p=Zn(n,r,o,a,rs);if(p!==rs)return p}return gn(r,o,a,l)}function Zn(n,r,o,a,l){const p=function $a(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(cn)?n[cn]:void 0;return"number"==typeof r?r>=0?255&r:qo:r}(o);if("function"==typeof p){if(!La(r,n,a))return a&K.Host?Wn(l,0,a):gn(r,o,a,l);try{const v=p(a);if(null!=v||a&K.Optional)return v;at()}finally{Ho()}}else if("number"==typeof p){let v=null,T=ja(n,r),O=-1,B=a&K.Host?r[16][6]:null;for((-1===T||a&K.SkipSelf)&&(O=-1===T?Un(n,r):r[T+8],-1!==O&&Wi(a,!1)?(v=r[1],T=ot(O),r=_i(O,r)):T=-1);-1!==T;){const Q=r[1];if(Ha(p,T,Q.data)){const ce=lu(T,r,o,v,a,B);if(ce!==rs)return ce}O=r[T+8],-1!==O&&Wi(a,r[1].data[T+8]===B)&&Ha(p,T,r)?(v=Q,T=ot(O),r=_i(O,r)):T=-1}}return l}function lu(n,r,o,a,l,p){const v=r[1],T=v.data[n+8],Q=Yr(T,v,o,null==a?ci(T)&&Mo:a!=v&&0!=(3&T.type),l&K.Host&&p===T);return null!==Q?Pt(r,v,Q,T):rs}function Yr(n,r,o,a,l){const p=n.providerIndexes,v=r.data,T=1048575&p,O=n.directiveStart,Q=p>>20,ke=l?T+Q:n.directiveEnd;for(let Ye=a?T:T+Q;Ye<ke;Ye++){const _t=v[Ye];if(Ye<O&&o===_t||Ye>=O&&_t.type===o)return Ye}if(l){const Ye=v[O];if(Ye&&ii(Ye)&&Ye.type===o)return O}return null}function Pt(n,r,o,a){let l=n[o];const p=r.data;if(function Hn(n){return n instanceof pr}(l)){const v=l;v.resolving&&function oe(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Ne(-200,`Circular dependency in DI detected for ${n}${o}`)}(function Xe(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ve(n)}(p[o]));const T=Ua(v.canSeeViewProviders);v.resolving=!0;const O=v.injectImpl?Ft(v.injectImpl):null;La(n,a,K.Default);try{l=n[o]=v.factory(void 0,p,n,a),r.firstCreatePass&&o>=a.directiveStart&&function M(n,r,o){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:p}=r.type.prototype;if(a){const v=Ni(r);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,v),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,v)}l&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,l),p&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,p),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,p))}(o,p[o],r)}finally{null!==O&&Ft(O),Ua(T),v.resolving=!1,Ho()}}return l}function Ha(n,r,o){return!!(o[r+(n>>5)]&1<<n)}function Wi(n,r){return!(n&K.Self||n&K.Host&&r)}class so{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,a){return Lo(this._tNode,this._lView,r,un(a),o)}}function qo(){return new so(Ce(),I())}function kl(n){return st(()=>{const r=n.prototype.constructor,o=r[ht]||Wo(r),a=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==a;){const p=l[ht]||Wo(l);if(p&&p!==o)return p;l=Object.getPrototypeOf(l)}return p=>new p})}function Wo(n){return nt(n)?()=>{const r=Wo(me(n));return r&&r()}:Ji(n)}function Za(n){const r=n[1],o=r.type;return 2===o?r.declTNode:1===o?n[6]:null}function Ss(n){return function Mu(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const a=o.length;let l=0;for(;l<a;){const p=o[l];if(ps(p))break;if(0===p)l+=2;else if("number"==typeof p)for(l++;l<a&&"string"==typeof o[l];)l++;else{if(p===r)return o[l+1];l+=2}}}return null}(Ce(),n)}const Ga="__parameters__";function et(n,r,o){return st(()=>{const a=function Ea(n){return function(...o){if(n){const a=n(...o);for(const l in a)this[l]=a[l]}}}(r);function l(...p){if(this instanceof l)return a.apply(this,p),this;const v=new l(...p);return T.annotation=v,T;function T(O,B,Q){const ce=O.hasOwnProperty(Ga)?O[Ga]:Object.defineProperty(O,Ga,{value:[]})[Ga];for(;ce.length<=Q;)ce.push(null);return(ce[Q]=ce[Q]||[]).push(v),O}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class Gr{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ht({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ls(n,r){n.forEach(o=>Array.isArray(o)?Ls(o,r):r(o))}function b(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function E(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Re(n,r,o){let a=zt(n,r);return a>=0?n[1|a]=o:(a=~a,function z(n,r,o,a){let l=n.length;if(l==r)n.push(o,a);else if(1===l)n.push(a,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>r;)n[l]=n[l-2],l--;n[r]=o,n[r+1]=a}}(n,a,r,o)),a}function vt(n,r){const o=zt(n,r);if(o>=0)return n[1|o]}function zt(n,r){return function Xn(n,r,o){let a=0,l=n.length>>o;for(;l!==a;){const p=a+(l-a>>1),v=n[p<<o];if(r===v)return p<<o;v>r?l=p:a=p+1}return~(l<<o)}(n,r,1)}const Ta=rn(et("Optional"),8),F=rn(et("SkipSelf"),4);var la=(()=>((la=la||{})[la.Important=1]="Important",la[la.DashCase=2]="DashCase",la))();const pu=new Map;let Dh=0;const Ya="__ngContext__";function ni(n,r){Lr(r)?(n[Ya]=r[20],function Ka(n){pu.set(n[20],n)}(r)):n[Ya]=r}function il(n,r){return undefined(n,r)}function Uu(n){const r=n[3];return li(r)?r[3]:r}function ca(n){return gu(n[13])}function fc(n){return gu(n[4])}function gu(n){for(;null!==n&&!li(n);)n=n[4];return n}function Vu(n,r,o,a,l){if(null!=a){let p,v=!1;li(a)?p=a:Lr(a)&&(v=!0,a=a[0]);const T=Hr(a);0===n&&null!==o?null==l?da(r,o,T):yu(r,o,T,l||null,!0):1===n&&null!==o?yu(r,o,T,l||null,!0):2===n?function fa(n,r,o){const a=Ar(n,r);a&&function Nh(n,r,o,a){n.removeChild(r,o,a)}(n,a,r,o)}(r,T,v):3===n&&r.destroyNode(T),null!=p&&function wc(n,r,o,a,l){const p=o[7];p!==Hr(o)&&Vu(r,n,a,p,l);for(let T=10;T<o.length;T++){const O=o[T];jl(O[1],O,n,r,a,p)}}(r,n,p,o,l)}}function Ja(n,r,o){return n.createElement(r,o)}function Bl(n,r){const o=n[9],a=o.indexOf(r),l=r[3];512&r[2]&&(r[2]&=-513,hs(l,-1)),o.splice(a,1)}function Bu(n,r){if(n.length<=10)return;const o=10+r,a=n[o];if(a){const l=a[17];null!==l&&l!==n&&Bl(l,a),r>0&&(n[o-1][4]=a[4]);const p=E(n,10+r);!function ap(n,r){jl(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const v=p[19];null!==v&&v.detachView(p[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function Oh(n,r){if(!(128&r[2])){const o=r[11];o.destroyNode&&jl(n,r,o,3,null,null),function ol(n){let r=n[13];if(!r)return gc(n[1],n);for(;r;){let o=null;if(Lr(r))o=r[13];else{const a=r[10];a&&(o=a)}if(!o){for(;r&&!r[4]&&r!==n;)Lr(r)&&gc(r[1],r),r=r[3];null===r&&(r=n),Lr(r)&&gc(r[1],r),o=r&&r[4]}r=o}}(r)}}function gc(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Xa(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let a=0;a<o.length;a+=2){const l=r[o[a]];if(!(l instanceof pr)){const p=o[a+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const T=l[p[v]],O=p[v+1];try{O.call(T)}finally{}}else try{p.call(l)}finally{}}}}(n,r),function ju(n,r){const o=n.cleanup,a=r[7];let l=-1;if(null!==o)for(let p=0;p<o.length-1;p+=2)if("string"==typeof o[p]){const v=o[p+3];v>=0?a[l=v]():a[l=-v].unsubscribe(),p+=2}else{const v=a[l=o[p+1]];o[p].call(v)}if(null!==a){for(let p=l+1;p<a.length;p++)(0,a[p])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const o=r[17];if(null!==o&&li(r[3])){o!==r[3]&&Bl(o,r);const a=r[19];null!==a&&a.detachView(n)}!function tl(n){pu.delete(n[20])}(r)}}function cd(n,r,o){return function dd(n,r,o){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return o[0];{const{componentOffset:l}=a;if(l>-1){const{encapsulation:p}=n.data[a.directiveStart+l];if(p===Ln.None||p===Ln.Emulated)return null}return dr(a,o)}}(n,r.parent,o)}function yu(n,r,o,a,l){n.insertBefore(r,o,a,l)}function da(n,r,o){n.appendChild(r,o)}function mc(n,r,o,a,l){null!==a?yu(n,r,o,a,l):da(n,r,o)}function Ar(n,r){return n.parentNode(r)}let gd,ul,yc=function Ma(n,r,o){return 40&n.type?dr(n,o):null};function _u(n,r,o,a){const l=cd(n,a,r),p=r[11],T=function hd(n,r,o){return yc(n,r,o)}(a.parent||r[6],a,r);if(null!=l)if(Array.isArray(o))for(let O=0;O<o.length;O++)mc(p,l,o[O],T,!1);else mc(p,l,o,T,!1)}function $u(n,r){if(null!==r){const o=r.type;if(3&o)return dr(r,n);if(4&o)return ho(-1,n[r.index]);if(8&o){const a=r.child;if(null!==a)return $u(n,a);{const l=n[r.index];return li(l)?ho(-1,l):Hr(l)}}if(32&o)return il(r,n)()||Hr(n[r.index]);{const a=ha(n,r);return null!==a?Array.isArray(a)?a[0]:$u(Uu(n[16]),a):$u(n,r.next)}}return null}function ha(n,r){return null!==r?n[16][6].projection[r.projection]:null}function ho(n,r){const o=10+n+1;if(o<r.length){const a=r[o],l=a[1].firstChild;if(null!==l)return $u(a,l)}return r[7]}function vc(n,r,o,a,l,p,v){for(;null!=o;){const T=a[o.index],O=o.type;if(v&&0===r&&(T&&ni(Hr(T),a),o.flags|=2),32!=(32&o.flags))if(8&O)vc(n,r,o.child,a,l,p,!1),Vu(r,n,l,T,p);else if(32&O){const B=il(o,a);let Q;for(;Q=B();)Vu(r,n,l,Q,p);Vu(r,n,l,T,p)}else 16&O?bc(n,r,a,o,l,p):Vu(r,n,l,T,p);o=v?o.projectionNext:o.next}}function jl(n,r,o,a,l,p){vc(o,a,n.firstChild,r,l,p,!1)}function bc(n,r,o,a,l,p){const v=o[16],O=v[6].projection[a.projection];if(Array.isArray(O))for(let B=0;B<O.length;B++)Vu(r,n,l,O[B],p);else vc(n,r,O,v[3],l,p,!0)}function Jo(n,r,o){""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o)}function Ec(n,r,o){const{mergedAttrs:a,classes:l,styles:p}=o;null!==a&&br(n,r,a),null!==l&&Jo(n,r,l),null!==p&&function $l(n,r,o){n.setAttribute(r,"style",o)}(n,r,p)}function eu(n){gd=n}function md(n){return function Cc(){if(void 0===ul&&(ul=null,qe.trustedTypes))try{ul=qe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ul}()?.createScriptURL(n)||n}class cl{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lt})`}}function w(n){return n instanceof cl?n.changingThisBreaksApplicationSecurity:n}function j(n,r){const o=function J(n){return n instanceof cl&&n.getTypeName()||null}(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${lt})`)}return o===r}const Fh=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Bs=(()=>((Bs=Bs||{})[Bs.NONE=0]="NONE",Bs[Bs.HTML=1]="HTML",Bs[Bs.STYLE=2]="STYLE",Bs[Bs.SCRIPT=3]="SCRIPT",Bs[Bs.URL=4]="URL",Bs[Bs.RESOURCE_URL=5]="RESOURCE_URL",Bs))();function hp(n){const r=ms();return r?r.sanitize(Bs.URL,n)||"":j(n,"URL")?w(n):function Gl(n){return(n=String(n)).match(Fh)?n:"unsafe:"+n}(Ve(n))}function Hg(n){const r=ms();if(r)return md(r.sanitize(Bs.RESOURCE_URL,n)||"");if(j(n,"ResourceURL"))return md(w(n));throw new Ne(904,!1)}function fp(n,r,o){return function Gg(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?Hg:hp}(r,o)(n)}function ms(){const n=I();return n&&n[12]}const bd=new Gr("ENVIRONMENT_INITIALIZER"),Uh=new Gr("INJECTOR",-1),Vh=new Gr("INJECTOR_DEF_TYPES");class Zu{get(r,o=zn){if(o===zn){const a=new Error(`NullInjectorError: No provider for ${ye(r)}!`);throw a.name="NullInjectorError",a}return o}}function Ky(...n){return{\u0275providers:pp(0,n),\u0275fromNgModule:!0}}function pp(n,...r){const o=[],a=new Set;let l;return Ls(r,p=>{const v=p;Gu(v,o,[],a)&&(l||(l=[]),l.push(v))}),void 0!==l&&wd(l,o),o}function wd(n,r){for(let o=0;o<n.length;o++){const{providers:l}=n[o];zu(l,p=>{r.push(p)})}}function Gu(n,r,o,a){if(!(n=me(n)))return!1;let l=null,p=Gn(n);const v=!p&&Qn(n);if(p||v){if(v&&!v.standalone)return!1;l=n}else{const O=n.ngModule;if(p=Gn(O),!p)return!1;l=O}const T=a.has(l);if(v){if(T)return!1;if(a.add(l),v.dependencies){const O="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const B of O)Gu(B,r,o,a)}}else{if(!p)return!1;{if(null!=p.imports&&!T){let B;a.add(l);try{Ls(p.imports,Q=>{Gu(Q,r,o,a)&&(B||(B=[]),B.push(Q))})}finally{}void 0!==B&&wd(B,r)}if(!T){const B=Ji(l)||(()=>new l);r.push({provide:l,useFactory:B,deps:ln},{provide:Vh,useValue:l,multi:!0},{provide:bd,useValue:()=>Mt(l),multi:!0})}const O=p.providers;null==O||T||zu(O,Q=>{r.push(Q)})}}return l!==n&&void 0!==n.providers}function zu(n,r){for(let o of n)ze(o)&&(o=o.\u0275providers),Array.isArray(o)?zu(o,r):r(o)}const Ed=_e({provide:String,useValue:_e});function Bh(n){return null!==n&&"object"==typeof n&&Ed in n}function hl(n){return"function"==typeof n}const gp=new Gr("Set Injector scope."),Id={},Wg={};let Sc;function fl(){return void 0===Sc&&(Sc=new Zu),Sc}class ya{}class Kg extends ya{constructor(r,o,a,l){super(),this.parent=o,this.source=a,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,mp(r,v=>this.processProvider(v)),this.records.set(Uh,vu(void 0,this)),l.has("environment")&&this.records.set(ya,vu(void 0,this));const p=this.records.get(gp);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Vh.multi,ln,K.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const o=nn(this),a=Ft(void 0);try{return r()}finally{nn(o),Ft(a)}}get(r,o=zn,a=K.Default){this.assertNotDestroyed(),a=un(a);const l=nn(this),p=Ft(void 0);try{if(!(a&K.SkipSelf)){let T=this.records.get(r);if(void 0===T){const O=function Qg(n){return"function"==typeof n||"object"==typeof n&&n instanceof Gr}(r)&&wr(r);T=O&&this.injectableDefInScope(O)?vu(Hh(r),Id):null,this.records.set(r,T)}if(null!=T)return this.hydrate(r,T)}return(a&K.Self?fl():this.parent).get(r,o=a&K.Optional&&o===zn?null:o)}catch(v){if("NullInjectorError"===v.name){if((v[fi]=v[fi]||[]).unshift(ye(r)),l)throw v;return function fe(n,r,o,a){const l=n[fi];throw r[qr]&&l.unshift(r[qr]),n.message=function Se(n,r,o,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let l=ye(r);if(Array.isArray(r))l=r.map(ye).join(" -> ");else if("object"==typeof r){let p=[];for(let v in r)if(r.hasOwnProperty(v)){let T=r[v];p.push(v+":"+("string"==typeof T?JSON.stringify(T):ye(T)))}l=`{${p.join(", ")}}`}return`${o}${a?"("+a+")":""}[${l}]: ${n.replace(Bi,"\n  ")}`}("\n"+n.message,l,o,a),n.ngTokenPath=l,n[fi]=null,n}(v,r,"R3InjectorError",this.source)}throw v}finally{Ft(p),nn(l)}}resolveInjectorInitializers(){const r=nn(this),o=Ft(void 0);try{const a=this.get(bd.multi,ln,K.Self);for(const l of a)l()}finally{nn(r),Ft(o)}}toString(){const r=[],o=this.records;for(const a of o.keys())r.push(ye(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ne(205,!1)}processProvider(r){let o=hl(r=me(r))?r:me(r&&r.provide);const a=function Qy(n){return Bh(n)?vu(void 0,n.useValue):vu(Yg(n),Id)}(r);if(hl(r)||!0!==r.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=vu(void 0,Id,!0),l.factory=()=>fn(l.multi),this.records.set(o,l)),o=r,l.multi.push(r)}this.records.set(o,a)}hydrate(r,o){return o.value===Id&&(o.value=Wg,o.value=o.factory()),"object"==typeof o.value&&o.value&&function pl(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=me(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Hh(n){const r=wr(n),o=null!==r?r.factory:Ji(n);if(null!==o)return o;if(n instanceof Gr)throw new Ne(204,!1);if(n instanceof Function)return function Yy(n){const r=n.length;if(r>0)throw function y(n,r){const o=[];for(let a=0;a<n;a++)o.push(r);return o}(r,"?"),new Ne(204,!1);const o=function Pr(n){const r=n&&(n[er]||n[Fe]);if(r){const o=function Jt(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),r}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Ne(204,!1)}function Yg(n,r,o){let a;if(hl(n)){const l=me(n);return Ji(l)||Hh(l)}if(Bh(n))a=()=>me(n.useValue);else if(function $h(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...fn(n.deps||[]));else if(function jh(n){return!(!n||!n.useExisting)}(n))a=()=>Mt(me(n.useExisting));else{const l=me(n&&(n.useClass||n.provide));if(!function zl(n){return!!n.deps}(n))return Ji(l)||Hh(l);a=()=>new l(...fn(n.deps))}return a}function vu(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function mp(n,r){for(const o of n)Array.isArray(o)?mp(o,r):o&&ze(o)?mp(o.\u0275providers,r):r(o)}class Jg{}class Xg{}class _p{resolveComponentFactory(r){throw function yp(n){const r=Error(`No component factory found for ${ye(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let ql=(()=>{class n{}return n.NULL=new _p,n})();function em(){return qu(Ce(),I())}function qu(n,r){return new Cd(dr(n,r))}let Cd=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=em,n})();function vp(n){return n instanceof Cd?n.nativeElement:n}class Dd{}let Xy=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function tm(){const n=I(),o=yi(Ce().index,n);return(Lr(o)?o:n)[11]}(),n})(),Td=(()=>{class n{}return n.\u0275prov=Ht({token:n,providedIn:"root",factory:()=>null}),n})();class Sd{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Ac=new Sd("15.0.3"),Gh={};function qh(n){return n.ngOriginalError}class gl{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&qh(r);for(;o&&qh(o);)o=qh(o);return o||null}}function bu(n){return n instanceof Function?n():n}function Ad(n,r,o){let a=n.length;for(;;){const l=n.indexOf(r,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const p=r.length;if(l+p===a||n.charCodeAt(l+p)<=32)return l}o=l+1}}const bp="ng-template";function t_(n,r,o){let a=0;for(;a<n.length;){let l=n[a++];if(o&&"class"===l){if(l=n[a],-1!==Ad(l.toLowerCase(),r,0))return!0}else if(1===l){for(;a<n.length&&"string"==typeof(l=n[a++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function wp(n){return 4===n.type&&n.value!==bp}function n_(n,r,o){return r===(4!==n.type||o?n.value:bp)}function om(n,r,o){let a=4;const l=n.attrs||[],p=function r_(n){for(let r=0;r<n.length;r++)if(ps(n[r]))return r;return n.length}(l);let v=!1;for(let T=0;T<r.length;T++){const O=r[T];if("number"!=typeof O){if(!v)if(4&a){if(a=2|1&a,""!==O&&!n_(n,O,o)||""===O&&1===r.length){if(To(a))return!1;v=!0}}else{const B=8&a?O:r[++T];if(8&a&&null!==n.attrs){if(!t_(n.attrs,B,o)){if(To(a))return!1;v=!0}continue}const ce=xd(8&a?"class":O,l,wp(n),o);if(-1===ce){if(To(a))return!1;v=!0;continue}if(""!==B){let ke;ke=ce>p?"":l[ce+1].toLowerCase();const Ye=8&a?ke:null;if(Ye&&-1!==Ad(Ye,B,0)||2&a&&B!==ke){if(To(a))return!1;v=!0}}}}else{if(!v&&!To(a)&&!To(O))return!1;if(v&&To(O))continue;v=!1,a=O|1&a}}return To(a)||v}function To(n){return 0==(1&n)}function xd(n,r,o,a){if(null===r)return-1;let l=0;if(a||!o){let p=!1;for(;l<r.length;){const v=r[l];if(v===n)return l;if(3===v||6===v)p=!0;else{if(1===v||2===v){let T=r[++l];for(;"string"==typeof T;)T=r[++l];continue}if(4===v)break;if(0===v){l+=4;continue}}l+=p?1:2}return-1}return function um(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const a=n[o];if("number"==typeof a)return-1;if(a===r)return o;o++}return-1}(r,n)}function Ep(n,r,o=!1){for(let a=0;a<r.length;a++)if(om(n,r[a],o))return!0;return!1}function lm(n,r){return n?":not("+r.trim()+")":r}function Ip(n){let r=n[0],o=1,a=2,l="",p=!1;for(;o<n.length;){let v=n[o];if("string"==typeof v)if(2&a){const T=n[++o];l+="["+v+(T.length>0?'="'+T+'"':"")+"]"}else 8&a?l+="."+v:4&a&&(l+=" "+v);else""!==l&&!To(v)&&(r+=lm(p,l),l=""),a=v,p=p||!To(a);o++}return""!==l&&(r+=lm(p,l)),r}const fr={};function cm(n){dm(S(),I(),fs()+n,!1)}function dm(n,r,o,a){if(!a)if(3==(3&r[2])){const p=n.preOrderCheckHooks;null!==p&&R(r,p,o)}else{const p=n.preOrderHooks;null!==p&&W(r,p,0,o)}Zo(o)}function Qh(n,r=null,o=null,a){const l=Jh(n,r,o,a);return l.resolveInjectorInitializers(),l}function Jh(n,r=null,o=null,a,l=new Set){const p=[o||ln,Ky(n)];return a=a||("object"==typeof n?void 0:ye(n)),new Kg(p,r||fl(),a||null,l)}let _l=(()=>{class n{static create(o,a){if(Array.isArray(o))return Qh({name:""},a,o,"");{const l=o.name??"";return Qh({name:l},o.parent,o.providers,l)}}}return n.THROW_IF_NOT_FOUND=zn,n.NULL=new Zu,n.\u0275prov=Ht({token:n,providedIn:"any",factory:()=>Mt(Uh)}),n.__NG_ELEMENT_ID__=-1,n})();function Kl(n,r=K.Default){const o=I();return null===o?Mt(n,r):Lo(Ce(),o,me(n),r)}function Em(){throw new Error("invalid")}function Im(n,r){const o=n.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const l=o[a],p=o[a+1];if(-1!==p){const v=n.data[p];ro(l),v.contentQueries(2,r[p],p)}}}function bl(n,r,o,a,l,p,v,T,O,B,Q){const ce=r.blueprint.slice();return ce[0]=l,ce[2]=76|a,(null!==Q||n&&1024&n[2])&&(ce[2]|=1024),qi(ce),ce[3]=ce[15]=n,ce[8]=o,ce[10]=v||n&&n[10],ce[11]=T||n&&n[11],ce[12]=O||n&&n[12]||null,ce[9]=B||n&&n[9]||null,ce[6]=p,ce[20]=function uc(){return Dh++}(),ce[21]=Q,ce[16]=2==r.type?n[16]:ce,ce}function wl(n,r,o,a,l){let p=n.data[r];if(null===p)p=function af(n,r,o,a,l){const p=gt(),v=lr(),O=n.data[r]=function Bd(n,r,o,a,l,p){return{type:o,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,o,r,a,l);return null===n.firstChild&&(n.firstChild=O),null!==p&&(v?null==p.child&&null!==O.parent&&(p.child=O):null===p.next&&(p.next=O)),O}(n,r,o,a,l),function Bo(){return wn.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=o,p.value=a,p.attrs=l;const v=function En(){const n=wn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();p.injectorIndex=null===v?-1:v.injectorIndex}return Sn(p,!0),p}function Fd(n,r,o,a){if(0===o)return-1;const l=r.length;for(let p=0;p<o;p++)r.push(a),n.blueprint.push(a),n.data.push(null);return l}function Rp(n,r,o){bo(r);try{const a=n.viewQuery;null!==a&&El(1,a,o);const l=n.template;null!==l&&Dm(n,r,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Im(n,r),n.staticViewQueries&&El(2,n.viewQuery,o);const p=n.components;null!==p&&function sf(n,r){for(let o=0;o<r.length;o++)Zp(n,r[o])}(r,p)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,Su()}}function uf(n,r,o,a){const l=r[2];if(128!=(128&l)){bo(r);try{qi(r),function si(n){return wn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Dm(n,r,o,2,a);const v=3==(3&l);if(v){const B=n.preOrderCheckHooks;null!==B&&R(r,B,null)}else{const B=n.preOrderHooks;null!==B&&W(r,B,0,null),we(r,0)}if(function Hp(n){for(let r=ca(n);null!==r;r=fc(r)){if(!r[2])continue;const o=r[9];for(let a=0;a<o.length;a++){const l=o[a],p=l[3];0==(512&l[2])&&hs(p,1),l[2]|=512}}}(r),function y_(n){for(let r=ca(n);null!==r;r=fc(r))for(let o=10;o<r.length;o++){const a=r[o],l=a[1];es(a)&&uf(l,a,l.template,a[8])}}(r),null!==n.contentQueries&&Im(n,r),v){const B=n.contentCheckHooks;null!==B&&R(r,B)}else{const B=n.contentHooks;null!==B&&W(r,B,1),we(r,1)}!function c_(n,r){const o=n.hostBindingOpCodes;if(null!==o)try{for(let a=0;a<o.length;a++){const l=o[a];if(l<0)Zo(~l);else{const p=l,v=o[++a],T=o[++a];Ts(v,p),T(2,r[p])}}}finally{Zo(-1)}}(n,r);const T=n.components;null!==T&&function Cm(n,r){for(let o=0;o<r.length;o++)Mm(n,r[o])}(r,T);const O=n.viewQuery;if(null!==O&&El(2,O,a),v){const B=n.viewCheckHooks;null!==B&&R(r,B)}else{const B=n.viewHooks;null!==B&&W(r,B,2),we(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,hs(r[3],-1))}finally{Su()}}}function Dm(n,r,o,a,l){const p=fs(),v=2&a;try{Zo(-1),v&&r.length>22&&dm(n,r,22,!1),o(a,l)}finally{Zo(p)}}function Ld(n,r,o){if(ei(r)){const l=r.directiveEnd;for(let p=r.directiveStart;p<l;p++){const v=n.data[p];v.contentQueries&&v.contentQueries(1,o[p],p)}}}function Op(n,r,o){!ee()||(function df(n,r,o,a){const l=o.directiveStart,p=o.directiveEnd;ci(o)&&function g_(n,r,o){const a=dr(r,n),l=Oc(o),p=n[10],v=Wu(n,bl(n,l,null,o.onPush?32:16,a,r,p,p.createRenderer(a,o),null,null,null));n[r.index]=v}(r,o,n.data[l+o.componentOffset]),n.firstCreatePass||Ba(o,r),ni(a,r);const v=o.initialInputs;for(let T=l;T<p;T++){const O=n.data[T],B=Pt(r,n,T,o);ni(B,r),null!==v&&$p(0,T-l,B,O,0,v),ii(O)&&(yi(o.index,r)[8]=Pt(r,n,T,o))}}(n,r,o,dr(o,r)),64==(64&o.flags)&&hf(n,r,o))}function Np(n,r,o=dr){const a=r.localNames;if(null!==a){let l=r.index+1;for(let p=0;p<a.length;p+=2){const v=a[p+1],T=-1===v?o(r,n):n[v];n[l++]=T}}}function Oc(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Ud(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Ud(n,r,o,a,l,p,v,T,O,B){const Q=22+a,ce=Q+l,ke=function Nc(n,r){const o=[];for(let a=0;a<r;a++)o.push(a<n?null:fr);return o}(Q,ce),Ye="function"==typeof B?B():B;return ke[1]={type:n,blueprint:ke,template:o,queries:null,viewQuery:T,declTNode:r,data:ke.slice().fill(null,Q),bindingStartIndex:Q,expandoStartIndex:ce,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:O,consts:Ye,incompleteFirstPass:!1}}function Vd(n,r,o,a){const l=Yl(r);null===o?l.push(a):(l.push(o),n.firstCreatePass&&Rm(n).push(a,l.length-1))}function lf(n,r,o,a){for(let l in n)if(n.hasOwnProperty(l)){o=null===o?{}:o;const p=n[l];null===a?kp(o,r,l,p):a.hasOwnProperty(l)&&kp(o,r,a[l],p)}return o}function kp(n,r,o,a){n.hasOwnProperty(o)?n[o].push(r,a):n[o]=[r,a]}function Up(n,r){const o=yi(r,n);16&o[2]||(o[2]|=32)}function Vp(n,r,o,a){let l=!1;if(ee()){const p=null===a?null:{"":-1},v=function Pc(n,r){const o=n.directiveRegistry;let a=null,l=null;if(o)for(let p=0;p<o.length;p++){const v=o[p];if(Ep(r,v.selectors,!1))if(a||(a=[]),ii(v))if(null!==v.findHostDirectiveDefs){const T=[];l=l||new Map,v.findHostDirectiveDefs(v,T,l),a.unshift(...T,v),jd(n,r,T.length)}else a.unshift(v),jd(n,r,0);else l=l||new Map,v.findHostDirectiveDefs?.(v,a,l),a.push(v)}return null===a?null:[a,l]}(n,o);let T,O;null===v?T=O=null:[T,O]=v,null!==T&&(l=!0,cf(n,r,o,T,p,O)),p&&function f_(n,r,o){if(r){const a=n.localNames=[];for(let l=0;l<r.length;l+=2){const p=o[r[l+1]];if(null==p)throw new Ne(-301,!1);a.push(r[l],p)}}}(o,a,p)}return o.mergedAttrs=Qt(o.mergedAttrs,o.attrs),l}function cf(n,r,o,a,l,p){for(let B=0;B<a.length;B++)zo(Ba(o,r),n,a[B].type);!function Am(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}(o,n.data.length,a.length);for(let B=0;B<a.length;B++){const Q=a[B];Q.providersResolver&&Q.providersResolver(Q)}let v=!1,T=!1,O=Fd(n,r,a.length,null);for(let B=0;B<a.length;B++){const Q=a[B];o.mergedAttrs=Qt(o.mergedAttrs,Q.hostAttrs),xm(n,o,r,O,Q),p_(O,Q,l),null!==Q.contentQueries&&(o.flags|=4),(null!==Q.hostBindings||null!==Q.hostAttrs||0!==Q.hostVars)&&(o.flags|=64);const ce=Q.type.prototype;!v&&(ce.ngOnChanges||ce.ngOnInit||ce.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),v=!0),!T&&(ce.ngOnChanges||ce.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),T=!0),O++}!function Fp(n,r,o){const l=r.directiveEnd,p=n.data,v=r.attrs,T=[];let O=null,B=null;for(let Q=r.directiveStart;Q<l;Q++){const ce=p[Q],ke=o?o.get(ce):null,_t=ke?ke.outputs:null;O=lf(ce.inputs,Q,O,ke?ke.inputs:null),B=lf(ce.outputs,Q,B,_t);const Vt=null===O||null===v||wp(r)?null:m_(O,Q,v);T.push(Vt)}null!==O&&(O.hasOwnProperty("class")&&(r.flags|=8),O.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=T,r.inputs=O,r.outputs=B}(n,o,p)}function hf(n,r,o){const a=o.directiveStart,l=o.directiveEnd,p=o.index,v=function jo(){return wn.lFrame.currentDirectiveIndex}();try{Zo(p);for(let T=a;T<l;T++){const O=n.data[T],B=r[T];ra(T),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&Sm(O,B)}}finally{Zo(-1),ra(v)}}function Sm(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function jd(n,r,o){r.componentOffset=o,(n.components||(n.components=[])).push(r.index)}function p_(n,r,o){if(o){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)o[r.exportAs[a]]=n;ii(r)&&(o[""]=n)}}function xm(n,r,o,a,l){n.data[a]=l;const p=l.factory||(l.factory=Ji(l.type)),v=new pr(p,ii(l),Kl);n.blueprint[a]=v,o[a]=v,function h_(n,r,o,a,l){const p=l.hostBindings;if(p){let v=n.hostBindingOpCodes;null===v&&(v=n.hostBindingOpCodes=[]);const T=~r.index;(function Bp(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(v)!=T&&v.push(T),v.push(o,a,p)}}(n,r,a,Fd(n,o,l.hostVars,fr),l)}function Na(n,r,o,a,l,p){const v=dr(n,r);!function jp(n,r,o,a,l,p,v){if(null==p)n.removeAttribute(r,l,o);else{const T=null==v?Ve(p):v(p,a||"",l);n.setAttribute(r,l,T,o)}}(r[11],v,p,n.value,o,a,l)}function $p(n,r,o,a,l,p){const v=p[r];if(null!==v){const T=a.setInput;for(let O=0;O<v.length;){const B=v[O++],Q=v[O++],ce=v[O++];null!==T?a.setInput(o,ce,B,Q):o[Q]=ce}}}function m_(n,r,o){let a=null,l=0;for(;l<o.length;){const p=o[l];if(0!==p)if(5!==p){if("number"==typeof p)break;if(n.hasOwnProperty(p)){null===a&&(a=[]);const v=n[p];for(let T=0;T<v.length;T+=2)if(v[T]===r){a.push(p,v[T+1],o[l+1]);break}}l+=2}else l+=2;else l+=4}return a}function ff(n,r,o,a){return[n,!0,!1,r,null,0,a,o,null,null]}function Mm(n,r){const o=yi(r,n);if(es(o)){const a=o[1];48&o[2]?uf(a,o,a.template,o[8]):o[5]>0&&$d(o)}}function $d(n){for(let a=ca(n);null!==a;a=fc(a))for(let l=10;l<a.length;l++){const p=a[l];if(es(p))if(512&p[2]){const v=p[1];uf(v,p,v.template,p[8])}else p[5]>0&&$d(p)}const o=n[1].components;if(null!==o)for(let a=0;a<o.length;a++){const l=yi(o[a],n);es(l)&&l[5]>0&&$d(l)}}function Zp(n,r){const o=yi(r,n),a=o[1];(function Gp(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])})(a,o),Rp(a,o,o[8])}function Wu(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function wu(n){for(;n;){n[2]|=32;const r=Uu(n);if(ws(n)&&!r)return n;n=r}return null}function kc(n,r,o,a=!0){const l=r[10];l.begin&&l.begin();try{uf(n,r,n.template,o)}catch(v){throw a&&pf(r,v),v}finally{l.end&&l.end()}}function El(n,r,o){ro(0),r(n,o)}function Yl(n){return n[7]||(n[7]=[])}function Rm(n){return n.cleanup||(n.cleanup=[])}function pf(n,r){const o=n[9],a=o?o.get(gl,null):null;a&&a.handleError(r)}function Zd(n,r,o,a,l){for(let p=0;p<o.length;){const v=o[p++],T=o[p++],O=r[v],B=n.data[v];null!==B.setInput?B.setInput(O,l,a,T):O[T]=l}}function Fc(n,r,o){let a=o?n.styles:null,l=o?n.classes:null,p=0;if(null!==r)for(let v=0;v<r.length;v++){const T=r[v];"number"==typeof T?p=T:1==p?l=le(l,T):2==p&&(a=le(a,T+": "+r[++v]+";"))}o?n.styles=a:n.stylesWithoutHost=a,o?n.classes=l:n.classesWithoutHost=l}function gf(n,r,o,a,l=!1){for(;null!==o;){const p=r[o.index];if(null!==p&&a.push(Hr(p)),li(p))for(let T=10;T<p.length;T++){const O=p[T],B=O[1].firstChild;null!==B&&gf(O[1],O,B,a)}const v=o.type;if(8&v)gf(n,r,o.child,a);else if(32&v){const T=il(o,r);let O;for(;O=T();)a.push(O)}else if(16&v){const T=ha(r,o);if(Array.isArray(T))a.push(...T);else{const O=Uu(r[16]);gf(O[1],O,T,a,!0)}}o=l?o.projectionNext:o.next}return a}class Gd{constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,o=r[1];return gf(o,r,o.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(li(r)){const o=r[8],a=o?o.indexOf(this):-1;a>-1&&(Bu(r,a),E(o,a))}this._attachedToViewContainer=!1}Oh(this._lView[1],this._lView)}onDestroy(r){Vd(this._lView[1],this._lView,null,r)}markForCheck(){wu(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){kc(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ti(n,r){jl(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Ne(902,!1);this._appRef=r}}class zp extends Gd{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;kc(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class mf extends ql{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=Qn(r);return new Lc(o,this.ngModule)}}function Nm(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}class v_{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,a){a=un(a);const l=this.injector.get(r,Gh,a);return l!==Gh||o===Gh?l:this.parentInjector.get(r,o,a)}}class Lc extends Xg{constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function fo(n){return n.map(Ip).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Nm(this.componentDef.inputs)}get outputs(){return Nm(this.componentDef.outputs)}create(r,o,a,l){let p=(l=l||this.ngModule)instanceof ya?l:l?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const v=p?new v_(r,p):r,T=v.get(Dd,null);if(null===T)throw new Ne(407,!1);const O=v.get(Td,null),B=T.createRenderer(null,this.componentDef),Q=this.componentDef.selectors[0][0]||"div",ce=a?function Pp(n,r,o){return n.selectRootElement(r,o===Ln.ShadowDom)}(B,a,this.componentDef.encapsulation):Ja(B,Q,function Pm(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Q)),ke=this.componentDef.onPush?288:272,Ye=Ud(0,null,null,1,0,null,null,null,null,null),_t=bl(null,Ye,null,ke,null,null,T,B,O,v,null);let Vt,tn;bo(_t);try{const vn=this.componentDef;let Kn,xt=null;vn.findHostDirectiveDefs?(Kn=[],xt=new Map,vn.findHostDirectiveDefs(vn,Kn,xt),Kn.push(vn)):Kn=[vn];const gr=function Fm(n,r){const o=n[1];return n[22]=r,wl(o,22,2,"#host",null)}(_t,ce),_s=function w_(n,r,o,a,l,p,v,T){const O=l[1];!function E_(n,r,o,a){for(const l of n)r.mergedAttrs=Qt(r.mergedAttrs,l.hostAttrs);null!==r.mergedAttrs&&(Fc(r,r.mergedAttrs,!0),null!==o&&Ec(a,o,r))}(a,n,r,v);const B=p.createRenderer(r,o),Q=bl(l,Oc(o),null,o.onPush?32:16,l[n.index],n,p,B,T||null,null,null);return O.firstCreatePass&&jd(O,n,a.length-1),Wu(l,Q),l[n.index]=Q}(gr,ce,vn,Kn,_t,T,B);tn=ds(Ye,22),ce&&function C_(n,r,o,a){if(a)br(n,o,["ng-version",Ac.full]);else{const{attrs:l,classes:p}=function s_(n){const r=[],o=[];let a=1,l=2;for(;a<n.length;){let p=n[a];if("string"==typeof p)2===l?""!==p&&r.push(p,n[++a]):8===l&&o.push(p);else{if(!To(l))break;l=p}a++}return{attrs:r,classes:o}}(r.selectors[0]);l&&br(n,o,l),p&&p.length>0&&Jo(n,o,p.join(" "))}}(B,vn,ce,a),void 0!==o&&function qp(n,r,o){const a=n.projection=[];for(let l=0;l<r.length;l++){const p=o[l];a.push(null!=p?Array.from(p):null)}}(tn,this.ngContentSelectors,o),Vt=function I_(n,r,o,a,l,p){const v=Ce(),T=l[1],O=dr(v,l);cf(T,l,v,o,null,a);for(let Q=0;Q<o.length;Q++)ni(Pt(l,T,v.directiveStart+Q,v),l);hf(T,l,v),O&&ni(O,l);const B=Pt(l,T,v.directiveStart+v.componentOffset,v);if(n[8]=l[8]=B,null!==p)for(const Q of p)Q(B,r);return Ld(T,v,n),B}(_s,vn,Kn,xt,_t,[Wp]),Rp(Ye,_t,null)}finally{Su()}return new km(this.componentType,Vt,qu(tn,_t),_t,tn)}}class km extends Jg{constructor(r,o,a,l,p){super(),this.location=a,this._rootLView=l,this._tNode=p,this.instance=o,this.hostView=this.changeDetectorRef=new zp(l),this.componentType=r}setInput(r,o){const a=this._tNode.inputs;let l;if(null!==a&&(l=a[r])){const p=this._rootLView;Zd(p[1],p,l,r,o),Up(p,this._tNode.index)}}get injector(){return new so(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Wp(){const n=Ce();$(I()[1],n)}function Kp(n){let r=function yf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const a=[n];for(;r;){let l;if(ii(n))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Ne(903,!1);l=r.\u0275dir}if(l){if(o){a.push(l);const v=n;v.inputs=Qp(n.inputs),v.declaredInputs=Qp(n.declaredInputs),v.outputs=Qp(n.outputs);const T=l.hostBindings;T&&Xp(n,T);const O=l.viewQuery,B=l.contentQueries;if(O&&Jp(n,O),B&&Lm(n,B),Ie(n.inputs,l.inputs),Ie(n.declaredInputs,l.declaredInputs),Ie(n.outputs,l.outputs),ii(l)&&l.data.animation){const Q=n.data;Q.animation=(Q.animation||[]).concat(l.data.animation)}}const p=l.features;if(p)for(let v=0;v<p.length;v++){const T=p[v];T&&T.ngInherit&&T(n),T===Kp&&(o=!1)}}r=Object.getPrototypeOf(r)}!function Yp(n){let r=0,o=null;for(let a=n.length-1;a>=0;a--){const l=n[a];l.hostVars=r+=l.hostVars,l.hostAttrs=Qt(l.hostAttrs,o=Qt(o,l.hostAttrs))}}(a)}function Qp(n){return n===ar?{}:n===ln?[]:n}function Jp(n,r){const o=n.viewQuery;n.viewQuery=o?(a,l)=>{r(a,l),o(a,l)}:r}function Lm(n,r){const o=n.contentQueries;n.contentQueries=o?(a,l,p)=>{r(a,l,p),o(a,l,p)}:r}function Xp(n,r){const o=n.hostBindings;n.hostBindings=o?(a,l)=>{r(a,l),o(a,l)}:r}let Uc=null;function Ku(){if(!Uc){const n=qe.Symbol;if(n&&n.iterator)Uc=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<r.length;++o){const a=r[o];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Uc=a)}}}return Uc}function Vc(n){return!!qd(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ku()in n)}function qd(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Pa(n,r,o){return n[r]=o}function po(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function Ql(n,r,o,a){const l=po(n,r,o);return po(n,r+1,a)||l}function rg(n,r,o,a){const l=I();return po(l,Pi(),r)&&(S(),Na(Zr(),l,n,r,o,a)),rg}function Df(n,r,o,a,l,p,v,T){const O=I(),B=S(),Q=n+22,ce=B.firstCreatePass?function og(n,r,o,a,l,p,v,T,O){const B=r.consts,Q=wl(r,n,4,v||null,ts(B,T));Vp(r,o,Q,ts(B,O)),$(r,Q);const ce=Q.tViews=Ud(2,Q,a,l,p,r.directiveRegistry,r.pipeRegistry,null,r.schemas,B);return null!==r.queries&&(r.queries.template(r,Q),ce.queries=r.queries.embeddedTView(Q)),Q}(Q,B,O,r,o,a,l,p,v):B.data[Q];Sn(ce,!1);const ke=O[11].createComment("");_u(B,O,ke,ce),ni(ke,O),Wu(O,O[Q]=ff(ke,O,ke,ce)),Hi(ce)&&Op(B,O,ce),null!=v&&Np(O,ce,T)}function ag(n){return function Is(n,r){return n[r]}(function di(){return wn.lFrame.contextLView}(),22+n)}function Tf(n,r,o){const a=I();return po(a,Pi(),r)&&function Ms(n,r,o,a,l,p,v,T){const O=dr(r,o);let Q,B=r.inputs;!T&&null!=B&&(Q=B[a])?(Zd(n,o,Q,a,l),ci(r)&&Up(o,r.index)):3&r.type&&(a=function Lp(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),l=null!=v?v(l,r.value||"",a):l,p.setProperty(O,a,l))}(S(),Zr(),a,n,r,a[11],o,!1),Tf}function Hc(n,r,o,a,l){const v=l?"class":"style";Zd(n,o,r.inputs[v],v,a)}function Kd(n,r,o,a){const l=I(),p=S(),v=22+n,T=l[11],O=l[v]=Ja(T,r,function sa(){return wn.lFrame.currentNamespace}()),B=p.firstCreatePass?function Vr(n,r,o,a,l,p,v){const T=r.consts,B=wl(r,n,2,l,ts(T,p));return Vp(r,o,B,ts(T,v)),null!==B.attrs&&Fc(B,B.attrs,!1),null!==B.mergedAttrs&&Fc(B,B.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,B),B}(v,p,l,0,r,o,a):p.data[v];return Sn(B,!0),Ec(T,O,B),32!=(32&B.flags)&&_u(p,l,O,B),0===function no(){return wn.lFrame.elementDepthCount}()&&ni(O,l),function H(){wn.lFrame.elementDepthCount++}(),Hi(B)&&(Op(p,l,B),Ld(p,B,l)),null!==a&&Np(l,B),Kd}function Yd(){let n=Ce();lr()?function hr(){wn.lFrame.isParent=!1}():(n=n.parent,Sn(n,!1));const r=n;!function L(){wn.lFrame.elementDepthCount--}();const o=S();return o.firstCreatePass&&($(o,n),ei(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Or(n){return 0!=(8&n.flags)}(r)&&Hc(o,r,I(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Vi(n){return 0!=(16&n.flags)}(r)&&Hc(o,r,I(),r.stylesWithoutHost,!1),Yd}function Sf(n,r,o,a){return Kd(n,r,o,a),Yd(),Sf}function iu(){return I()}function xf(n){return!!n&&"function"==typeof n.then}function Zm(n){return!!n&&"function"==typeof n.subscribe}const Jd=Zm;function Mf(n,r,o,a){const l=I(),p=S(),v=Ce();return function Xd(n,r,o,a,l,p,v){const T=Hi(a),B=n.firstCreatePass&&Rm(n),Q=r[8],ce=Yl(r);let ke=!0;if(3&a.type||v){const Vt=dr(a,r),tn=v?v(Vt):Vt,vn=ce.length,Kn=v?gr=>v(Hr(gr[a.index])):a.index;let xt=null;if(!v&&T&&(xt=function Gm(n,r,o,a){const l=n.cleanup;if(null!=l)for(let p=0;p<l.length-1;p+=2){const v=l[p];if(v===o&&l[p+1]===a){const T=r[7],O=l[p+2];return T.length>O?T[O]:null}"string"==typeof v&&(p+=2)}return null}(n,r,l,a.index)),null!==xt)(xt.__ngLastListenerFn__||xt).__ngNextListenerFn__=p,xt.__ngLastListenerFn__=p,ke=!1;else{p=x_(a,r,Q,p,!1);const gr=o.listen(tn,l,p);ce.push(p,gr),B&&B.push(l,Kn,vn,vn+1)}}else p=x_(a,r,Q,p,!1);const Ye=a.outputs;let _t;if(ke&&null!==Ye&&(_t=Ye[l])){const Vt=_t.length;if(Vt)for(let tn=0;tn<Vt;tn+=2){const _s=r[_t[tn]][_t[tn+1]].subscribe(p),Js=ce.length;ce.push(p,_s),B&&B.push(l,a.index,Js,-(Js+1))}}}(p,l,l[11],v,n,r,a),Mf}function zm(n,r,o,a){try{return!1!==o(a)}catch(l){return pf(n,l),!1}}function x_(n,r,o,a,l){return function p(v){if(v===Function)return a;wu(n.componentOffset>-1?yi(n.index,r):r);let O=zm(r,0,a,v),B=p.__ngNextListenerFn__;for(;B;)O=zm(r,0,B,v)&&O,B=B.__ngNextListenerFn__;return l&&!1===O&&(v.preventDefault(),v.returnValue=!1),O}}function qm(n=1){return function ia(n){return(wn.lFrame.contextLView=function ba(n,r){for(;n>0;)r=r[15],n--;return r}(n,wn.lFrame.contextLView))[8]}(n)}function ec(n,r){return n<<17|r<<2}function Eu(n){return n>>17&32767}function Sl(n){return 2|n}function Qu(n){return(131068&n)>>2}function dg(n,r){return-131069&n|r<<2}function hg(n){return 1|n}function Qm(n,r,o,a,l){const p=n[o+1],v=null===r;let T=a?Eu(p):Qu(p),O=!1;for(;0!==T&&(!1===O||v);){const Q=n[T+1];F_(n[T],r)&&(O=!0,n[T+1]=a?hg(Q):Sl(Q)),T=a?Eu(Q):Qu(Q)}O&&(n[o+1]=a?Sl(p):hg(p))}function F_(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&zt(n,r)>=0}function ey(n,r){return function Qs(n,r,o,a){const l=I(),p=S(),v=function Kr(n){const r=wn.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}(2);p.firstUpdatePass&&function th(n,r,o,a){const l=n.data;if(null===l[o+1]){const p=l[fs()],v=function Al(n,r){return r>=n.expandoStartIndex}(n,o);(function iy(n,r){return 0!=(n.flags&(r?8:16))})(p,a)&&null===r&&!v&&(r=!1),r=function Z_(n,r,o,a){const l=function ko(n){const r=wn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let p=a?r.residualClasses:r.residualStyles;if(null===l)0===(a?r.classBindings:r.styleBindings)&&(o=nh(o=Zc(null,n,r,o,a),r.attrs,a),p=null);else{const v=r.directiveStylingLast;if(-1===v||n[v]!==l)if(o=Zc(l,n,r,o,a),null===p){let O=function G_(n,r,o){const a=o?r.classBindings:r.styleBindings;if(0!==Qu(a))return n[Eu(a)]}(n,r,a);void 0!==O&&Array.isArray(O)&&(O=Zc(null,n,r,O[1],a),O=nh(O,r.attrs,a),function ny(n,r,o,a){n[Eu(o?r.classBindings:r.styleBindings)]=a}(n,r,a,O))}else p=function ry(n,r,o){let a;const l=r.directiveEnd;for(let p=1+r.directiveStylingLast;p<l;p++)a=nh(a,n[p].hostAttrs,o);return nh(a,r.attrs,o)}(n,r,a)}return void 0!==p&&(a?r.residualClasses=p:r.residualStyles=p),o}(l,p,r,a),function Ym(n,r,o,a,l,p){let v=p?r.classBindings:r.styleBindings,T=Eu(v),O=Qu(v);n[a]=o;let Q,B=!1;if(Array.isArray(o)){const ce=o;Q=ce[1],(null===Q||zt(ce,Q)>0)&&(B=!0)}else Q=o;if(l)if(0!==O){const ke=Eu(n[T+1]);n[a+1]=ec(ke,T),0!==ke&&(n[ke+1]=dg(n[ke+1],a)),n[T+1]=function Km(n,r){return 131071&n|r<<17}(n[T+1],a)}else n[a+1]=ec(T,0),0!==T&&(n[T+1]=dg(n[T+1],a)),T=a;else n[a+1]=ec(O,0),0===T?T=a:n[O+1]=dg(n[O+1],a),O=a;B&&(n[a+1]=Sl(n[a+1])),Qm(n,Q,a,!0),Qm(n,Q,a,!1),function k_(n,r,o,a,l){const p=l?n.residualClasses:n.residualStyles;null!=p&&"string"==typeof r&&zt(p,r)>=0&&(o[a+1]=hg(o[a+1]))}(r,Q,n,a,p),v=ec(T,O),p?r.classBindings=v:r.styleBindings=v}(l,p,r,o,v,a)}}(p,n,v,a),r!==fr&&po(l,v,r)&&function pg(n,r,o,a,l,p,v,T){if(!(3&r.type))return;const O=n.data,B=O[T+1],Q=function N_(n){return 1==(1&n)}(B)?Vf(O,r,o,l,Qu(B),v):void 0;Bf(Q)||(Bf(p)||function cg(n){return 2==(2&n)}(B)&&(p=Vf(O,null,o,l,T,v)),function al(n,r,o,a,l){if(r)l?n.addClass(o,a):n.removeClass(o,a);else{let p=-1===a.indexOf("-")?void 0:la.DashCase;null==l?n.removeStyle(o,a,p):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),p|=la.Important),n.setStyle(o,a,l,p))}}(a,v,Xi(fs(),o),l,p))}(p,p.data[fs()],l,l[11],n,l[v+1]=function z_(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=ye(w(n)))),n}(r,o),a,v)}(n,r,null,!0),ey}function Zc(n,r,o,a,l){let p=null;const v=o.directiveEnd;let T=o.directiveStylingLast;for(-1===T?T=o.directiveStart:T++;T<v&&(p=r[T],a=nh(a,p.hostAttrs,l),p!==n);)T++;return null!==n&&(o.directiveStylingLast=T),a}function nh(n,r,o){const a=o?1:2;let l=-1;if(null!==r)for(let p=0;p<r.length;p++){const v=r[p];"number"==typeof v?l=v:l===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Re(n,v,!!o||r[++p]))}return void 0===n?null:n}function Vf(n,r,o,a,l,p){const v=null===r;let T;for(;l>0;){const O=n[l],B=Array.isArray(O),Q=B?O[1]:O,ce=null===Q;let ke=o[l+1];ke===fr&&(ke=ce?ln:void 0);let Ye=ce?vt(ke,a):Q===a?ke:void 0;if(B&&!Bf(Ye)&&(Ye=vt(O,a)),Bf(Ye)&&(T=Ye,v))return T;const _t=n[l+1];l=v?Eu(_t):Qu(_t)}if(null!==r){let O=p?r.residualClasses:r.residualStyles;null!=O&&(T=vt(O,a))}return T}function Bf(n){return void 0!==n}function jf(n,r=""){const o=I(),a=S(),l=n+22,p=a.firstCreatePass?wl(a,l,1,r,null):a.data[l],v=o[l]=function mu(n,r){return n.createText(r)}(o[11],r);_u(a,o,v,p),Sn(p,!1)}function sh(n){return oh("",n,""),sh}function oh(n,r,o){const a=I(),l=function Bc(n,r,o,a){return po(n,Pi(),o)?r+Ve(o)+a:fr}(a,n,r,o);return l!==fr&&function ru(n,r,o){const a=Xi(r,n);!function ud(n,r,o){n.setValue(r,o)}(n[11],a,o)}(a,fs(),l),oh}const Rl=void 0;var zf=["en",[["a","p"],["AM","PM"],Rl],[["AM","PM"],Rl,Rl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rl,"{1} 'at' {0}",Rl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Cg(n){const o=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let zc={};function su(n){const r=function Ol(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=hy(r);if(o)return o;const a=r.split("-")[0];if(o=hy(a),o)return o;if("en"===a)return zf;throw new Ne(701,!1)}function Ju(n){return su(n)[jn.PluralCase]}function hy(n){return n in zc||(zc[n]=qe.ng&&qe.ng.common&&qe.ng.common.locales&&qe.ng.common.locales[n]),zc[n]}var jn=(()=>((jn=jn||{})[jn.LocaleId=0]="LocaleId",jn[jn.DayPeriodsFormat=1]="DayPeriodsFormat",jn[jn.DayPeriodsStandalone=2]="DayPeriodsStandalone",jn[jn.DaysFormat=3]="DaysFormat",jn[jn.DaysStandalone=4]="DaysStandalone",jn[jn.MonthsFormat=5]="MonthsFormat",jn[jn.MonthsStandalone=6]="MonthsStandalone",jn[jn.Eras=7]="Eras",jn[jn.FirstDayOfWeek=8]="FirstDayOfWeek",jn[jn.WeekendRange=9]="WeekendRange",jn[jn.DateFormat=10]="DateFormat",jn[jn.TimeFormat=11]="TimeFormat",jn[jn.DateTimeFormat=12]="DateTimeFormat",jn[jn.NumberSymbols=13]="NumberSymbols",jn[jn.NumberFormats=14]="NumberFormats",jn[jn.CurrencyCode=15]="CurrencyCode",jn[jn.CurrencySymbol=16]="CurrencySymbol",jn[jn.CurrencyName=17]="CurrencyName",jn[jn.Currencies=18]="Currencies",jn[jn.Directionality=19]="Directionality",jn[jn.PluralCase=20]="PluralCase",jn[jn.ExtraData=21]="ExtraData",jn))();const Wc="en-US";let fy=Wc;function Ee(n,r,o,a,l){if(n=me(n),Array.isArray(n))for(let p=0;p<n.length;p++)Ee(n[p],r,o,a,l);else{const p=S(),v=I();let T=hl(n)?n:me(n.provide),O=Yg(n);const B=Ce(),Q=1048575&B.providerIndexes,ce=B.directiveStart,ke=B.providerIndexes>>20;if(hl(n)||!n.multi){const Ye=new pr(O,l,Kl),_t=Tt(T,r,l?Q:Q+ke,ce);-1===_t?(zo(Ba(B,v),p,T),We(p,n,r.length),r.push(T),B.directiveStart++,B.directiveEnd++,l&&(B.providerIndexes+=1048576),o.push(Ye),v.push(Ye)):(o[_t]=Ye,v[_t]=Ye)}else{const Ye=Tt(T,r,Q+ke,ce),_t=Tt(T,r,Q,Q+ke),Vt=Ye>=0&&o[Ye],tn=_t>=0&&o[_t];if(l&&!tn||!l&&!Vt){zo(Ba(B,v),p,T);const vn=function Qi(n,r,o,a,l){const p=new pr(n,o,Kl);return p.multi=[],p.index=r,p.componentProviders=0,bt(p,l,a&&!o),p}(l?Cn:en,o.length,l,a,O);!l&&tn&&(o[_t].providerFactory=vn),We(p,n,r.length,0),r.push(T),B.directiveStart++,B.directiveEnd++,l&&(B.providerIndexes+=1048576),o.push(vn),v.push(vn)}else We(p,n,Ye>-1?Ye:_t,bt(o[l?_t:Ye],O,!l&&a));!l&&a&&tn&&o[_t].componentProviders++}}}function We(n,r,o,a){const l=hl(r),p=function qg(n){return!!n.useClass}(r);if(l||p){const O=(p?me(r.useClass):r).prototype.ngOnDestroy;if(O){const B=n.destroyHooks||(n.destroyHooks=[]);if(!l&&r.multi){const Q=B.indexOf(o);-1===Q?B.push(o,[a,O]):B[Q+1].push(a,O)}else B.push(o,O)}}}function bt(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function Tt(n,r,o,a){for(let l=o;l<a;l++)if(r[l]===n)return l;return-1}function en(n,r,o,a){return hi(this.multi,[])}function Cn(n,r,o,a){const l=this.multi;let p;if(this.providerFactory){const v=this.providerFactory.componentProviders,T=Pt(o,o[1],this.providerFactory.index,a);p=T.slice(0,v),hi(l,p);for(let O=v;O<T.length;O++)p.push(T[O])}else p=[],hi(l,p);return p}function hi(n,r){for(let o=0;o<n.length;o++)r.push((0,n[o])());return r}function jr(n,r=[]){return o=>{o.providersResolver=(a,l)=>function ne(n,r,o){const a=S();if(a.firstCreatePass){const l=ii(n);Ee(o,a.data,a.blueprint,l,!0),Ee(r,a.data,a.blueprint,l,!1)}}(a,l?l(n):n,r)}}class Oi{}class zr{}function ri(n,r){return new Xc(n,r??null)}class Xc extends Oi{constructor(r,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mf(this);const a=Qr(r);this._bootstrapComponents=bu(a.bootstrap),this._r3Injector=Jh(r,o,[{provide:Oi,useValue:this},{provide:ql,useValue:this.componentFactoryResolver}],ye(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Dv extends zr{constructor(r){super(),this.moduleType=r}create(r){return new Xc(this.moduleType,r)}}class Vb extends Oi{constructor(r,o,a){super(),this.componentFactoryResolver=new mf(this),this.instance=null;const l=new Kg([...r,{provide:Oi,useValue:this},{provide:ql,useValue:this.componentFactoryResolver}],o||fl(),a,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Tv(n,r,o=null){return new Vb(n,r,o).injector}let Bb=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const a=pp(0,o.type),l=a.length>0?Tv([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,l)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Ht({token:n,providedIn:"environment",factory:()=>new n(Mt(ya))}),n})();function y0(n){n.getStandaloneInjector=r=>r.get(Bb).getOrCreateStandaloneInjector(n)}function C0(n,r,o,a){return function S0(n,r,o,a,l,p){const v=r+o;return po(n,v,l)?Pa(n,v+1,p?a.call(p,l):a(l)):Ng(n,v+1)}(I(),Jn(),n,r,o,a)}function D0(n,r,o,a,l){return function A0(n,r,o,a,l,p,v){const T=r+o;return Ql(n,T,l,p)?Pa(n,T+2,v?a.call(v,l,p):a(l,p)):Ng(n,T+2)}(I(),Jn(),n,r,o,a,l)}function T0(n,r,o,a,l,p){return function x0(n,r,o,a,l,p,v,T){const O=r+o;return function bf(n,r,o,a,l){const p=Ql(n,r,o,a);return po(n,r+2,l)||p}(n,O,l,p,v)?Pa(n,O+3,T?a.call(T,l,p,v):a(l,p,v)):Ng(n,O+3)}(I(),Jn(),n,r,o,a,l,p)}function Ng(n,r){const o=n[r];return o===fr?void 0:o}function Av(n){return r=>{setTimeout(n,void 0,r)}}const Pl=class lw extends f.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,a){let l=r,p=o||(()=>null),v=a;if(r&&"object"==typeof r){const O=r;l=O.next?.bind(O),p=O.error?.bind(O),v=O.complete?.bind(O)}this.__isAsync&&(p=Av(p),l&&(l=Av(l)),v&&(v=Av(v)));const T=super.subscribe({next:l,error:p,complete:v});return r instanceof h.w0&&r.add(T),T}};function cw(){return this._results[Ku()]()}class xv{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Ku(),a=xv.prototype;a[o]||(a[o]=cw)}get changes(){return this._changes||(this._changes=new Pl)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const a=this;a.dirty=!1;const l=function Ki(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Wa(n,r,o){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let l=n[a],p=r[a];if(o&&(l=o(l),p=o(p)),p!==l)return!1}return!0}(a._results,l,o))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let kg=(()=>{class n{}return n.__NG_ELEMENT_ID__=fw,n})();const dw=kg,hw=class extends dw{constructor(r,o,a){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=a}createEmbeddedView(r,o){const a=this._declarationTContainer.tViews,l=bl(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,o||null);l[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(l[19]=v.createEmbeddedView(a)),Rp(a,l,r),new Gd(l)}};function fw(){return Sy(Ce(),I())}function Sy(n,r){return 4&n.type?new hw(r,n,qu(n,r)):null}let Ay=(()=>{class n{}return n.__NG_ELEMENT_ID__=pw,n})();function pw(){return P0(Ce(),I())}const gw=Ay,O0=class extends gw{constructor(r,o,a){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=a}get element(){return qu(this._hostTNode,this._hostLView)}get injector(){return new so(this._hostTNode,this._hostLView)}get parentInjector(){const r=Un(this._hostTNode,this._hostLView);if(qt(r)){const o=_i(r,this._hostLView),a=ot(r);return new so(o[1].data[a+8],o)}return new so(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=N0(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,o,a){let l,p;"number"==typeof a?l=a:null!=a&&(l=a.index,p=a.injector);const v=r.createEmbeddedView(o||{},p);return this.insert(v,l),v}createComponent(r,o,a,l,p){const v=r&&!function wo(n){return"function"==typeof n}(r);let T;if(v)T=o;else{const ce=o||{};T=ce.index,a=ce.injector,l=ce.projectableNodes,p=ce.environmentInjector||ce.ngModuleRef}const O=v?r:new Lc(Qn(r)),B=a||this.parentInjector;if(!p&&null==O.ngModule){const ke=(v?B:this.parentInjector).get(ya,null);ke&&(p=ke)}const Q=O.create(B,l,void 0,p);return this.insert(Q.hostView,T),Q}insert(r,o){const a=r._lView,l=a[1];if(function _o(n){return li(n[3])}(a)){const Q=this.indexOf(r);if(-1!==Q)this.detach(Q);else{const ce=a[3],ke=new O0(ce,ce[6],ce[3]);ke.detach(ke.indexOf(r))}}const p=this._adjustIndex(o),v=this._lContainer;!function pc(n,r,o,a){const l=10+a,p=o.length;a>0&&(o[l-1][4]=r),a<p-10?(r[4]=o[l],b(o,10+a,r)):(o.push(r),r[4]=null),r[3]=o;const v=r[17];null!==v&&o!==v&&function Rh(n,r){const o=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===o?n[9]=[r]:o.push(r)}(v,r);const T=r[19];null!==T&&T.insertView(n),r[2]|=64}(l,a,v,p);const T=ho(p,v),O=a[11],B=Ar(O,v[7]);return null!==B&&function up(n,r,o,a,l,p){a[0]=l,a[6]=r,jl(n,a,o,1,l,p)}(l,v[6],O,a,B,T),r.attachToViewContainerRef(),b(Mv(v),p,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=N0(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),a=Bu(this._lContainer,o);a&&(E(Mv(this._lContainer),o),Oh(a[1],a))}detach(r){const o=this._adjustIndex(r,-1),a=Bu(this._lContainer,o);return a&&null!=E(Mv(this._lContainer),o)?new Gd(a):null}_adjustIndex(r,o=0){return r??this.length+o}};function N0(n){return n[8]}function Mv(n){return n[8]||(n[8]=[])}function P0(n,r){let o;const a=r[n.index];if(li(a))o=a;else{let l;if(8&n.type)l=Hr(a);else{const p=r[11];l=p.createComment("");const v=dr(n,r);yu(p,Ar(p,v),l,function Ph(n,r){return n.nextSibling(r)}(p,v),!1)}r[n.index]=o=ff(a,r,l,n),Wu(r,o)}return new O0(o,n,r)}class Rv{constructor(r){this.queryList=r,this.matches=null}clone(){return new Rv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ov{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const a=null!==r.contentQueries?r.contentQueries[0]:o.length,l=[];for(let p=0;p<a;p++){const v=o.getByIndex(p);l.push(this.queries[v.indexInDeclarationView].clone())}return new Ov(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==H0(r,o).matches&&this.queries[o].setDirty()}}class k0{constructor(r,o,a=null){this.predicate=r,this.flags=o,this.read=a}}class Nv{constructor(r=[]){this.queries=r}elementStart(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let a=0;a<this.length;a++){const l=null!==o?o.length:0,p=this.getByIndex(a).embeddedTView(r,l);p&&(p.indexInDeclarationView=a,null!==o?o.push(p):o=[p])}return null!==o?new Nv(o):null}template(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Pv{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new Pv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const p=a[l];this.matchTNodeWithReadOption(r,o,mw(o,p)),this.matchTNodeWithReadOption(r,o,Yr(o,r,p,!1,!1))}else a===kg?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Yr(o,r,a,!1,!1))}matchTNodeWithReadOption(r,o,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===Cd||l===Ay||l===kg&&4&o.type)this.addMatch(o.index,-2);else{const p=Yr(o,r,l,!1,!1);null!==p&&this.addMatch(o.index,p)}else this.addMatch(o.index,a)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function mw(n,r){const o=n.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===r)return o[a+1];return null}function _w(n,r,o,a){return-1===o?function yw(n,r){return 11&n.type?qu(n,r):4&n.type?Sy(n,r):null}(r,n):-2===o?function vw(n,r,o){return o===Cd?qu(r,n):o===kg?Sy(r,n):o===Ay?P0(r,n):void 0}(n,r,a):Pt(n,n[1],o,r)}function F0(n,r,o,a){const l=r[19].queries[a];if(null===l.matches){const p=n.data,v=o.matches,T=[];for(let O=0;O<v.length;O+=2){const B=v[O];T.push(B<0?null:_w(r,p[B],v[O+1],o.metadata.read))}l.matches=T}return l.matches}function kv(n,r,o,a){const l=n.queries.getByIndex(o),p=l.matches;if(null!==p){const v=F0(n,r,l,o);for(let T=0;T<p.length;T+=2){const O=p[T];if(O>0)a.push(v[T/2]);else{const B=p[T+1],Q=r[-O];for(let ce=10;ce<Q.length;ce++){const ke=Q[ce];ke[17]===ke[3]&&kv(ke[1],ke,B,a)}if(null!==Q[9]){const ce=Q[9];for(let ke=0;ke<ce.length;ke++){const Ye=ce[ke];kv(Ye[1],Ye,B,a)}}}}}return a}function L0(n){const r=I(),o=S(),a=Fa();ro(a+1);const l=H0(o,a);if(n.dirty&&function Cs(n){return 4==(4&n[2])}(r)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const p=l.crossesNgTemplate?kv(o,r,a,[]):F0(o,r,l,a);n.reset(p,vp),n.notifyOnChanges()}return!0}return!1}function U0(n,r,o){const a=S();a.firstCreatePass&&($0(a,new k0(n,r,o),-1),2==(2&r)&&(a.staticViewQueries=!0)),j0(a,I(),r)}function V0(n,r,o,a){const l=S();if(l.firstCreatePass){const p=Ce();$0(l,new k0(r,o,a),p.index),function ww(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}j0(l,I(),o)}function B0(){return function bw(n,r){return n[19].queries[r].queryList}(I(),Fa())}function j0(n,r,o){const a=new xv(4==(4&o));Vd(n,r,a,a.destroy),null===r[19]&&(r[19]=new Ov),r[19].queries.push(new Rv(a))}function $0(n,r,o){null===n.queries&&(n.queries=new Nv),n.queries.track(new Pv(r,o))}function H0(n,r){return n.queries.getByIndex(r)}function My(...n){}const ub=new Gr("Application Initializer");let Ry=(()=>{class n{constructor(o){this.appInits=o,this.resolve=My,this.reject=My,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const p=this.appInits[l]();if(xf(p))o.push(p);else if(Jd(p)){const v=new Promise((T,O)=>{p.subscribe({complete:T,error:O})});o.push(v)}}Promise.all(o).then(()=>{a()}).catch(l=>{this.reject(l)}),0===o.length&&a(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(Mt(ub,8))},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lb=new Gr("AppId",{providedIn:"root",factory:function cb(){return`${Bv()}${Bv()}${Bv()}`}});function Bv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const db=new Gr("Platform Initializer"),$w=new Gr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),hb=new Gr("appBootstrapListener");let Hw=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Oy=new Gr("LocaleId",{providedIn:"root",factory:()=>Gt(Oy,K.Optional|K.SkipSelf)||function Zw(){return typeof $localize<"u"&&$localize.locale||Wc}()}),Gw=new Gr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class zw{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let qw=(()=>{class n{compileModuleSync(o){return new Dv(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),p=bu(Qr(o).declarations).reduce((v,T)=>{const O=Qn(T);return O&&v.push(new Lc(O)),v},[]);return new zw(a,p)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yw=(()=>Promise.resolve(0))();function jv(n){typeof Zone>"u"?Yw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Du{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pl(!1),this.onMicrotaskEmpty=new Pl(!1),this.onStable=new Pl(!1),this.onError=new Pl(!1),typeof Zone>"u")throw new Ne(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&o,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function Qw(){let n=qe.requestAnimationFrame,r=qe.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function eE(n){const r=()=>{!function Xw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(qe,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Hv(n),n.isCheckStableRunning=!0,$v(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Hv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,l,p,v,T)=>{try{return gb(n),o.invokeTask(l,p,v,T)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||n.shouldCoalesceRunChangeDetection)&&r(),mb(n)}},onInvoke:(o,a,l,p,v,T,O)=>{try{return gb(n),o.invoke(l,p,v,T,O)}finally{n.shouldCoalesceRunChangeDetection&&r(),mb(n)}},onHasTask:(o,a,l,p)=>{o.hasTask(l,p),a===l&&("microTask"==p.change?(n._hasPendingMicrotasks=p.microTask,Hv(n),$v(n)):"macroTask"==p.change&&(n.hasPendingMacrotasks=p.macroTask))},onHandleError:(o,a,l,p)=>(o.handleError(l,p),n.runOutsideAngular(()=>n.onError.emit(p)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Du.isInAngularZone())throw new Ne(909,!1)}static assertNotInAngularZone(){if(Du.isInAngularZone())throw new Ne(909,!1)}run(r,o,a){return this._inner.run(r,o,a)}runTask(r,o,a,l){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+l,r,Jw,My,My);try{return p.runTask(v,o,a)}finally{p.cancelTask(v)}}runGuarded(r,o,a){return this._inner.runGuarded(r,o,a)}runOutsideAngular(r){return this._outer.run(r)}}const Jw={};function $v(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Hv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function gb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function mb(n){n._nesting--,$v(n)}class tE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pl,this.onMicrotaskEmpty=new Pl,this.onStable=new Pl,this.onError=new Pl}run(r,o,a){return r.apply(o,a)}runGuarded(r,o,a){return r.apply(o,a)}runOutsideAngular(r){return r()}runTask(r,o,a,l){return r.apply(o,a)}}const yb=new Gr(""),_b=new Gr("");let Zv,nE=(()=>{class n{constructor(o,a,l){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Zv||(function rE(n){Zv=n}(l),l.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Du.assertNotInAngularZone(),jv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())jv(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,l){let p=-1;a&&a>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:p,updateCb:l})}whenStable(o,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(Mt(Du),Mt(vb),Mt(_b))},n.\u0275prov=Ht({token:n,factory:n.\u0275fac}),n})(),vb=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return Zv?.findTestabilityInTree(this,o,a)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),ed=null;const bb=new Gr("AllowMultipleToken"),Gv=new Gr("PlatformDestroyListeners");class oE{constructor(r,o){this.name=r,this.token=o}}function Eb(n,r,o=[]){const a=`Platform: ${r}`,l=new Gr(a);return(p=[])=>{let v=zv();if(!v||v.injector.get(bb,!1)){const T=[...o,...p,{provide:l,useValue:!0}];n?n(T):function aE(n){if(ed&&!ed.get(bb,!1))throw new Ne(400,!1);ed=n;const r=n.get(Cb);(function wb(n){const r=n.get(db,null);r&&r.forEach(o=>o())})(n)}(function Ib(n=[],r){return _l.create({name:r,providers:[{provide:gp,useValue:"platform"},{provide:Gv,useValue:new Set([()=>ed=null])},...n]})}(T,a))}return function lE(n){const r=zv();if(!r)throw new Ne(401,!1);return r}()}}function zv(){return ed?.get(Cb)??null}let Cb=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const l=function Tb(n,r){let o;return o="noop"===n?new tE:("zone.js"===n?void 0:n)||new Du(r),o}(a?.ngZone,function Db(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),p=[{provide:Du,useValue:l}];return l.run(()=>{const v=_l.create({providers:p,parent:this.injector,name:o.moduleType.name}),T=o.create(v),O=T.injector.get(gl,null);if(!O)throw new Ne(402,!1);return l.runOutsideAngular(()=>{const B=l.onError.subscribe({next:Q=>{O.handleError(Q)}});T.onDestroy(()=>{Py(this._modules,T),B.unsubscribe()})}),function Sb(n,r,o){try{const a=o();return xf(a)?a.catch(l=>{throw r.runOutsideAngular(()=>n.handleError(l)),l}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(O,l,()=>{const B=T.injector.get(Ry);return B.runInitializers(),B.donePromise.then(()=>(function Dg(n){Lt(n,"Expected localeId to be defined"),"string"==typeof n&&(fy=n.toLowerCase().replace(/_/g,"-"))}(T.injector.get(Oy,Wc)||Wc),this._moduleDoBootstrap(T),T))})})}bootstrapModule(o,a=[]){const l=Ab({},a);return function iE(n,r,o){const a=new Dv(o);return Promise.resolve(a)}(0,0,o).then(p=>this.bootstrapModuleFactory(p,l))}_moduleDoBootstrap(o){const a=o.injector.get(Ny);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new Ne(403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ne(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(Gv,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Mt(_l))},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Ab(n,r){return Array.isArray(r)?r.reduce(Ab,n):{...n,...r}}let Ny=(()=>{class n{constructor(o,a,l){this._zone=o,this._injector=a,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new C.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),v=new C.y(T=>{let O;this._zone.runOutsideAngular(()=>{O=this._zone.onStable.subscribe(()=>{Du.assertNotInAngularZone(),jv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const B=this._zone.onUnstable.subscribe(()=>{Du.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{O.unsubscribe(),B.unsubscribe()}});this.isStable=(0,pe.T)(p,v.pipe((0,V.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const l=o instanceof Xg;if(!this._injector.get(Ry).done)throw!l&&Tr(o),new Ne(405,false);let v;v=l?o:this._injector.get(ql).resolveComponentFactory(o),this.componentTypes.push(v.componentType);const T=function sE(n){return n.isBoundToModule}(v)?void 0:this._injector.get(Oi),B=v.create(_l.NULL,[],a||v.selector,T),Q=B.location.nativeElement,ce=B.injector.get(yb,null);return ce?.registerApplication(Q),B.onDestroy(()=>{this.detachView(B.hostView),Py(this.components,B),ce?.unregisterApplication(Q)}),this._loadComponent(B),B}tick(){if(this._runningTick)throw new Ne(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;Py(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(hb,[]).concat(this._bootstrapListeners).forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Py(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Ne(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(Mt(Du),Mt(ya),Mt(gl))},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Py(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}function dE(){return!1}let hE=(()=>{class n{}return n.__NG_ELEMENT_ID__=fE,n})();function fE(n){return function pE(n,r,o){if(ci(n)&&!o){const a=yi(n.index,r);return new Gd(a,a)}return 47&n.type?new Gd(r[16],r):null}(Ce(),I(),16==(16&n))}class Nb{constructor(){}supports(r){return Vc(r)}create(r){return new bE(r)}}const vE=(n,r)=>r;class bE{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||vE}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,a=this._removalsHead,l=0,p=null;for(;o||a;){const v=!a||o&&o.currentIndex<kb(a,l,p)?o:a,T=kb(v,l,p),O=v.currentIndex;if(v===a)l--,a=a._nextRemoved;else if(o=o._next,null==v.previousIndex)l++;else{p||(p=[]);const B=T-l,Q=O-l;if(B!=Q){for(let ke=0;ke<B;ke++){const Ye=ke<p.length?p[ke]:p[ke]=0,_t=Ye+ke;Q<=_t&&_t<B&&(p[ke]=Ye+1)}p[v.previousIndex]=Q-B}}T!==O&&r(v,T,O)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!Vc(r))throw new Ne(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,p,v,o=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let T=0;T<this.length;T++)p=r[T],v=this._trackByFn(T,p),null!==o&&Object.is(o.trackById,v)?(a&&(o=this._verifyReinsertion(o,p,v,T)),Object.is(o.item,p)||this._addIdentityChange(o,p)):(o=this._mismatch(o,p,v,T),a=!0),o=o._next}else l=0,function S_(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[Ku()]();let a;for(;!(a=o.next()).done;)r(a.value)}}(r,T=>{v=this._trackByFn(l,T),null!==o&&Object.is(o.trackById,v)?(a&&(o=this._verifyReinsertion(o,T,v,l)),Object.is(o.item,T)||this._addIdentityChange(o,T)):(o=this._mismatch(o,T,v,l),a=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,a,l){let p;return null===r?p=this._itTail:(p=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,p,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,p,l)):r=this._addAfter(new wE(o,a),p,l),r}_verifyReinsertion(r,o,a,l){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==p?r=this._reinsertAfter(p,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,p=r._nextRemoved;return null===l?this._removalsHead=p:l._nextRemoved=p,null===p?this._removalsTail=l:p._prevRemoved=l,this._insertAfter(r,o,a),this._addToMoves(r,a),r}_moveAfter(r,o,a){return this._unlink(r),this._insertAfter(r,o,a),this._addToMoves(r,a),r}_addAfter(r,o,a){return this._insertAfter(r,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,a){const l=null===o?this._itHead:o._next;return r._next=l,r._prev=o,null===l?this._itTail=r:l._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new Pb),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,a=r._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Pb),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class wE{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class EE{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const o=r._prevDup,a=r._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class Pb{constructor(){this.map=new Map}put(r){const o=r.trackById;let a=this.map.get(o);a||(a=new EE,this.map.set(o,a)),a.add(r)}get(r,o){const l=this.map.get(r);return l?l.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kb(n,r,o){const a=n.previousIndex;if(null===a)return a;let l=0;return o&&a<o.length&&(l=o[a]),a+r+l}class Fb{constructor(){}supports(r){return r instanceof Map||qd(r)}create(){return new IE}}class IE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||qd(r)))throw new Ne(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const p=this._getOrCreateRecordForKey(l,a);o=this._insertBeforeOrAppend(o,p)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const a=r._prev;return o._next=r,o._prev=a,r._prev=o,a&&(a._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,o);const p=l._prev,v=l._next;return p&&(p._next=v),v&&(v._prev=p),l._next=null,l._prev=null,l}const a=new CE(r);return this._records.set(r,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(a=>o(r[a],a))}}class CE{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Lb(){return new Qv([new Nb])}let Qv=(()=>{class n{constructor(o){this.factories=o}static create(o,a){if(null!=a){const l=a.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||Lb()),deps:[[n,new F,new Ta]]}}find(o){const a=this.factories.find(l=>l.supports(o));if(null!=a)return a;throw new Ne(901,!1)}}return n.\u0275prov=Ht({token:n,providedIn:"root",factory:Lb}),n})();function Ub(){return new Jv([new Fb])}let Jv=(()=>{class n{constructor(o){this.factories=o}static create(o,a){if(a){const l=a.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||Ub()),deps:[[n,new F,new Ta]]}}find(o){const a=this.factories.find(l=>l.supports(o));if(a)return a;throw new Ne(901,!1)}}return n.\u0275prov=Ht({token:n,providedIn:"root",factory:Ub}),n})();const SE=Eb(null,"core",[]);let AE=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Mt(Ny))},n.\u0275mod=nr({type:n}),n.\u0275inj=Nn({}),n})();function xE(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(kt,Ze,P)=>{P.d(Ze,{Fj:()=>oe,qu:()=>L,NI:()=>yr,u:()=>Zs,cw:()=>ve,sg:()=>Os,u5:()=>hs,JJ:()=>rt,JL:()=>qe,YN:()=>ls,UX:()=>wn,Q7:()=>Ii,EJ:()=>eo,kI:()=>Y,_Y:()=>Bn,Kr:()=>Ni});var f=P(4650),h=P(6895),C=P(8996),pe=P(9751),V=P(4742),_e=P(8421),Ie=P(7669),ye=P(5403),le=P(3268),re=P(1810),me=P(4004);let nt=(()=>{class I{constructor(A,Z){this._renderer=A,this._elementRef=Z,this.onChange=Ce=>{},this.onTouched=()=>{}}setProperty(A,Z){this._renderer.setProperty(this._elementRef.nativeElement,A,Z)}registerOnTouched(A){this.onTouched=A}registerOnChange(A){this.onChange=A}setDisabledState(A){this.setProperty("disabled",A)}}return I.\u0275fac=function(A){return new(A||I)(f.Y36(f.Qsj),f.Y36(f.SBq))},I.\u0275dir=f.lG2({type:I}),I})(),ze=(()=>{class I extends nt{}return I.\u0275fac=function(){let S;return function(Z){return(S||(S=f.n5z(I)))(Z||I)}}(),I.\u0275dir=f.lG2({type:I,features:[f.qOj]}),I})();const Ke=new f.OlP("NgValueAccessor"),xe={provide:Ke,useExisting:(0,f.Gpc)(()=>oe),multi:!0},Xe=new f.OlP("CompositionEventMode");let oe=(()=>{class I extends nt{constructor(A,Z,Ce){super(A,Z),this._compositionMode=Ce,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ve(){const I=(0,h.q)()?(0,h.q)().getUserAgent():"";return/android (\d+)/.test(I.toLowerCase())}())}writeValue(A){this.setProperty("value",A??"")}_handleInput(A){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(A)}_compositionStart(){this._composing=!0}_compositionEnd(A){this._composing=!1,this._compositionMode&&this.onChange(A)}}return I.\u0275fac=function(A){return new(A||I)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Xe,8))},I.\u0275dir=f.lG2({type:I,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(A,Z){1&A&&f.NdJ("input",function(gt){return Z._handleInput(gt.target.value)})("blur",function(){return Z.onTouched()})("compositionstart",function(){return Z._compositionStart()})("compositionend",function(gt){return Z._compositionEnd(gt.target.value)})},features:[f._Bn([xe]),f.qOj]}),I})();function Be(I){return null==I||("string"==typeof I||Array.isArray(I))&&0===I.length}function at(I){return null!=I&&"number"==typeof I.length}const Qe=new f.OlP("NgValidators"),he=new f.OlP("NgAsyncValidators"),Oe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Y{static min(S){return function se(I){return S=>{if(Be(S.value)||Be(I))return null;const A=parseFloat(S.value);return!isNaN(A)&&A<I?{min:{min:I,actual:S.value}}:null}}(S)}static max(S){return function ae(I){return S=>{if(Be(S.value)||Be(I))return null;const A=parseFloat(S.value);return!isNaN(A)&&A>I?{max:{max:I,actual:S.value}}:null}}(S)}static required(S){return De(S)}static requiredTrue(S){return function ft(I){return!0===I.value?null:{required:!0}}(S)}static email(S){return function mt(I){return Be(I.value)||Oe.test(I.value)?null:{email:!0}}(S)}static minLength(S){return function Ct(I){return S=>Be(S.value)||!at(S.value)?null:S.value.length<I?{minlength:{requiredLength:I,actualLength:S.value.length}}:null}(S)}static maxLength(S){return function Ot(I){return S=>at(S.value)&&S.value.length>I?{maxlength:{requiredLength:I,actualLength:S.value.length}}:null}(S)}static pattern(S){return function Yt(I){if(!I)return Nt;let S,A;return"string"==typeof I?(A="","^"!==I.charAt(0)&&(A+="^"),A+=I,"$"!==I.charAt(I.length-1)&&(A+="$"),S=new RegExp(A)):(A=I.toString(),S=I),Z=>{if(Be(Z.value))return null;const Ce=Z.value;return S.test(Ce)?null:{pattern:{requiredPattern:A,actualValue:Ce}}}}(S)}static nullValidator(S){return null}static compose(S){return On(S)}static composeAsync(S){return wr(S)}}function De(I){return Be(I.value)?{required:!0}:null}function Nt(I){return null}function Lt(I){return null!=I}function Et(I){return(0,f.QGY)(I)?(0,C.D)(I):I}function Zt(I){let S={};return I.forEach(A=>{S=null!=A?{...S,...A}:S}),0===Object.keys(S).length?null:S}function Wt(I,S){return S.map(A=>A(I))}function Ht(I){return I.map(S=>function bn(I){return!I.validate}(S)?S:A=>S.validate(A))}function On(I){if(!I)return null;const S=I.filter(Lt);return 0==S.length?null:function(A){return Zt(Wt(A,S))}}function Nn(I){return null!=I?On(Ht(I)):null}function wr(I){if(!I)return null;const S=I.filter(Lt);return 0==S.length?null:function(A){return function te(...I){const S=(0,Ie.jO)(I),{args:A,keys:Z}=(0,V.D)(I),Ce=new pe.y(gt=>{const{length:En}=A;if(!En)return void gt.complete();const Sn=new Array(En);let lr=En,hr=En;for(let di=0;di<En;di++){let Rr=!1;(0,_e.Xf)(A[di]).subscribe((0,ye.x)(gt,Mi=>{Rr||(Rr=!0,hr--),Sn[di]=Mi},()=>lr--,void 0,()=>{(!lr||!Rr)&&(hr||gt.next(Z?(0,re.n)(Z,Sn):Sn),gt.complete())}))}});return S?Ce.pipe((0,le.Z)(S)):Ce}(Wt(A,S).map(Et)).pipe((0,me.U)(Zt))}}function Pn(I){return null!=I?wr(Ht(I)):null}function _r(I,S){return null===I?[S]:Array.isArray(I)?[...I,S]:[I,S]}function Pr(I){return I._rawValidators}function Jt(I){return I._rawAsyncValidators}function Gn(I){return I?Array.isArray(I)?I:[I]:[]}function er(I,S){return Array.isArray(I)?I.includes(S):I===S}function An(I,S){const A=Gn(S);return Gn(I).forEach(Ce=>{er(A,Ce)||A.push(Ce)}),A}function Fe(I,S){return Gn(S).filter(A=>!er(I,A))}class ie{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(S){this._rawValidators=S||[],this._composedValidatorFn=Nn(this._rawValidators)}_setAsyncValidators(S){this._rawAsyncValidators=S||[],this._composedAsyncValidatorFn=Pn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(S){this._onDestroyCallbacks.push(S)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(S=>S()),this._onDestroyCallbacks=[]}reset(S){this.control&&this.control.reset(S)}hasError(S,A){return!!this.control&&this.control.hasError(S,A)}getError(S,A){return this.control?this.control.getError(S,A):null}}class K extends ie{get formDirective(){return null}get path(){return null}}class ut extends ie{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class At{constructor(S){this._cd=S}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let rt=(()=>{class I extends At{constructor(A){super(A)}}return I.\u0275fac=function(A){return new(A||I)(f.Y36(ut,2))},I.\u0275dir=f.lG2({type:I,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(A,Z){2&A&&f.ekj("ng-untouched",Z.isUntouched)("ng-touched",Z.isTouched)("ng-pristine",Z.isPristine)("ng-dirty",Z.isDirty)("ng-valid",Z.isValid)("ng-invalid",Z.isInvalid)("ng-pending",Z.isPending)},features:[f.qOj]}),I})(),qe=(()=>{class I extends At{constructor(A){super(A)}}return I.\u0275fac=function(A){return new(A||I)(f.Y36(K,10))},I.\u0275dir=f.lG2({type:I,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(A,Z){2&A&&f.ekj("ng-untouched",Z.isUntouched)("ng-touched",Z.isTouched)("ng-pristine",Z.isPristine)("ng-dirty",Z.isDirty)("ng-valid",Z.isValid)("ng-invalid",Z.isInvalid)("ng-pending",Z.isPending)("ng-submitted",Z.isSubmitted)},features:[f.qOj]}),I})();const rn="VALID",be="INVALID",fe="PENDING",Se="DISABLED";function st(I){return(Ln(I)?I.validators:I)||null}function Rt(I,S){return(Ln(S)?S.asyncValidators:I)||null}function Ln(I){return null!=I&&!Array.isArray(I)&&"object"==typeof I}function ar(I,S,A){const Z=I.controls;if(!(S?Object.keys(Z):Z).length)throw new f.vHH(1e3,"");if(!Z[A])throw new f.vHH(1001,"")}function ln(I,S,A){I._forEachChild((Z,Ce)=>{if(void 0===A[Ce])throw new f.vHH(1002,"")})}class je{constructor(S,A){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(S),this._assignAsyncValidators(A)}get validator(){return this._composedValidatorFn}set validator(S){this._rawValidators=this._composedValidatorFn=S}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(S){this._rawAsyncValidators=this._composedAsyncValidatorFn=S}get parent(){return this._parent}get valid(){return this.status===rn}get invalid(){return this.status===be}get pending(){return this.status==fe}get disabled(){return this.status===Se}get enabled(){return this.status!==Se}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(S){this._assignValidators(S)}setAsyncValidators(S){this._assignAsyncValidators(S)}addValidators(S){this.setValidators(An(S,this._rawValidators))}addAsyncValidators(S){this.setAsyncValidators(An(S,this._rawAsyncValidators))}removeValidators(S){this.setValidators(Fe(S,this._rawValidators))}removeAsyncValidators(S){this.setAsyncValidators(Fe(S,this._rawAsyncValidators))}hasValidator(S){return er(this._rawValidators,S)}hasAsyncValidator(S){return er(this._rawAsyncValidators,S)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(S={}){this.touched=!0,this._parent&&!S.onlySelf&&this._parent.markAsTouched(S)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(S=>S.markAllAsTouched())}markAsUntouched(S={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(A=>{A.markAsUntouched({onlySelf:!0})}),this._parent&&!S.onlySelf&&this._parent._updateTouched(S)}markAsDirty(S={}){this.pristine=!1,this._parent&&!S.onlySelf&&this._parent.markAsDirty(S)}markAsPristine(S={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(A=>{A.markAsPristine({onlySelf:!0})}),this._parent&&!S.onlySelf&&this._parent._updatePristine(S)}markAsPending(S={}){this.status=fe,!1!==S.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!S.onlySelf&&this._parent.markAsPending(S)}disable(S={}){const A=this._parentMarkedDirty(S.onlySelf);this.status=Se,this.errors=null,this._forEachChild(Z=>{Z.disable({...S,onlySelf:!0})}),this._updateValue(),!1!==S.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...S,skipPristineCheck:A}),this._onDisabledChange.forEach(Z=>Z(!0))}enable(S={}){const A=this._parentMarkedDirty(S.onlySelf);this.status=rn,this._forEachChild(Z=>{Z.enable({...S,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:S.emitEvent}),this._updateAncestors({...S,skipPristineCheck:A}),this._onDisabledChange.forEach(Z=>Z(!1))}_updateAncestors(S){this._parent&&!S.onlySelf&&(this._parent.updateValueAndValidity(S),S.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(S){this._parent=S}getRawValue(){return this.value}updateValueAndValidity(S={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===rn||this.status===fe)&&this._runAsyncValidator(S.emitEvent)),!1!==S.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!S.onlySelf&&this._parent.updateValueAndValidity(S)}_updateTreeValidity(S={emitEvent:!0}){this._forEachChild(A=>A._updateTreeValidity(S)),this.updateValueAndValidity({onlySelf:!0,emitEvent:S.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Se:rn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(S){if(this.asyncValidator){this.status=fe,this._hasOwnPendingAsyncValidator=!0;const A=Et(this.asyncValidator(this));this._asyncValidationSubscription=A.subscribe(Z=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Z,{emitEvent:S})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(S,A={}){this.errors=S,this._updateControlsErrors(!1!==A.emitEvent)}get(S){let A=S;return null==A||(Array.isArray(A)||(A=A.split(".")),0===A.length)?null:A.reduce((Z,Ce)=>Z&&Z._find(Ce),this)}getError(S,A){const Z=A?this.get(A):this;return Z&&Z.errors?Z.errors[S]:null}hasError(S,A){return!!this.getError(S,A)}get root(){let S=this;for(;S._parent;)S=S._parent;return S}_updateControlsErrors(S){this.status=this._calculateStatus(),S&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(S)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?Se:this.errors?be:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fe)?fe:this._anyControlsHaveStatus(be)?be:rn}_anyControlsHaveStatus(S){return this._anyControls(A=>A.status===S)}_anyControlsDirty(){return this._anyControls(S=>S.dirty)}_anyControlsTouched(){return this._anyControls(S=>S.touched)}_updatePristine(S={}){this.pristine=!this._anyControlsDirty(),this._parent&&!S.onlySelf&&this._parent._updatePristine(S)}_updateTouched(S={}){this.touched=this._anyControlsTouched(),this._parent&&!S.onlySelf&&this._parent._updateTouched(S)}_registerOnCollectionChange(S){this._onCollectionChange=S}_setUpdateStrategy(S){Ln(S)&&null!=S.updateOn&&(this._updateOn=S.updateOn)}_parentMarkedDirty(S){return!S&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(S){return null}_assignValidators(S){this._rawValidators=Array.isArray(S)?S.slice():S,this._composedValidatorFn=function Ge(I){return Array.isArray(I)?Nn(I):I||null}(this._rawValidators)}_assignAsyncValidators(S){this._rawAsyncValidators=Array.isArray(S)?S.slice():S,this._composedAsyncValidatorFn=function yn(I){return Array.isArray(I)?Pn(I):I||null}(this._rawAsyncValidators)}}class ve extends je{constructor(S,A,Z){super(st(A),Rt(Z,A)),this.controls=S,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(S,A){return this.controls[S]?this.controls[S]:(this.controls[S]=A,A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange),A)}addControl(S,A,Z={}){this.registerControl(S,A),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}removeControl(S,A={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),delete this.controls[S],this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}setControl(S,A,Z={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),delete this.controls[S],A&&this.registerControl(S,A),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}contains(S){return this.controls.hasOwnProperty(S)&&this.controls[S].enabled}setValue(S,A={}){ln(this,0,S),Object.keys(S).forEach(Z=>{ar(this,!0,Z),this.controls[Z].setValue(S[Z],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(S,A={}){null!=S&&(Object.keys(S).forEach(Z=>{const Ce=this.controls[Z];Ce&&Ce.patchValue(S[Z],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(S={},A={}){this._forEachChild((Z,Ce)=>{Z.reset(S[Ce],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this._reduceChildren({},(S,A,Z)=>(S[Z]=A.getRawValue(),S))}_syncPendingControls(){let S=this._reduceChildren(!1,(A,Z)=>!!Z._syncPendingControls()||A);return S&&this.updateValueAndValidity({onlySelf:!0}),S}_forEachChild(S){Object.keys(this.controls).forEach(A=>{const Z=this.controls[A];Z&&S(Z,A)})}_setUpControls(){this._forEachChild(S=>{S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(S){for(const[A,Z]of Object.entries(this.controls))if(this.contains(A)&&S(Z))return!0;return!1}_reduceValue(){return this._reduceChildren({},(A,Z,Ce)=>((Z.enabled||this.disabled)&&(A[Ce]=Z.value),A))}_reduceChildren(S,A){let Z=S;return this._forEachChild((Ce,gt)=>{Z=A(Z,Ce,gt)}),Z}_allControlsDisabled(){for(const S of Object.keys(this.controls))if(this.controls[S].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(S){return this.controls.hasOwnProperty(S)?this.controls[S]:null}}class ht extends ve{}const sn=new f.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>kn}),kn="always";function xr(I,S,A=kn){ji(I,S),S.valueAccessor.writeValue(I.value),(I.disabled||"always"===A)&&S.valueAccessor.setDisabledState?.(I.disabled),function os(I,S){S.valueAccessor.registerOnChange(A=>{I._pendingValue=A,I._pendingChange=!0,I._pendingDirty=!0,"change"===I.updateOn&&Mr(I,S)})}(I,S),function Dr(I,S){const A=(Z,Ce)=>{S.valueAccessor.writeValue(Z),Ce&&S.viewToModelUpdate(Z)};I.registerOnChange(A),S._registerOnDestroy(()=>{I._unregisterOnChange(A)})}(I,S),function Qn(I,S){S.valueAccessor.registerOnTouched(()=>{I._pendingTouched=!0,"blur"===I.updateOn&&I._pendingChange&&Mr(I,S),"submit"!==I.updateOn&&I.markAsTouched()})}(I,S),function Rs(I,S){if(S.valueAccessor.setDisabledState){const A=Z=>{S.valueAccessor.setDisabledState(Z)};I.registerOnDisabledChange(A),S._registerOnDestroy(()=>{I._unregisterOnDisabledChange(A)})}}(I,S)}function Li(I,S,A=!0){const Z=()=>{};S.valueAccessor&&(S.valueAccessor.registerOnChange(Z),S.valueAccessor.registerOnTouched(Z)),Si(I,S),I&&(S._invokeOnDestroyCallbacks(),I._registerOnCollectionChange(()=>{}))}function nr(I,S){I.forEach(A=>{A.registerOnValidatorChange&&A.registerOnValidatorChange(S)})}function ji(I,S){const A=Pr(I);null!==S.validator?I.setValidators(_r(A,S.validator)):"function"==typeof A&&I.setValidators([A]);const Z=Jt(I);null!==S.asyncValidator?I.setAsyncValidators(_r(Z,S.asyncValidator)):"function"==typeof Z&&I.setAsyncValidators([Z]);const Ce=()=>I.updateValueAndValidity();nr(S._rawValidators,Ce),nr(S._rawAsyncValidators,Ce)}function Si(I,S){let A=!1;if(null!==I){if(null!==S.validator){const Ce=Pr(I);if(Array.isArray(Ce)&&Ce.length>0){const gt=Ce.filter(En=>En!==S.validator);gt.length!==Ce.length&&(A=!0,I.setValidators(gt))}}if(null!==S.asyncValidator){const Ce=Jt(I);if(Array.isArray(Ce)&&Ce.length>0){const gt=Ce.filter(En=>En!==S.asyncValidator);gt.length!==Ce.length&&(A=!0,I.setAsyncValidators(gt))}}}const Z=()=>{};return nr(S._rawValidators,Z),nr(S._rawAsyncValidators,Z),A}function Mr(I,S){I._pendingDirty&&I.markAsDirty(),I.setValue(I._pendingValue,{emitModelToViewChange:!1}),S.viewToModelUpdate(I._pendingValue),I._pendingChange=!1}function $i(I,S){const A=I.indexOf(S);A>-1&&I.splice(A,1)}function Xr(I){return"object"==typeof I&&null!==I&&2===Object.keys(I).length&&"value"in I&&"disabled"in I}const yr=class extends je{constructor(S=null,A,Z){super(st(A),Rt(Z,A)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(S),this._setUpdateStrategy(A),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ln(A)&&(A.nonNullable||A.initialValueIsDefault)&&(this.defaultValue=Xr(S)?S.value:S)}setValue(S,A={}){this.value=this._pendingValue=S,this._onChange.length&&!1!==A.emitModelToViewChange&&this._onChange.forEach(Z=>Z(this.value,!1!==A.emitViewToModelChange)),this.updateValueAndValidity(A)}patchValue(S,A={}){this.setValue(S,A)}reset(S=this.defaultValue,A={}){this._applyFormState(S),this.markAsPristine(A),this.markAsUntouched(A),this.setValue(this.value,A),this._pendingChange=!1}_updateValue(){}_anyControls(S){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(S){this._onChange.push(S)}_unregisterOnChange(S){$i(this._onChange,S)}registerOnDisabledChange(S){this._onDisabledChange.push(S)}_unregisterOnDisabledChange(S){$i(this._onDisabledChange,S)}_forEachChild(S){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(S){Xr(S)?(this.value=this._pendingValue=S.value,S.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=S}};let Bn=(()=>{class I{}return I.\u0275fac=function(A){return new(A||I)},I.\u0275dir=f.lG2({type:I,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),I})(),ci=(()=>{class I{}return I.\u0275fac=function(A){return new(A||I)},I.\u0275mod=f.oAB({type:I}),I.\u0275inj=f.cJS({}),I})();const js=new f.OlP("NgModelWithFormControlWarning"),$s={provide:K,useExisting:(0,f.Gpc)(()=>Os)};let Os=(()=>{class I extends K{constructor(A,Z,Ce){super(),this.callSetDisabledState=Ce,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(A),this._setAsyncValidators(Z)}ngOnChanges(A){this._checkFormPresent(),A.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Si(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(A){const Z=this.form.get(A.path);return xr(Z,A,this.callSetDisabledState),Z.updateValueAndValidity({emitEvent:!1}),this.directives.push(A),Z}getControl(A){return this.form.get(A.path)}removeControl(A){Li(A.control||null,A,!1),function as(I,S){const A=I.indexOf(S);A>-1&&I.splice(A,1)}(this.directives,A)}addFormGroup(A){this._setUpFormContainer(A)}removeFormGroup(A){this._cleanUpFormContainer(A)}getFormGroup(A){return this.form.get(A.path)}addFormArray(A){this._setUpFormContainer(A)}removeFormArray(A){this._cleanUpFormContainer(A)}getFormArray(A){return this.form.get(A.path)}updateModel(A,Z){this.form.get(A.path).setValue(Z)}onSubmit(A){return this.submitted=!0,function bi(I,S){I._syncPendingControls(),S.forEach(A=>{const Z=A.control;"submit"===Z.updateOn&&Z._pendingChange&&(A.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(A),"dialog"===A?.target?.method}onReset(){this.resetForm()}resetForm(A){this.form.reset(A),this.submitted=!1}_updateDomValue(){this.directives.forEach(A=>{const Z=A.control,Ce=this.form.get(A.path);Z!==Ce&&(Li(Z||null,A),(I=>I instanceof yr)(Ce)&&(xr(Ce,A,this.callSetDisabledState),A.control=Ce))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(A){const Z=this.form.get(A.path);(function Tr(I,S){ji(I,S)})(Z,A),Z.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(A){if(this.form){const Z=this.form.get(A.path);Z&&function Qr(I,S){return Si(I,S)}(Z,A)&&Z.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ji(this.form,this),this._oldForm&&Si(this._oldForm,this)}_checkFormPresent(){}}return I.\u0275fac=function(A){return new(A||I)(f.Y36(Qe,10),f.Y36(he,10),f.Y36(sn,8))},I.\u0275dir=f.lG2({type:I,selectors:[["","formGroup",""]],hostBindings:function(A,Z){1&A&&f.NdJ("submit",function(gt){return Z.onSubmit(gt)})("reset",function(){return Z.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([$s]),f.qOj,f.TTD]}),I})();const Gi={provide:ut,useExisting:(0,f.Gpc)(()=>Zs)};let Zs=(()=>{class I extends ut{constructor(A,Z,Ce,gt,En){super(),this._ngModelWarningConfig=En,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=A,this._setValidators(Z),this._setAsyncValidators(Ce),this.valueAccessor=function ur(I,S){if(!S)return null;let A,Z,Ce;return Array.isArray(S),S.forEach(gt=>{gt.constructor===oe?A=gt:function kr(I){return Object.getPrototypeOf(I.constructor)===ze}(gt)?Z=gt:Ce=gt}),Ce||Z||A||null}(0,gt)}set isDisabled(A){}ngOnChanges(A){this._added||this._setUpControl(),function Jr(I,S){if(!I.hasOwnProperty("model"))return!1;const A=I.model;return!!A.isFirstChange()||!Object.is(S,A.currentValue)}(A,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(A){this.viewModel=A,this.update.emit(A)}get path(){return function Yn(I,S){return[...S.path,I]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return I._ngModelWarningSentOnce=!1,I.\u0275fac=function(A){return new(A||I)(f.Y36(K,13),f.Y36(Qe,10),f.Y36(he,10),f.Y36(Ke,10),f.Y36(js,8))},I.\u0275dir=f.lG2({type:I,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([Gi]),f.qOj,f.TTD]}),I})();const Po={provide:Ke,useExisting:(0,f.Gpc)(()=>eo),multi:!0};function So(I,S){return null==I?`${S}`:(S&&"object"==typeof S&&(S="Object"),`${I}: ${S}`.slice(0,50))}let eo=(()=>{class I extends ze{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(A){this._compareWith=A}writeValue(A){this.value=A;const Ce=So(this._getOptionId(A),A);this.setProperty("value",Ce)}registerOnChange(A){this.onChange=Z=>{this.value=this._getOptionValue(Z),A(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(A){for(const Z of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Z),A))return Z;return null}_getOptionValue(A){const Z=function mi(I){return I.split(":")[0]}(A);return this._optionMap.has(Z)?this._optionMap.get(Z):A}}return I.\u0275fac=function(){let S;return function(Z){return(S||(S=f.n5z(I)))(Z||I)}}(),I.\u0275dir=f.lG2({type:I,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(A,Z){1&A&&f.NdJ("change",function(gt){return Z.onChange(gt.target.value)})("blur",function(){return Z.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([Po]),f.qOj]}),I})(),ls=(()=>{class I{constructor(A,Z,Ce){this._element=A,this._renderer=Z,this._select=Ce,this._select&&(this.id=this._select._registerOption())}set ngValue(A){null!=this._select&&(this._select._optionMap.set(this.id,A),this._setElementValue(So(this.id,A)),this._select.writeValue(this._select.value))}set value(A){this._setElementValue(A),this._select&&this._select.writeValue(this._select.value)}_setElementValue(A){this._renderer.setProperty(this._element.nativeElement,"value",A)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return I.\u0275fac=function(A){return new(A||I)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(eo,9))},I.\u0275dir=f.lG2({type:I,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),I})();const cs={provide:Ke,useExisting:(0,f.Gpc)(()=>cr),multi:!0};function Gs(I,S){return null==I?`${S}`:("string"==typeof S&&(S=`'${S}'`),S&&"object"==typeof S&&(S="Object"),`${I}: ${S}`.slice(0,50))}let cr=(()=>{class I extends ze{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(A){this._compareWith=A}writeValue(A){let Z;if(this.value=A,Array.isArray(A)){const Ce=A.map(gt=>this._getOptionId(gt));Z=(gt,En)=>{gt._setSelected(Ce.indexOf(En.toString())>-1)}}else Z=(Ce,gt)=>{Ce._setSelected(!1)};this._optionMap.forEach(Z)}registerOnChange(A){this.onChange=Z=>{const Ce=[],gt=Z.selectedOptions;if(void 0!==gt){const En=gt;for(let Sn=0;Sn<En.length;Sn++){const hr=this._getOptionValue(En[Sn].value);Ce.push(hr)}}else{const En=Z.options;for(let Sn=0;Sn<En.length;Sn++){const lr=En[Sn];if(lr.selected){const hr=this._getOptionValue(lr.value);Ce.push(hr)}}}this.value=Ce,A(Ce)}}_registerOption(A){const Z=(this._idCounter++).toString();return this._optionMap.set(Z,A),Z}_getOptionId(A){for(const Z of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Z)._value,A))return Z;return null}_getOptionValue(A){const Z=function Ji(I){return I.split(":")[0]}(A);return this._optionMap.has(Z)?this._optionMap.get(Z)._value:A}}return I.\u0275fac=function(){let S;return function(Z){return(S||(S=f.n5z(I)))(Z||I)}}(),I.\u0275dir=f.lG2({type:I,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(A,Z){1&A&&f.NdJ("change",function(gt){return Z.onChange(gt.target)})("blur",function(){return Z.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([cs]),f.qOj]}),I})(),Ni=(()=>{class I{constructor(A,Z,Ce){this._element=A,this._renderer=Z,this._select=Ce,this._select&&(this.id=this._select._registerOption(this))}set ngValue(A){null!=this._select&&(this._value=A,this._setElementValue(Gs(this.id,A)),this._select.writeValue(this._select.value))}set value(A){this._select?(this._value=A,this._setElementValue(Gs(this.id,A)),this._select.writeValue(this._select.value)):this._setElementValue(A)}_setElementValue(A){this._renderer.setProperty(this._element.nativeElement,"value",A)}_setSelected(A){this._renderer.setProperty(this._element.nativeElement,"selected",A)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return I.\u0275fac=function(A){return new(A||I)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(cr,9))},I.\u0275dir=f.lG2({type:I,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),I})(),xi=(()=>{class I{constructor(){this._validator=Nt}ngOnChanges(A){if(this.inputName in A){const Z=this.normalizeInput(A[this.inputName].currentValue);this._enabled=this.enabled(Z),this._validator=this._enabled?this.createValidator(Z):Nt,this._onChange&&this._onChange()}}validate(A){return this._validator(A)}registerOnValidatorChange(A){this._onChange=A}enabled(A){return null!=A}}return I.\u0275fac=function(A){return new(A||I)},I.\u0275dir=f.lG2({type:I,features:[f.TTD]}),I})();const Wr={provide:Qe,useExisting:(0,f.Gpc)(()=>Ii),multi:!0};let Ii=(()=>{class I extends xi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=f.D6c,this.createValidator=A=>De}enabled(A){return A}}return I.\u0275fac=function(){let S;return function(Z){return(S||(S=f.n5z(I)))(Z||I)}}(),I.\u0275dir=f.lG2({type:I,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(A,Z){2&A&&f.uIk("required",Z._enabled?"":null)},inputs:{required:"required"},features:[f._Bn([Wr]),f.qOj]}),I})(),qi=(()=>{class I{}return I.\u0275fac=function(A){return new(A||I)},I.\u0275mod=f.oAB({type:I}),I.\u0275inj=f.cJS({imports:[ci]}),I})(),hs=(()=>{class I{static withConfig(A){return{ngModule:I,providers:[{provide:sn,useValue:A.callSetDisabledState??kn}]}}}return I.\u0275fac=function(A){return new(A||I)},I.\u0275mod=f.oAB({type:I}),I.\u0275inj=f.cJS({imports:[qi]}),I})(),wn=(()=>{class I{static withConfig(A){return{ngModule:I,providers:[{provide:js,useValue:A.warnOnNgModelWithFormControl??"always"},{provide:sn,useValue:A.callSetDisabledState??kn}]}}}return I.\u0275fac=function(A){return new(A||I)},I.\u0275mod=f.oAB({type:I}),I.\u0275inj=f.cJS({imports:[qi]}),I})();class xo extends je{constructor(S,A,Z){super(st(A),Rt(Z,A)),this.controls=S,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(S){return this.controls[this._adjustIndex(S)]}push(S,A={}){this.controls.push(S),this._registerControl(S),this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}insert(S,A,Z={}){this.controls.splice(S,0,A),this._registerControl(A),this.updateValueAndValidity({emitEvent:Z.emitEvent})}removeAt(S,A={}){let Z=this._adjustIndex(S);Z<0&&(Z=0),this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),this.controls.splice(Z,1),this.updateValueAndValidity({emitEvent:A.emitEvent})}setControl(S,A,Z={}){let Ce=this._adjustIndex(S);Ce<0&&(Ce=0),this.controls[Ce]&&this.controls[Ce]._registerOnCollectionChange(()=>{}),this.controls.splice(Ce,1),A&&(this.controls.splice(Ce,0,A),this._registerControl(A)),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(S,A={}){ln(this,0,S),S.forEach((Z,Ce)=>{ar(this,!1,Ce),this.at(Ce).setValue(Z,{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(S,A={}){null!=S&&(S.forEach((Z,Ce)=>{this.at(Ce)&&this.at(Ce).patchValue(Z,{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(S=[],A={}){this._forEachChild((Z,Ce)=>{Z.reset(S[Ce],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this.controls.map(S=>S.getRawValue())}clear(S={}){this.controls.length<1||(this._forEachChild(A=>A._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:S.emitEvent}))}_adjustIndex(S){return S<0?S+this.length:S}_syncPendingControls(){let S=this.controls.reduce((A,Z)=>!!Z._syncPendingControls()||A,!1);return S&&this.updateValueAndValidity({onlySelf:!0}),S}_forEachChild(S){this.controls.forEach((A,Z)=>{S(A,Z)})}_updateValue(){this.value=this.controls.filter(S=>S.enabled||this.disabled).map(S=>S.value)}_anyControls(S){return this.controls.some(A=>A.enabled&&S(A))}_setUpControls(){this._forEachChild(S=>this._registerControl(S))}_allControlsDisabled(){for(const S of this.controls)if(S.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(S){S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange)}_find(S){return this.at(S)??null}}function H(I){return!!I&&(void 0!==I.asyncValidators||void 0!==I.validators||void 0!==I.updateOn)}let L=(()=>{class I{constructor(){this.useNonNullable=!1}get nonNullable(){const A=new I;return A.useNonNullable=!0,A}group(A,Z=null){const Ce=this._reduceControls(A);let gt={};return H(Z)?gt=Z:null!==Z&&(gt.validators=Z.validator,gt.asyncValidators=Z.asyncValidator),new ve(Ce,gt)}record(A,Z=null){const Ce=this._reduceControls(A);return new ht(Ce,Z)}control(A,Z,Ce){let gt={};return this.useNonNullable?(H(Z)?gt=Z:(gt.validators=Z,gt.asyncValidators=Ce),new yr(A,{...gt,nonNullable:!0})):new yr(A,Z,Ce)}array(A,Z,Ce){const gt=A.map(En=>this._createControl(En));return new xo(gt,Z,Ce)}_reduceControls(A){const Z={};return Object.keys(A).forEach(Ce=>{Z[Ce]=this._createControl(A[Ce])}),Z}_createControl(A){return A instanceof yr||A instanceof je?A:Array.isArray(A)?this.control(A[0],A.length>1?A[1]:null,A.length>2?A[2]:null):this.control(A)}}return I.\u0275fac=function(A){return new(A||I)},I.\u0275prov=f.Yz7({token:I,factory:I.\u0275fac,providedIn:wn}),I})()},1481:(kt,Ze,P)=>{P.d(Ze,{Dx:()=>rt,b2:()=>K,q6:()=>er});var f=P(6895),h=P(4650);class C extends f.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class pe extends C{static makeCurrent(){(0,f.HT)(new pe)}onAndCancel(ve,de,Je){return ve.addEventListener(de,Je,!1),()=>{ve.removeEventListener(de,Je,!1)}}dispatchEvent(ve,de){ve.dispatchEvent(de)}remove(ve){ve.parentNode&&ve.parentNode.removeChild(ve)}createElement(ve,de){return(de=de||this.getDefaultDocument()).createElement(ve)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ve){return ve.nodeType===Node.ELEMENT_NODE}isShadowRoot(ve){return ve instanceof DocumentFragment}getGlobalEventTarget(ve,de){return"window"===de?window:"document"===de?ve:"body"===de?ve.body:null}getBaseHref(ve){const de=function _e(){return V=V||document.querySelector("base"),V?V.getAttribute("href"):null}();return null==de?null:function ye(je){Ie=Ie||document.createElement("a"),Ie.setAttribute("href",je);const ve=Ie.pathname;return"/"===ve.charAt(0)?ve:`/${ve}`}(de)}resetBaseElement(){V=null}getUserAgent(){return window.navigator.userAgent}getCookie(ve){return(0,f.Mx)(document.cookie,ve)}}let Ie,V=null;const le=new h.OlP("TRANSITION_ID"),te=[{provide:h.ip1,useFactory:function re(je,ve,de){return()=>{de.get(h.CZH).donePromise.then(()=>{const Je=(0,f.q)(),ht=ve.querySelectorAll(`style[ng-transition="${je}"]`);for(let cn=0;cn<ht.length;cn++)Je.remove(ht[cn])})}},deps:[le,f.K0,h.zs3],multi:!0}];let nt=(()=>{class je{build(){return new XMLHttpRequest}}return je.\u0275fac=function(de){return new(de||je)},je.\u0275prov=h.Yz7({token:je,factory:je.\u0275fac}),je})();const ze=new h.OlP("EventManagerPlugins");let Ke=(()=>{class je{constructor(de,Je){this._zone=Je,this._eventNameToPlugin=new Map,de.forEach(ht=>ht.manager=this),this._plugins=de.slice().reverse()}addEventListener(de,Je,ht){return this._findPluginFor(Je).addEventListener(de,Je,ht)}addGlobalEventListener(de,Je,ht){return this._findPluginFor(Je).addGlobalEventListener(de,Je,ht)}getZone(){return this._zone}_findPluginFor(de){const Je=this._eventNameToPlugin.get(de);if(Je)return Je;const ht=this._plugins;for(let cn=0;cn<ht.length;cn++){const sn=ht[cn];if(sn.supports(de))return this._eventNameToPlugin.set(de,sn),sn}throw new Error(`No event manager plugin found for event ${de}`)}}return je.\u0275fac=function(de){return new(de||je)(h.LFG(ze),h.LFG(h.R0b))},je.\u0275prov=h.Yz7({token:je,factory:je.\u0275fac}),je})();class lt{constructor(ve){this._doc=ve}addGlobalEventListener(ve,de,Je){const ht=(0,f.q)().getGlobalEventTarget(this._doc,ve);if(!ht)throw new Error(`Unsupported event target ${ht} for event ${de}`);return this.addEventListener(ht,de,Je)}}let Ne=(()=>{class je{constructor(){this._stylesSet=new Set}addStyles(de){const Je=new Set;de.forEach(ht=>{this._stylesSet.has(ht)||(this._stylesSet.add(ht),Je.add(ht))}),this.onStylesAdded(Je)}onStylesAdded(de){}getAllStyles(){return Array.from(this._stylesSet)}}return je.\u0275fac=function(de){return new(de||je)},je.\u0275prov=h.Yz7({token:je,factory:je.\u0275fac}),je})(),xe=(()=>{class je extends Ne{constructor(de){super(),this._doc=de,this._hostNodes=new Map,this._hostNodes.set(de.head,[])}_addStylesToHost(de,Je,ht){de.forEach(cn=>{const sn=this._doc.createElement("style");sn.textContent=cn,ht.push(Je.appendChild(sn))})}addHost(de){const Je=[];this._addStylesToHost(this._stylesSet,de,Je),this._hostNodes.set(de,Je)}removeHost(de){const Je=this._hostNodes.get(de);Je&&Je.forEach(Ve),this._hostNodes.delete(de)}onStylesAdded(de){this._hostNodes.forEach((Je,ht)=>{this._addStylesToHost(de,ht,Je)})}ngOnDestroy(){this._hostNodes.forEach(de=>de.forEach(Ve))}}return je.\u0275fac=function(de){return new(de||je)(h.LFG(f.K0))},je.\u0275prov=h.Yz7({token:je,factory:je.\u0275fac}),je})();function Ve(je){(0,f.q)().remove(je)}const Xe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},oe=/%COMP%/g;function Y(je,ve){return ve.flat(100).map(de=>de.replace(oe,je))}function se(je){return ve=>{if("__ngUnwrap__"===ve)return je;!1===je(ve)&&(ve.preventDefault(),ve.returnValue=!1)}}let De=(()=>{class je{constructor(de,Je,ht){this.eventManager=de,this.sharedStylesHost=Je,this.appId=ht,this.rendererByCompId=new Map,this.defaultRenderer=new ft(de)}createRenderer(de,Je){if(!de||!Je)return this.defaultRenderer;switch(Je.encapsulation){case h.ifc.Emulated:{let ht=this.rendererByCompId.get(Je.id);return ht||(ht=new Yt(this.eventManager,this.sharedStylesHost,Je,this.appId),this.rendererByCompId.set(Je.id,ht)),ht.applyToHost(de),ht}case 1:case h.ifc.ShadowDom:return new Nt(this.eventManager,this.sharedStylesHost,de,Je);default:if(!this.rendererByCompId.has(Je.id)){const ht=Y(Je.id,Je.styles);this.sharedStylesHost.addStyles(ht),this.rendererByCompId.set(Je.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return je.\u0275fac=function(de){return new(de||je)(h.LFG(Ke),h.LFG(xe),h.LFG(h.AFp))},je.\u0275prov=h.Yz7({token:je,factory:je.\u0275fac}),je})();class ft{constructor(ve){this.eventManager=ve,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ve,de){return de?document.createElementNS(Xe[de]||de,ve):document.createElement(ve)}createComment(ve){return document.createComment(ve)}createText(ve){return document.createTextNode(ve)}appendChild(ve,de){(Ot(ve)?ve.content:ve).appendChild(de)}insertBefore(ve,de,Je){ve&&(Ot(ve)?ve.content:ve).insertBefore(de,Je)}removeChild(ve,de){ve&&ve.removeChild(de)}selectRootElement(ve,de){let Je="string"==typeof ve?document.querySelector(ve):ve;if(!Je)throw new Error(`The selector "${ve}" did not match any elements`);return de||(Je.textContent=""),Je}parentNode(ve){return ve.parentNode}nextSibling(ve){return ve.nextSibling}setAttribute(ve,de,Je,ht){if(ht){de=ht+":"+de;const cn=Xe[ht];cn?ve.setAttributeNS(cn,de,Je):ve.setAttribute(de,Je)}else ve.setAttribute(de,Je)}removeAttribute(ve,de,Je){if(Je){const ht=Xe[Je];ht?ve.removeAttributeNS(ht,de):ve.removeAttribute(`${Je}:${de}`)}else ve.removeAttribute(de)}addClass(ve,de){ve.classList.add(de)}removeClass(ve,de){ve.classList.remove(de)}setStyle(ve,de,Je,ht){ht&(h.JOm.DashCase|h.JOm.Important)?ve.style.setProperty(de,Je,ht&h.JOm.Important?"important":""):ve.style[de]=Je}removeStyle(ve,de,Je){Je&h.JOm.DashCase?ve.style.removeProperty(de):ve.style[de]=""}setProperty(ve,de,Je){ve[de]=Je}setValue(ve,de){ve.nodeValue=de}listen(ve,de,Je){return"string"==typeof ve?this.eventManager.addGlobalEventListener(ve,de,se(Je)):this.eventManager.addEventListener(ve,de,se(Je))}}function Ot(je){return"TEMPLATE"===je.tagName&&void 0!==je.content}class Yt extends ft{constructor(ve,de,Je,ht){super(ve),this.component=Je;const cn=Y(ht+"-"+Je.id,Je.styles);de.addStyles(cn),this.contentAttr=function he(je){return"_ngcontent-%COMP%".replace(oe,je)}(ht+"-"+Je.id),this.hostAttr=function Oe(je){return"_nghost-%COMP%".replace(oe,je)}(ht+"-"+Je.id)}applyToHost(ve){super.setAttribute(ve,this.hostAttr,"")}createElement(ve,de){const Je=super.createElement(ve,de);return super.setAttribute(Je,this.contentAttr,""),Je}}class Nt extends ft{constructor(ve,de,Je,ht){super(ve),this.sharedStylesHost=de,this.hostEl=Je,this.shadowRoot=Je.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const cn=Y(ht.id,ht.styles);for(let sn=0;sn<cn.length;sn++){const kn=document.createElement("style");kn.textContent=cn[sn],this.shadowRoot.appendChild(kn)}}nodeOrShadowRoot(ve){return ve===this.hostEl?this.shadowRoot:ve}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ve,de){return super.appendChild(this.nodeOrShadowRoot(ve),de)}insertBefore(ve,de,Je){return super.insertBefore(this.nodeOrShadowRoot(ve),de,Je)}removeChild(ve,de){return super.removeChild(this.nodeOrShadowRoot(ve),de)}parentNode(ve){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ve)))}}let Lt=(()=>{class je extends lt{constructor(de){super(de)}supports(de){return!0}addEventListener(de,Je,ht){return de.addEventListener(Je,ht,!1),()=>this.removeEventListener(de,Je,ht)}removeEventListener(de,Je,ht){return de.removeEventListener(Je,ht)}}return je.\u0275fac=function(de){return new(de||je)(h.LFG(f.K0))},je.\u0275prov=h.Yz7({token:je,factory:je.\u0275fac}),je})();const Et=["alt","control","meta","shift"],Zt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wt={alt:je=>je.altKey,control:je=>je.ctrlKey,meta:je=>je.metaKey,shift:je=>je.shiftKey};let bn=(()=>{class je extends lt{constructor(de){super(de)}supports(de){return null!=je.parseEventName(de)}addEventListener(de,Je,ht){const cn=je.parseEventName(Je),sn=je.eventCallback(cn.fullKey,ht,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.q)().onAndCancel(de,cn.domEventName,sn))}static parseEventName(de){const Je=de.toLowerCase().split("."),ht=Je.shift();if(0===Je.length||"keydown"!==ht&&"keyup"!==ht)return null;const cn=je._normalizeKey(Je.pop());let sn="",kn=Je.indexOf("code");if(kn>-1&&(Je.splice(kn,1),sn="code."),Et.forEach(xr=>{const Li=Je.indexOf(xr);Li>-1&&(Je.splice(Li,1),sn+=xr+".")}),sn+=cn,0!=Je.length||0===cn.length)return null;const Yn={};return Yn.domEventName=ht,Yn.fullKey=sn,Yn}static matchEventFullKeyCode(de,Je){let ht=Zt[de.key]||de.key,cn="";return Je.indexOf("code.")>-1&&(ht=de.code,cn="code."),!(null==ht||!ht)&&(ht=ht.toLowerCase()," "===ht?ht="space":"."===ht&&(ht="dot"),Et.forEach(sn=>{sn!==ht&&(0,Wt[sn])(de)&&(cn+=sn+".")}),cn+=ht,cn===Je)}static eventCallback(de,Je,ht){return cn=>{je.matchEventFullKeyCode(cn,de)&&ht.runGuarded(()=>Je(cn))}}static _normalizeKey(de){return"esc"===de?"escape":de}}return je.\u0275fac=function(de){return new(de||je)(h.LFG(f.K0))},je.\u0275prov=h.Yz7({token:je,factory:je.\u0275fac}),je})();const er=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:f.bD},{provide:h.g9A,useValue:function _r(){pe.makeCurrent()},multi:!0},{provide:f.K0,useFactory:function Jt(){return(0,h.RDi)(document),document},deps:[]}]),An=new h.OlP(""),Fe=[{provide:h.rWj,useClass:class me{addToWindow(ve){h.dqk.getAngularTestability=(Je,ht=!0)=>{const cn=ve.findTestabilityInTree(Je,ht);if(null==cn)throw new Error("Could not find testability for element.");return cn},h.dqk.getAllAngularTestabilities=()=>ve.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>ve.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(Je=>{const ht=h.dqk.getAllAngularTestabilities();let cn=ht.length,sn=!1;const kn=function(Yn){sn=sn||Yn,cn--,0==cn&&Je(sn)};ht.forEach(function(Yn){Yn.whenStable(kn)})})}findTestabilityInTree(ve,de,Je){return null==de?null:ve.getTestability(de)??(Je?(0,f.q)().isShadowRoot(de)?this.findTestabilityInTree(ve,de.host,!0):this.findTestabilityInTree(ve,de.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],ie=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function Pr(){return new h.qLn},deps:[]},{provide:ze,useClass:Lt,multi:!0,deps:[f.K0,h.R0b,h.Lbi]},{provide:ze,useClass:bn,multi:!0,deps:[f.K0]},{provide:De,useClass:De,deps:[Ke,xe,h.AFp]},{provide:h.FYo,useExisting:De},{provide:Ne,useExisting:xe},{provide:xe,useClass:xe,deps:[f.K0]},{provide:Ke,useClass:Ke,deps:[ze,h.R0b]},{provide:f.JF,useClass:nt,deps:[]},[]];let K=(()=>{class je{constructor(de){}static withServerTransition(de){return{ngModule:je,providers:[{provide:h.AFp,useValue:de.appId},{provide:le,useExisting:h.AFp},te]}}}return je.\u0275fac=function(de){return new(de||je)(h.LFG(An,12))},je.\u0275mod=h.oAB({type:je}),je.\u0275inj=h.cJS({providers:[...ie,...Fe],imports:[f.ez,h.hGG]}),je})(),rt=(()=>{class je{constructor(de){this._doc=de}getTitle(){return this._doc.title}setTitle(de){this._doc.title=de||""}}return je.\u0275fac=function(de){return new(de||je)(h.LFG(f.K0))},je.\u0275prov=h.Yz7({token:je,factory:function(de){let Je=null;return Je=de?new de:function Fn(){return new rt((0,h.LFG)(f.K0))}(),Je},providedIn:"root"}),je})();typeof window<"u"&&window},9051:(kt,Ze,P)=>{P.d(Ze,{gz:()=>gi,F0:()=>Wn,rH:()=>Lo,Od:()=>Zn,Bz:()=>du,lC:()=>Ni});var f=P(4650),h=P(8996),C=P(9646),pe=P(7579);class V extends pe.x{constructor(E){super(),this._value=E}get value(){return this.getValue()}_subscribe(E){const y=super._subscribe(E);return!y.closed&&E.next(this._value),y}getValue(){const{hasError:E,thrownError:y,_value:x}=this;if(E)throw y;return this._throwIfClosed(),x}next(E){super.next(this._value=E)}}var _e=P(6805),Ie=P(9751),ye=P(4742),le=P(4671),re=P(3268),te=P(7669),me=P(1810),nt=P(5403),ze=P(9672);function Ke(...b){const E=(0,te.yG)(b),y=(0,te.jO)(b),{args:x,keys:k}=(0,ye.D)(b);if(0===x.length)return(0,h.D)([],E);const z=new Ie.y(function lt(b,E,y=le.y){return x=>{Ne(E,()=>{const{length:k}=b,z=new Array(k);let X=k,Re=k;for(let vt=0;vt<k;vt++)Ne(E,()=>{const zt=(0,h.D)(b[vt],E);let Xt=!1;zt.subscribe((0,nt.x)(x,Xn=>{z[vt]=Xn,Xt||(Xt=!0,Re--),Re||x.next(y(z.slice()))},()=>{--X||x.complete()}))},x)},x)}}(x,E,k?X=>(0,me.n)(k,X):le.y));return y?z.pipe((0,re.Z)(y)):z}function Ne(b,E,y){b?(0,ze.f)(y,b,E):E()}var xe=P(7272),Ve=P(8421);function Xe(b){return new Ie.y(E=>{(0,Ve.Xf)(b()).subscribe(E)})}var oe=P(9635),He=P(576);function Be(b,E){const y=(0,He.m)(b)?b:()=>b,x=k=>k.error(y());return new Ie.y(E?k=>E.schedule(x,0,k):x)}var at=P(515),Qe=P(727),he=P(4482);function Oe(){return(0,he.e)((b,E)=>{let y=null;b._refCount++;const x=(0,nt.x)(E,void 0,void 0,void 0,()=>{if(!b||b._refCount<=0||0<--b._refCount)return void(y=null);const k=b._connection,z=y;y=null,k&&(!z||k===z)&&k.unsubscribe(),E.unsubscribe()});b.subscribe(x),x.closed||(y=b.connect())})}class Y extends Ie.y{constructor(E,y){super(),this.source=E,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,he.A)(E)&&(this.lift=E.lift)}_subscribe(E){return this.getSubject().subscribe(E)}getSubject(){const E=this._subject;return(!E||E.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:E}=this;this._subject=this._connection=null,E?.unsubscribe()}connect(){let E=this._connection;if(!E){E=this._connection=new Qe.w0;const y=this.getSubject();E.add(this.source.subscribe((0,nt.x)(y,void 0,()=>{this._teardown(),y.complete()},x=>{this._teardown(),y.error(x)},()=>this._teardown()))),E.closed&&(this._connection=null,E=Qe.w0.EMPTY)}return E}refCount(){return Oe()(this)}}var se=P(6895),ae=P(4004),De=P(3900),ft=P(5698),mt=P(8675),Ct=P(9300),Ot=P(5577),Yt=P(590);function Nt(b,E){return(0,He.m)(E)?(0,Ot.z)(b,E,1):(0,Ot.z)(b,1)}var Lt=P(8505);function Et(b){return(0,he.e)((E,y)=>{let z,x=null,k=!1;x=E.subscribe((0,nt.x)(y,void 0,void 0,X=>{z=(0,Ve.Xf)(b(X,Et(b)(E))),x?(x.unsubscribe(),x=null,z.subscribe(y)):k=!0})),k&&(x.unsubscribe(),x=null,z.subscribe(y))})}var Zt=P(5026);function Wt(b){return b<=0?()=>at.E:(0,he.e)((E,y)=>{let x=[];E.subscribe((0,nt.x)(y,k=>{x.push(k),b<x.length&&x.shift()},()=>{for(const k of x)y.next(k);y.complete()},void 0,()=>{x=null}))})}var bn=P(8068),Ht=P(6590);function On(b,E){const y=arguments.length>=2;return x=>x.pipe(b?(0,Ct.h)((k,z)=>b(k,z,x)):le.y,Wt(1),y?(0,Ht.d)(E):(0,bn.T)(()=>new _e.K))}function Pn(b){return(0,he.e)((E,y)=>{try{E.subscribe(y)}finally{y.add(b)}})}var _r=P(8189),Pr=P(1481);const Jt="primary",Gn=Symbol("RouteTitle");class er{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const y=this.params[E];return Array.isArray(y)?y[0]:y}return null}getAll(E){if(this.has(E)){const y=this.params[E];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function An(b){return new er(b)}function Fe(b,E,y){const x=y.path.split("/");if(x.length>b.length||"full"===y.pathMatch&&(E.hasChildren()||x.length<b.length))return null;const k={};for(let z=0;z<x.length;z++){const X=x[z],Re=b[z];if(X.startsWith(":"))k[X.substring(1)]=Re;else if(X!==Re.path)return null}return{consumed:b.slice(0,x.length),posParams:k}}function K(b,E){const y=b?Object.keys(b):void 0,x=E?Object.keys(E):void 0;if(!y||!x||y.length!=x.length)return!1;let k;for(let z=0;z<y.length;z++)if(k=y[z],!ut(b[k],E[k]))return!1;return!0}function ut(b,E){if(Array.isArray(b)&&Array.isArray(E)){if(b.length!==E.length)return!1;const y=[...b].sort(),x=[...E].sort();return y.every((k,z)=>x[z]===k)}return b===E}function At(b){return Array.prototype.concat.apply([],b)}function Ft(b){return b.length>0?b[b.length-1]:null}function rt(b,E){for(const y in b)b.hasOwnProperty(y)&&E(b[y],y)}function qe(b){return(0,f.CqO)(b)?b:(0,f.QGY)(b)?(0,h.D)(Promise.resolve(b)):(0,C.of)(b)}const Le=!1,Ut={exact:function fi(b,E,y){if(!dt(b.segments,E.segments)||!qr(b.segments,E.segments,y)||b.numberOfChildren!==E.numberOfChildren)return!1;for(const x in E.children)if(!b.children[x]||!fi(b.children[x],E.children[x],y))return!1;return!0},subset:Bi},Er={exact:function or(b,E){return K(b,E)},subset:function $r(b,E){return Object.keys(E).length<=Object.keys(b).length&&Object.keys(E).every(y=>ut(b[y],E[y]))},ignored:()=>!0};function zn(b,E,y){return Ut[y.paths](b.root,E.root,y.matrixParams)&&Er[y.queryParams](b.queryParams,E.queryParams)&&!("exact"===y.fragment&&b.fragment!==E.fragment)}function Bi(b,E,y){return Dn(b,E,E.segments,y)}function Dn(b,E,y,x){if(b.segments.length>y.length){const k=b.segments.slice(0,y.length);return!(!dt(k,y)||E.hasChildren()||!qr(k,y,x))}if(b.segments.length===y.length){if(!dt(b.segments,y)||!qr(b.segments,y,x))return!1;for(const k in E.children)if(!b.children[k]||!Bi(b.children[k],E.children[k],x))return!1;return!0}{const k=y.slice(0,b.segments.length),z=y.slice(b.segments.length);return!!(dt(b.segments,k)&&qr(b.segments,k,x)&&b.children[Jt])&&Dn(b.children[Jt],E,z,x)}}function qr(b,E,y){return E.every((x,k)=>Er[y](b[k].parameters,x.parameters))}class Mn{constructor(E=new nn([],{}),y={},x=null){this.root=E,this.queryParams=y,this.fragment=x}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=An(this.queryParams)),this._queryParamMap}toString(){return rn.serialize(this)}}class nn{constructor(E,y){this.segments=E,this.children=y,this.parent=null,rt(y,(x,k)=>x.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return be(this)}}class ai{constructor(E,y){this.path=E,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=An(this.parameters)),this._parameterMap}toString(){return ar(this)}}function dt(b,E){return b.length===E.length&&b.every((y,x)=>y.path===E[x].path)}let un=(()=>{class b{}return b.\u0275fac=function(y){return new(y||b)},b.\u0275prov=f.Yz7({token:b,factory:function(){return new fn},providedIn:"root"}),b})();class fn{parse(E){const y=new kn(E);return new Mn(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(E){const y=`/${fe(E.root,!0)}`,x=function je(b){const E=Object.keys(b).map(y=>{const x=b[y];return Array.isArray(x)?x.map(k=>`${st(y)}=${st(k)}`).join("&"):`${st(y)}=${st(x)}`}).filter(y=>!!y);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${y}${x}${"string"==typeof E.fragment?`#${function Ge(b){return encodeURI(b)}(E.fragment)}`:""}`}}const rn=new fn;function be(b){return b.segments.map(E=>ar(E)).join("/")}function fe(b,E){if(!b.hasChildren())return be(b);if(E){const y=b.children[Jt]?fe(b.children[Jt],!1):"",x=[];return rt(b.children,(k,z)=>{z!==Jt&&x.push(`${z}:${fe(k,!1)}`)}),x.length>0?`${y}(${x.join("//")})`:y}{const y=function Gt(b,E){let y=[];return rt(b.children,(x,k)=>{k===Jt&&(y=y.concat(E(x,k)))}),rt(b.children,(x,k)=>{k!==Jt&&(y=y.concat(E(x,k)))}),y}(b,(x,k)=>k===Jt?[fe(b.children[Jt],!1)]:[`${k}:${fe(x,!1)}`]);return 1===Object.keys(b.children).length&&null!=b.children[Jt]?`${be(b)}/${y[0]}`:`${be(b)}/(${y.join("//")})`}}function Se(b){return encodeURIComponent(b).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function st(b){return Se(b).replace(/%3B/gi,";")}function Rt(b){return Se(b).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yn(b){return decodeURIComponent(b)}function Ln(b){return yn(b.replace(/\+/g,"%20"))}function ar(b){return`${Rt(b.path)}${function ln(b){return Object.keys(b).map(E=>`;${Rt(E)}=${Rt(b[E])}`).join("")}(b.parameters)}`}const ve=/^[^\/()?;=#]+/;function de(b){const E=b.match(ve);return E?E[0]:""}const Je=/^[^=?&#]+/,cn=/^[^&#]+/;class kn{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nn([],{}):new nn([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let x={};return this.peekStartsWith("(")&&(x=this.parseParens(!1)),(E.length>0||Object.keys(y).length>0)&&(x[Jt]=new nn(E,y)),x}parseSegment(){const E=de(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new f.vHH(4009,Le);return this.capture(E),new ai(yn(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const y=de(this.remaining);if(!y)return;this.capture(y);let x="";if(this.consumeOptional("=")){const k=de(this.remaining);k&&(x=k,this.capture(x))}E[yn(y)]=yn(x)}parseQueryParam(E){const y=function ht(b){const E=b.match(Je);return E?E[0]:""}(this.remaining);if(!y)return;this.capture(y);let x="";if(this.consumeOptional("=")){const X=function sn(b){const E=b.match(cn);return E?E[0]:""}(this.remaining);X&&(x=X,this.capture(x))}const k=Ln(y),z=Ln(x);if(E.hasOwnProperty(k)){let X=E[k];Array.isArray(X)||(X=[X],E[k]=X),X.push(z)}else E[k]=z}parseParens(E){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const x=de(this.remaining),k=this.remaining[x.length];if("/"!==k&&")"!==k&&";"!==k)throw new f.vHH(4010,Le);let z;x.indexOf(":")>-1?(z=x.slice(0,x.indexOf(":")),this.capture(z),this.capture(":")):E&&(z=Jt);const X=this.parseChildren();y[z]=1===Object.keys(X).length?X[Jt]:new nn([],X),this.consumeOptional("//")}return y}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new f.vHH(4011,Le)}}function Yn(b){return b.segments.length>0?new nn([],{[Jt]:b}):b}function xr(b){const E={};for(const x of Object.keys(b.children)){const z=xr(b.children[x]);(z.segments.length>0||z.hasChildren())&&(E[x]=z)}return function Li(b){if(1===b.numberOfChildren&&b.children[Jt]){const E=b.children[Jt];return new nn(b.segments.concat(E.segments),E.children)}return b}(new nn(b.segments,E))}function nr(b){return b instanceof Mn}function Qn(b,E,y,x,k){if(0===y.length)return Tr(E.root,E.root,E.root,x,k);const z=function jt(b){if("string"==typeof b[0]&&1===b.length&&"/"===b[0])return new Ai(!0,0,b);let E=0,y=!1;const x=b.reduce((k,z,X)=>{if("object"==typeof z&&null!=z){if(z.outlets){const Re={};return rt(z.outlets,(vt,zt)=>{Re[zt]="string"==typeof vt?vt.split("/"):vt}),[...k,{outlets:Re}]}if(z.segmentPath)return[...k,z.segmentPath]}return"string"!=typeof z?[...k,z]:0===X?(z.split("/").forEach((Re,vt)=>{0==vt&&"."===Re||(0==vt&&""===Re?y=!0:".."===Re?E++:""!=Re&&k.push(Re))}),k):[...k,z]},[]);return new Ai(y,E,x)}(y);return z.toRoot()?Tr(E.root,E.root,new nn([],{}),x,k):function X(vt){const zt=function pi(b,E,y,x){if(b.isAbsolute)return new pn(E.root,!0,0);if(-1===x)return new pn(y,y===E.root,0);return function Jr(b,E,y){let x=b,k=E,z=y;for(;z>k;){if(z-=k,x=x.parent,!x)throw new f.vHH(4005,!1);k=x.segments.length}return new pn(x,!1,k-z)}(y,x+(Mr(b.commands[0])?0:1),b.numberOfDoubleDots)}(z,E,b.snapshot?._urlSegment,vt),Xt=zt.processChildren?ur(zt.segmentGroup,zt.index,z.commands):bi(zt.segmentGroup,zt.index,z.commands);return Tr(E.root,zt.segmentGroup,Xt,x,k)}(b.snapshot?._lastPathIndex)}function Mr(b){return"object"==typeof b&&null!=b&&!b.outlets&&!b.segmentPath}function Dr(b){return"object"==typeof b&&null!=b&&b.outlets}function Tr(b,E,y,x,k){let X,z={};x&&rt(x,(vt,zt)=>{z[zt]=Array.isArray(vt)?vt.map(Xt=>`${Xt}`):`${vt}`}),X=b===E?y:Qr(b,E,y);const Re=Yn(xr(X));return new Mn(Re,z,k)}function Qr(b,E,y){const x={};return rt(b.children,(k,z)=>{x[z]=k===E?y:Qr(k,E,y)}),new nn(b.segments,x)}class Ai{constructor(E,y,x){if(this.isAbsolute=E,this.numberOfDoubleDots=y,this.commands=x,E&&x.length>0&&Mr(x[0]))throw new f.vHH(4003,!1);const k=x.find(Dr);if(k&&k!==Ft(x))throw new f.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pn{constructor(E,y,x){this.segmentGroup=E,this.processChildren=y,this.index=x}}function bi(b,E,y){if(b||(b=new nn([],{})),0===b.segments.length&&b.hasChildren())return ur(b,E,y);const x=function as(b,E,y){let x=0,k=E;const z={match:!1,pathIndex:0,commandIndex:0};for(;k<b.segments.length;){if(x>=y.length)return z;const X=b.segments[k],Re=y[x];if(Dr(Re))break;const vt=`${Re}`,zt=x<y.length-1?y[x+1]:null;if(k>0&&void 0===vt)break;if(vt&&zt&&"object"==typeof zt&&void 0===zt.outlets){if(!Ei(vt,zt,X))return z;x+=2}else{if(!Ei(vt,{},X))return z;x++}k++}return{match:!0,pathIndex:k,commandIndex:x}}(b,E,y),k=y.slice(x.commandIndex);if(x.match&&x.pathIndex<b.segments.length){const z=new nn(b.segments.slice(0,x.pathIndex),{});return z.children[Jt]=new nn(b.segments.slice(x.pathIndex),b.children),ur(z,0,k)}return x.match&&0===k.length?new nn(b.segments,{}):x.match&&!b.hasChildren()?Fr(b,E,y):x.match?ur(b,0,k):Fr(b,E,y)}function ur(b,E,y){if(0===y.length)return new nn(b.segments,{});{const x=function kr(b){return Dr(b[0])?b[0].outlets:{[Jt]:b}}(y),k={};return rt(x,(z,X)=>{"string"==typeof z&&(z=[z]),null!==z&&(k[X]=bi(b.children[X],E,z))}),rt(b.children,(z,X)=>{void 0===x[X]&&(k[X]=z)}),new nn(b.segments,k)}}function Fr(b,E,y){const x=b.segments.slice(0,E);let k=0;for(;k<y.length;){const z=y[k];if(Dr(z)){const vt=Tn(z.outlets);return new nn(x,vt)}if(0===k&&Mr(y[0])){x.push(new ai(b.segments[E].path,wi(y[0]))),k++;continue}const X=Dr(z)?z.outlets[Jt]:`${z}`,Re=k<y.length-1?y[k+1]:null;X&&Re&&Mr(Re)?(x.push(new ai(X,wi(Re))),k+=2):(x.push(new ai(X,{})),k++)}return new nn(x,{})}function Tn(b){const E={};return rt(b,(y,x)=>{"string"==typeof y&&(y=[y]),null!==y&&(E[x]=Fr(new nn([],{}),0,y))}),E}function wi(b){const E={};return rt(b,(y,x)=>E[x]=`${y}`),E}function Ei(b,E,y){return b==y.path&&K(E,y.parameters)}class $i{constructor(E,y){this.id=E,this.url=y}}class Xr extends $i{constructor(E,y,x="imperative",k=null){super(E,y),this.type=0,this.navigationTrigger=x,this.restoredState=k}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yr extends $i{constructor(E,y,x){super(E,y),this.urlAfterRedirects=x,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Br extends $i{constructor(E,y,x,k){super(E,y),this.reason=x,this.code=k,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vs extends $i{constructor(E,y,x,k){super(E,y),this.error=x,this.target=k,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ui extends $i{constructor(E,y,x,k){super(E,y),this.urlAfterRedirects=x,this.state=k,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bs extends $i{constructor(E,y,x,k){super(E,y),this.urlAfterRedirects=x,this.state=k,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rr extends $i{constructor(E,y,x,k,z){super(E,y),this.urlAfterRedirects=x,this.state=k,this.shouldActivate=z,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Te extends $i{constructor(E,y,x,k){super(E,y),this.urlAfterRedirects=x,this.state=k,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Me extends $i{constructor(E,y,x,k){super(E,y),this.urlAfterRedirects=x,this.state=k,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $e{constructor(E){this.route=E,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pt{constructor(E){this.route=E,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class St{constructor(E){this.snapshot=E,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class on{constructor(E){this.snapshot=E,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mn{constructor(E){this.snapshot=E,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bn{constructor(E){this.snapshot=E,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ir{constructor(E,y,x){this.routerEvent=E,this.position=y,this.anchor=x,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class li{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const y=this.pathFromRoot(E);return y.length>1?y[y.length-2]:null}children(E){const y=ei(E,this._root);return y?y.children.map(x=>x.value):[]}firstChild(E){const y=ei(E,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(E){const y=ci(E,this._root);return y.length<2?[]:y[y.length-2].children.map(k=>k.value).filter(k=>k!==E)}pathFromRoot(E){return ci(E,this._root).map(y=>y.value)}}function ei(b,E){if(b===E.value)return E;for(const y of E.children){const x=ei(b,y);if(x)return x}return null}function ci(b,E){if(b===E.value)return[E];for(const y of E.children){const x=ci(b,y);if(x.length)return x.unshift(E),x}return[]}class Hi{constructor(E,y){this.value=E,this.children=y}toString(){return`TreeNode(${this.value})`}}function ii(b){const E={};return b&&b.children.forEach(y=>E[y.value.outlet]=y),E}class ws extends li{constructor(E,y){super(E),this.snapshot=y,Es(this,E)}toString(){return this.snapshot.toString()}}function Xs(b,E){const y=function js(b,E){const X=new Os([],{},{},"",{},Jt,E,null,b.root,-1,{});return new Ns("",new Hi(X,[]))}(b,E),x=new V([new ai("",{})]),k=new V({}),z=new V({}),X=new V({}),Re=new V(""),vt=new gi(x,k,X,Re,z,Jt,E,y.root);return vt.snapshot=y.root,new ws(new Hi(vt,[]),y)}class gi{constructor(E,y,x,k,z,X,Re,vt){this.url=E,this.params=y,this.queryParams=x,this.fragment=k,this.data=z,this.outlet=X,this.component=Re,this.title=this.data?.pipe((0,ae.U)(zt=>zt[Gn]))??(0,C.of)(void 0),this._futureSnapshot=vt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ae.U)(E=>An(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ae.U)(E=>An(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function us(b,E="emptyOnly"){const y=b.pathFromRoot;let x=0;if("always"!==E)for(x=y.length-1;x>=1;){const k=y[x],z=y[x-1];if(k.routeConfig&&""===k.routeConfig.path)x--;else{if(z.component)break;x--}}return function $s(b){return b.reduce((E,y)=>({params:{...E.params,...y.params},data:{...E.data,...y.data},resolve:{...y.data,...E.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(x))}class Os{constructor(E,y,x,k,z,X,Re,vt,zt,Xt,Xn){this.url=E,this.params=y,this.queryParams=x,this.fragment=k,this.data=z,this.outlet=X,this.component=Re,this.routeConfig=vt,this._urlSegment=zt,this._lastPathIndex=Xt,this._resolve=Xn}get title(){return this.data?.[Gn]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=An(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=An(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(x=>x.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ns extends li{constructor(E,y){super(y),this.url=E,Es(this,y)}toString(){return Hs(this._root)}}function Es(b,E){E.value._routerState=b,E.children.forEach(y=>Es(b,y))}function Hs(b){const E=b.children.length>0?` { ${b.children.map(Hs).join(", ")} } `:"";return`${b.value}${E}`}function Ui(b){if(b.snapshot){const E=b.snapshot,y=b._futureSnapshot;b.snapshot=y,K(E.queryParams,y.queryParams)||b.queryParams.next(y.queryParams),E.fragment!==y.fragment&&b.fragment.next(y.fragment),K(E.params,y.params)||b.params.next(y.params),function ie(b,E){if(b.length!==E.length)return!1;for(let y=0;y<b.length;++y)if(!K(b[y],E[y]))return!1;return!0}(E.url,y.url)||b.url.next(y.url),K(E.data,y.data)||b.data.next(y.data)}else b.snapshot=b._futureSnapshot,b.data.next(b._futureSnapshot.data)}function Zi(b,E){const y=K(b.params,E.params)&&function Mt(b,E){return dt(b,E)&&b.every((y,x)=>K(y.parameters,E[x].parameters))}(b.url,E.url);return y&&!(!b.parent!=!E.parent)&&(!b.parent||Zi(b.parent,E.parent))}function Zs(b,E,y){if(y&&b.shouldReuseRoute(E.value,y.value.snapshot)){const x=y.value;x._futureSnapshot=E.value;const k=function Po(b,E,y){return E.children.map(x=>{for(const k of y.children)if(b.shouldReuseRoute(x.value,k.value.snapshot))return Zs(b,x,k);return Zs(b,x)})}(b,E,y);return new Hi(x,k)}{if(b.shouldAttach(E.value)){const z=b.retrieve(E.value);if(null!==z){const X=z.route;return X.value._futureSnapshot=E.value,X.children=E.children.map(Re=>Zs(b,Re)),X}}const x=function So(b){return new gi(new V(b.url),new V(b.params),new V(b.queryParams),new V(b.fragment),new V(b.data),b.outlet,b.component,b)}(E.value),k=E.children.map(z=>Zs(b,z));return new Hi(x,k)}}const mi="ngNavigationCancelingError";function eo(b,E){const{redirectTo:y,navigationBehaviorOptions:x}=nr(E)?{redirectTo:E,navigationBehaviorOptions:void 0}:E,k=ls(!1,0,E);return k.url=y,k.navigationBehaviorOptions=x,k}function ls(b,E,y){const x=new Error("NavigationCancelingError: "+(b||""));return x[mi]=!0,x.cancellationCode=E,y&&(x.url=y),x}function cs(b){return Gs(b)&&nr(b.url)}function Gs(b){return b&&b[mi]}class Ji{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new zi,this.attachRef=null}}let zi=(()=>{class b{constructor(){this.contexts=new Map}onChildOutletCreated(y,x){const k=this.getOrCreateContext(y);k.outlet=x,this.contexts.set(y,k)}onChildOutletDestroyed(y){const x=this.getContext(y);x&&(x.outlet=null,x.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let x=this.getContext(y);return x||(x=new Ji,this.contexts.set(y,x)),x}getContext(y){return this.contexts.get(y)||null}}return b.\u0275fac=function(y){return new(y||b)},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();const cr=!1;let Ni=(()=>{class b{constructor(){this.activated=null,this._activatedRoute=null,this.name=Jt,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.parentContexts=(0,f.f3M)(zi),this.location=(0,f.f3M)(f.s_b),this.changeDetector=(0,f.f3M)(f.sBO),this.environmentInjector=(0,f.f3M)(f.lqb)}ngOnChanges(y){if(y.name){const{firstChange:x,previousValue:k}=y.name;if(x)return;this.isTrackedInParentContexts(k)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(k)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(y){return this.parentContexts.getContext(y)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const y=this.parentContexts.getContext(this.name);y?.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,cr);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,cr);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,cr);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,x){this.activated=y,this._activatedRoute=x,this.location.insert(y.hostView),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,x){if(this.isActivated)throw new f.vHH(4013,cr);this._activatedRoute=y;const k=this.location,X=y.snapshot.component,Re=this.parentContexts.getOrCreateContext(this.name).children,vt=new Ps(y,Re,k.injector);if(x&&function ks(b){return!!b.resolveComponentFactory}(x)){const zt=x.resolveComponentFactory(X);this.activated=k.createComponent(zt,k.length,vt)}else this.activated=k.createComponent(X,{index:k.length,injector:vt,environmentInjector:x??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return b.\u0275fac=function(y){return new(y||b)},b.\u0275dir=f.lG2({type:b,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[f.TTD]}),b})();class Ps{constructor(E,y,x){this.route=E,this.childContexts=y,this.parent=x}get(E,y){return E===gi?this.route:E===zi?this.childContexts:this.parent.get(E,y)}}let xi=(()=>{class b{}return b.\u0275fac=function(y){return new(y||b)},b.\u0275cmp=f.Xpm({type:b,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(y,x){1&y&&f._UZ(0,"router-outlet")},dependencies:[Ni],encapsulation:2}),b})();function zs(b,E){return b.providers&&!b._injector&&(b._injector=(0,f.MMx)(b.providers,E,`Route: ${b.path}`)),b._injector??E}function Xi(b){const E=b.children&&b.children.map(Xi),y=E?{...b,children:E}:{...b};return!y.component&&!y.loadComponent&&(E||y.loadChildren)&&y.outlet&&y.outlet!==Jt&&(y.component=xi),y}function dr(b){return b.outlet||Jt}function Ao(b,E){const y=b.filter(x=>dr(x)===E);return y.push(...b.filter(x=>dr(x)!==E)),y}function ds(b){if(!b)return null;if(b.routeConfig?._injector)return b.routeConfig._injector;for(let E=b.parent;E;E=E.parent){const y=E.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class yi{constructor(E,y,x,k){this.routeReuseStrategy=E,this.futureState=y,this.currState=x,this.forwardEvent=k}activate(E){const y=this.futureState._root,x=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,x,E),Ui(this.futureState.root),this.activateChildRoutes(y,x,E)}deactivateChildRoutes(E,y,x){const k=ii(y);E.children.forEach(z=>{const X=z.value.outlet;this.deactivateRoutes(z,k[X],x),delete k[X]}),rt(k,(z,X)=>{this.deactivateRouteAndItsChildren(z,x)})}deactivateRoutes(E,y,x){const k=E.value,z=y?y.value:null;if(k===z)if(k.component){const X=x.getContext(k.outlet);X&&this.deactivateChildRoutes(E,y,X.children)}else this.deactivateChildRoutes(E,y,x);else z&&this.deactivateRouteAndItsChildren(y,x)}deactivateRouteAndItsChildren(E,y){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,y):this.deactivateRouteAndOutlet(E,y)}detachAndStoreRouteSubtree(E,y){const x=y.getContext(E.value.outlet),k=x&&E.value.component?x.children:y,z=ii(E);for(const X of Object.keys(z))this.deactivateRouteAndItsChildren(z[X],k);if(x&&x.outlet){const X=x.outlet.detach(),Re=x.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:X,route:E,contexts:Re})}}deactivateRouteAndOutlet(E,y){const x=y.getContext(E.value.outlet),k=x&&E.value.component?x.children:y,z=ii(E);for(const X of Object.keys(z))this.deactivateRouteAndItsChildren(z[X],k);x&&x.outlet&&(x.outlet.deactivate(),x.children.onOutletDeactivated(),x.attachRef=null,x.resolver=null,x.route=null)}activateChildRoutes(E,y,x){const k=ii(y);E.children.forEach(z=>{this.activateRoutes(z,k[z.value.outlet],x),this.forwardEvent(new Bn(z.value.snapshot))}),E.children.length&&this.forwardEvent(new on(E.value.snapshot))}activateRoutes(E,y,x){const k=E.value,z=y?y.value:null;if(Ui(k),k===z)if(k.component){const X=x.getOrCreateContext(k.outlet);this.activateChildRoutes(E,y,X.children)}else this.activateChildRoutes(E,y,x);else if(k.component){const X=x.getOrCreateContext(k.outlet);if(this.routeReuseStrategy.shouldAttach(k.snapshot)){const Re=this.routeReuseStrategy.retrieve(k.snapshot);this.routeReuseStrategy.store(k.snapshot,null),X.children.onOutletReAttached(Re.contexts),X.attachRef=Re.componentRef,X.route=Re.route.value,X.outlet&&X.outlet.attach(Re.componentRef,Re.route.value),Ui(Re.route.value),this.activateChildRoutes(E,null,X.children)}else{const Re=ds(k.snapshot),vt=Re?.get(f._Vd)??null;X.attachRef=null,X.route=k,X.resolver=vt,X.injector=Re,X.outlet&&X.outlet.activateWith(k,X.injector),this.activateChildRoutes(E,null,X.children)}}else this.activateChildRoutes(E,null,x)}}class Cs{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class es{constructor(E,y){this.component=E,this.route=y}}function _o(b,E,y){const x=b._root;return hs(x,E?E._root:null,y,[x.value])}function qi(b,E){const y=Symbol(),x=E.get(b,y);return x===y?"function"!=typeof b||(0,f.Z0I)(b)?E.get(b):b:x}function hs(b,E,y,x,k={canDeactivateChecks:[],canActivateChecks:[]}){const z=ii(E);return b.children.forEach(X=>{(function wn(b,E,y,x,k={canDeactivateChecks:[],canActivateChecks:[]}){const z=b.value,X=E?E.value:null,Re=y?y.getContext(b.value.outlet):null;if(X&&z.routeConfig===X.routeConfig){const vt=function xo(b,E,y){if("function"==typeof y)return y(b,E);switch(y){case"pathParamsChange":return!dt(b.url,E.url);case"pathParamsOrQueryParamsChange":return!dt(b.url,E.url)||!K(b.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zi(b,E)||!K(b.queryParams,E.queryParams);default:return!Zi(b,E)}}(X,z,z.routeConfig.runGuardsAndResolvers);vt?k.canActivateChecks.push(new Cs(x)):(z.data=X.data,z._resolvedData=X._resolvedData),hs(b,E,z.component?Re?Re.children:null:y,x,k),vt&&Re&&Re.outlet&&Re.outlet.isActivated&&k.canDeactivateChecks.push(new es(Re.outlet.component,X))}else X&&vo(E,Re,k),k.canActivateChecks.push(new Cs(x)),hs(b,null,z.component?Re?Re.children:null:y,x,k)})(X,z[X.value.outlet],y,x.concat([X.value]),k),delete z[X.value.outlet]}),rt(z,(X,Re)=>vo(X,y.getContext(Re),k)),k}function vo(b,E,y){const x=ii(b),k=b.value;rt(x,(z,X)=>{vo(z,k.component?E?E.children.getContext(X):null:E,y)}),y.canDeactivateChecks.push(new es(k.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,k))}function no(b){return"function"==typeof b}function Z(b){return b instanceof _e.K||"EmptyError"===b?.name}const Ce=Symbol("INITIAL_VALUE");function gt(){return(0,De.w)(b=>Ke(b.map(E=>E.pipe((0,ft.q)(1),(0,mt.O)(Ce)))).pipe((0,ae.U)(E=>{for(const y of E)if(!0!==y){if(y===Ce)return Ce;if(!1===y||y instanceof Mn)return y}return!0}),(0,Ct.h)(E=>E!==Ce),(0,ft.q)(1)))}function si(b){return(0,oe.z)((0,Lt.b)(E=>{if(nr(E))throw eo(0,E)}),(0,ae.U)(E=>!0===E))}const Kr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Bo(b,E,y,x,k){const z=Ds(b,E,y);return z.matched?function Pi(b,E,y,x){const k=E.canMatch;if(!k||0===k.length)return(0,C.of)(!0);const z=k.map(X=>{const Re=qi(X,b);return qe(function I(b){return b&&no(b.canMatch)}(Re)?Re.canMatch(E,y):b.runInContext(()=>Re(E,y)))});return(0,C.of)(z).pipe(gt(),si())}(x=zs(E,x),E,y).pipe((0,ae.U)(X=>!0===X?z:{...Kr})):(0,C.of)(z)}function Ds(b,E,y){if(""===E.path)return"full"===E.pathMatch&&(b.hasChildren()||y.length>0)?{...Kr}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const k=(E.matcher||Fe)(y,b,E);if(!k)return{...Kr};const z={};rt(k.posParams,(Re,vt)=>{z[vt]=Re.path});const X=k.consumed.length>0?{...z,...k.consumed[k.consumed.length-1].parameters}:z;return{matched:!0,consumedSegments:k.consumed,remainingSegments:y.slice(k.consumed.length),parameters:X,positionalParamSegments:k.posParams??{}}}function Ts(b,E,y,x){if(y.length>0&&function ko(b,E,y){return y.some(x=>ro(b,E,x)&&dr(x)!==Jt)}(b,y,x)){const z=new nn(E,function ra(b,E,y,x){const k={};k[Jt]=x,x._sourceSegment=b,x._segmentIndexShift=E.length;for(const z of y)if(""===z.path&&dr(z)!==Jt){const X=new nn([],{});X._sourceSegment=b,X._segmentIndexShift=E.length,k[dr(z)]=X}return k}(b,E,x,new nn(y,b.children)));return z._sourceSegment=b,z._segmentIndexShift=E.length,{segmentGroup:z,slicedSegments:[]}}if(0===y.length&&function Fa(b,E,y){return y.some(x=>ro(b,E,x))}(b,y,x)){const z=new nn(b.segments,function jo(b,E,y,x,k){const z={};for(const X of x)if(ro(b,y,X)&&!k[dr(X)]){const Re=new nn([],{});Re._sourceSegment=b,Re._segmentIndexShift=E.length,z[dr(X)]=Re}return{...k,...z}}(b,E,y,x,b.children));return z._sourceSegment=b,z._segmentIndexShift=E.length,{segmentGroup:z,slicedSegments:y}}const k=new nn(b.segments,b.children);return k._sourceSegment=b,k._segmentIndexShift=E.length,{segmentGroup:k,slicedSegments:y}}function ro(b,E,y){return(!(b.hasChildren()||E.length>0)||"full"!==y.pathMatch)&&""===y.path}function va(b,E,y,x){return!!(dr(b)===x||x!==Jt&&ro(E,y,b))&&("**"===b.path||Ds(E,b,y).matched)}function La(b,E,y){return 0===E.length&&!b.children[y]}const bo=!1;class $o{constructor(E){this.segmentGroup=E||null}}class Tu{constructor(E){this.urlTree=E}}function Fo(b){return Be(new $o(b))}function Ho(b){return Be(new Tu(b))}class fs{constructor(E,y,x,k,z){this.injector=E,this.configLoader=y,this.urlSerializer=x,this.urlTree=k,this.config=z,this.allowRedirects=!0}apply(){const E=Ts(this.urlTree.root,[],[],this.config).segmentGroup,y=new nn(E.segments,E.children);return this.expandSegmentGroup(this.injector,this.config,y,Jt).pipe((0,ae.U)(z=>this.createUrlTree(xr(z),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Et(z=>{if(z instanceof Tu)return this.allowRedirects=!1,this.match(z.urlTree);throw z instanceof $o?this.noMatchError(z):z}))}match(E){return this.expandSegmentGroup(this.injector,this.config,E.root,Jt).pipe((0,ae.U)(k=>this.createUrlTree(xr(k),E.queryParams,E.fragment))).pipe(Et(k=>{throw k instanceof $o?this.noMatchError(k):k}))}noMatchError(E){return new f.vHH(4002,bo)}createUrlTree(E,y,x){const k=Yn(E);return new Mn(k,y,x)}expandSegmentGroup(E,y,x,k){return 0===x.segments.length&&x.hasChildren()?this.expandChildren(E,y,x).pipe((0,ae.U)(z=>new nn([],z))):this.expandSegment(E,x,y,x.segments,k,!0)}expandChildren(E,y,x){const k=[];for(const z of Object.keys(x.children))"primary"===z?k.unshift(z):k.push(z);return(0,h.D)(k).pipe(Nt(z=>{const X=x.children[z],Re=Ao(y,z);return this.expandSegmentGroup(E,Re,X,z).pipe((0,ae.U)(vt=>({segment:vt,outlet:z})))}),(0,Zt.R)((z,X)=>(z[X.outlet]=X.segment,z),{}),On())}expandSegment(E,y,x,k,z,X){return(0,h.D)(x).pipe(Nt(Re=>this.expandSegmentAgainstRoute(E,y,x,Re,k,z,X).pipe(Et(zt=>{if(zt instanceof $o)return(0,C.of)(null);throw zt}))),(0,Yt.P)(Re=>!!Re),Et((Re,vt)=>{if(Z(Re))return La(y,k,z)?(0,C.of)(new nn([],{})):Fo(y);throw Re}))}expandSegmentAgainstRoute(E,y,x,k,z,X,Re){return va(k,y,z,X)?void 0===k.redirectTo?this.matchSegmentAgainstRoute(E,y,k,z,X):Re&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,y,x,k,z,X):Fo(y):Fo(y)}expandSegmentAgainstRouteUsingRedirect(E,y,x,k,z,X){return"**"===k.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,x,k,X):this.expandRegularSegmentAgainstRouteUsingRedirect(E,y,x,k,z,X)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,y,x,k){const z=this.applyRedirectCommands([],x.redirectTo,{});return x.redirectTo.startsWith("/")?Ho(z):this.lineralizeSegments(x,z).pipe((0,Ot.z)(X=>{const Re=new nn(X,{});return this.expandSegment(E,Re,y,X,k,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,y,x,k,z,X){const{matched:Re,consumedSegments:vt,remainingSegments:zt,positionalParamSegments:Xt}=Ds(y,k,z);if(!Re)return Fo(y);const Xn=this.applyRedirectCommands(vt,k.redirectTo,Xt);return k.redirectTo.startsWith("/")?Ho(Xn):this.lineralizeSegments(k,Xn).pipe((0,Ot.z)(ti=>this.expandSegment(E,y,x,ti.concat(zt),X,!1)))}matchSegmentAgainstRoute(E,y,x,k,z){return"**"===x.path?(E=zs(x,E),x.loadChildren?(x._loadedRoutes?(0,C.of)({routes:x._loadedRoutes,injector:x._loadedInjector}):this.configLoader.loadChildren(E,x)).pipe((0,ae.U)(Re=>(x._loadedRoutes=Re.routes,x._loadedInjector=Re.injector,new nn(k,{})))):(0,C.of)(new nn(k,{}))):Bo(y,x,k,E).pipe((0,De.w)(({matched:X,consumedSegments:Re,remainingSegments:vt})=>X?this.getChildConfig(E=x._injector??E,x,k).pipe((0,Ot.z)(Xt=>{const Xn=Xt.injector??E,ti=Xt.routes,{segmentGroup:oi,slicedSegments:As}=Ts(y,Re,vt,ti),Ci=new nn(oi.segments,oi.children);if(0===As.length&&Ci.hasChildren())return this.expandChildren(Xn,ti,Ci).pipe((0,ae.U)(Eo=>new nn(Re,Eo)));if(0===ti.length&&0===As.length)return(0,C.of)(new nn(Re,{}));const ao=dr(x)===z;return this.expandSegment(Xn,Ci,ti,As,ao?Jt:z,!0).pipe((0,ae.U)(Vo=>new nn(Re.concat(Vo.segments),Vo.children)))})):Fo(y)))}getChildConfig(E,y,x){return y.children?(0,C.of)({routes:y.children,injector:E}):y.loadChildren?void 0!==y._loadedRoutes?(0,C.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function Ur(b,E,y,x){const k=E.canLoad;if(void 0===k||0===k.length)return(0,C.of)(!0);const z=k.map(X=>{const Re=qi(X,b);return qe(function L(b){return b&&no(b.canLoad)}(Re)?Re.canLoad(E,y):b.runInContext(()=>Re(E,y)))});return(0,C.of)(z).pipe(gt(),si())}(E,y,x).pipe((0,Ot.z)(k=>k?this.configLoader.loadChildren(E,y).pipe((0,Lt.b)(z=>{y._loadedRoutes=z.routes,y._loadedInjector=z.injector})):function ia(b){return Be(ls(bo,3))}())):(0,C.of)({routes:[],injector:E})}lineralizeSegments(E,y){let x=[],k=y.root;for(;;){if(x=x.concat(k.segments),0===k.numberOfChildren)return(0,C.of)(x);if(k.numberOfChildren>1||!k.children[Jt])return Be(new f.vHH(4e3,bo));k=k.children[Jt]}}applyRedirectCommands(E,y,x){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),E,x)}applyRedirectCreateUrlTree(E,y,x,k){const z=this.createSegmentGroup(E,y.root,x,k);return new Mn(z,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(E,y){const x={};return rt(E,(k,z)=>{if("string"==typeof k&&k.startsWith(":")){const Re=k.substring(1);x[z]=y[Re]}else x[z]=k}),x}createSegmentGroup(E,y,x,k){const z=this.createSegments(E,y.segments,x,k);let X={};return rt(y.children,(Re,vt)=>{X[vt]=this.createSegmentGroup(E,Re,x,k)}),new nn(z,X)}createSegments(E,y,x,k){return y.map(z=>z.path.startsWith(":")?this.findPosParam(E,z,k):this.findOrReturn(z,x))}findPosParam(E,y,x){const k=x[y.path.substring(1)];if(!k)throw new f.vHH(4001,bo);return k}findOrReturn(E,y){let x=0;for(const k of y){if(k.path===E.path)return y.splice(x),k;x++}return E}}class io{}class au{constructor(E,y,x,k,z,X,Re){this.injector=E,this.rootComponentType=y,this.config=x,this.urlTree=k,this.url=z,this.paramsInheritanceStrategy=X,this.urlSerializer=Re}recognize(){const E=Ts(this.urlTree.root,[],[],this.config.filter(y=>void 0===y.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,E,Jt).pipe((0,ae.U)(y=>{if(null===y)return null;const x=new Os([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Jt,this.rootComponentType,null,this.urlTree.root,-1,{}),k=new Hi(x,y),z=new Ns(this.url,k);return this.inheritParamsAndData(z._root),z}))}inheritParamsAndData(E){const y=E.value,x=us(y,this.paramsInheritanceStrategy);y.params=Object.freeze(x.params),y.data=Object.freeze(x.data),E.children.forEach(k=>this.inheritParamsAndData(k))}processSegmentGroup(E,y,x,k){return 0===x.segments.length&&x.hasChildren()?this.processChildren(E,y,x):this.processSegment(E,y,x,x.segments,k)}processChildren(E,y,x){return(0,h.D)(Object.keys(x.children)).pipe(Nt(k=>{const z=x.children[k],X=Ao(y,k);return this.processSegmentGroup(E,X,z,k)}),(0,Zt.R)((k,z)=>k&&z?(k.push(...z),k):null),function Nn(b,E=!1){return(0,he.e)((y,x)=>{let k=0;y.subscribe((0,nt.x)(x,z=>{const X=b(z,k++);(X||E)&&x.next(z),!X&&x.complete()}))})}(k=>null!==k),(0,Ht.d)(null),On(),(0,ae.U)(k=>{if(null===k)return null;const z=R(k);return function sa(b){b.sort((E,y)=>E.value.outlet===Jt?-1:y.value.outlet===Jt?1:E.value.outlet.localeCompare(y.value.outlet))}(z),z}))}processSegment(E,y,x,k,z){return(0,h.D)(y).pipe(Nt(X=>this.processSegmentAgainstRoute(X._injector??E,X,x,k,z)),(0,Yt.P)(X=>!!X),Et(X=>{if(Z(X))return La(x,k,z)?(0,C.of)([]):(0,C.of)(null);throw X}))}processSegmentAgainstRoute(E,y,x,k,z){if(y.redirectTo||!va(y,x,k,z))return(0,C.of)(null);let X;if("**"===y.path){const Re=k.length>0?Ft(k).parameters:{},vt=it(x)+k.length,zt=new Os(k,Re,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Kt(y),dr(y),y.component??y._loadedComponent??null,y,we(x),vt,pr(y));X=(0,C.of)({snapshot:zt,consumedSegments:[],remainingSegments:[]})}else X=Bo(x,y,k,E).pipe((0,ae.U)(({matched:Re,consumedSegments:vt,remainingSegments:zt,parameters:Xt})=>{if(!Re)return null;const Xn=it(x)+vt.length;return{snapshot:new Os(vt,Xt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Kt(y),dr(y),y.component??y._loadedComponent??null,y,we(x),Xn,pr(y)),consumedSegments:vt,remainingSegments:zt}}));return X.pipe((0,De.w)(Re=>{if(null===Re)return(0,C.of)(null);const{snapshot:vt,consumedSegments:zt,remainingSegments:Xt}=Re;E=y._injector??E;const Xn=y._loadedInjector??E,ti=function M(b){return b.children?b.children:b.loadChildren?b._loadedRoutes:[]}(y),{segmentGroup:oi,slicedSegments:As}=Ts(x,zt,Xt,ti.filter(ao=>void 0===ao.redirectTo));if(0===As.length&&oi.hasChildren())return this.processChildren(Xn,ti,oi).pipe((0,ae.U)(ao=>null===ao?null:[new Hi(vt,ao)]));if(0===ti.length&&0===As.length)return(0,C.of)([new Hi(vt,[])]);const Ci=dr(y)===z;return this.processSegment(Xn,ti,oi,As,Ci?Jt:z).pipe((0,ae.U)(ao=>null===ao?null:[new Hi(vt,ao)]))}))}}function $(b){const E=b.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function R(b){const E=[],y=new Set;for(const x of b){if(!$(x)){E.push(x);continue}const k=E.find(z=>x.value.routeConfig===z.value.routeConfig);void 0!==k?(k.children.push(...x.children),y.add(k)):E.push(x)}for(const x of y){const k=R(x.children);E.push(new Hi(x.value,k))}return E.filter(x=>!y.has(x))}function we(b){let E=b;for(;E._sourceSegment;)E=E._sourceSegment;return E}function it(b){let E=b,y=E._segmentIndexShift??0;for(;E._sourceSegment;)E=E._sourceSegment,y+=E._segmentIndexShift??0;return y-1}function Kt(b){return b.data||{}}function pr(b){return b.resolve||{}}function It(b){return"string"==typeof b.title||null===b.title}function vr(b){return(0,De.w)(E=>{const y=b(E);return y?(0,h.D)(y).pipe((0,ae.U)(()=>E)):(0,C.of)(E)})}const $t=new f.OlP("ROUTES");let Qt=(()=>{class b{constructor(y,x){this.injector=y,this.compiler=x,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,C.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const x=qe(y.loadComponent()).pipe((0,ae.U)(qt),(0,Lt.b)(z=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=z}),Pn(()=>{this.componentLoaders.delete(y)})),k=new Y(x,()=>new pe.x).pipe(Oe());return this.componentLoaders.set(y,k),k}loadChildren(y,x){if(this.childrenLoaders.get(x))return this.childrenLoaders.get(x);if(x._loadedRoutes)return(0,C.of)({routes:x._loadedRoutes,injector:x._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(x);const z=this.loadModuleFactoryOrRoutes(x.loadChildren).pipe((0,ae.U)(Re=>{this.onLoadEndListener&&this.onLoadEndListener(x);let vt,zt,Xt=!1;Array.isArray(Re)?zt=Re:(vt=Re.create(y).injector,zt=At(vt.get($t,[],f.XFs.Self|f.XFs.Optional)));return{routes:zt.map(Xi),injector:vt}}),Pn(()=>{this.childrenLoaders.delete(x)})),X=new Y(z,()=>new pe.x).pipe(Oe());return this.childrenLoaders.set(x,X),X}loadModuleFactoryOrRoutes(y){return qe(y()).pipe((0,ae.U)(qt),(0,Ot.z)(k=>k instanceof f.YKP||Array.isArray(k)?(0,C.of)(k):(0,h.D)(this.compiler.compileModuleAsync(k))))}}return b.\u0275fac=function(y){return new(y||b)(f.LFG(f.zs3),f.LFG(f.Sil))},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function qt(b){return function oa(b){return b&&"object"==typeof b&&"default"in b}(b)?b.default:b}let wt=(()=>{class b{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new pe.x,this.configLoader=(0,f.f3M)(Qt),this.environmentInjector=(0,f.f3M)(f.lqb),this.urlSerializer=(0,f.f3M)(un),this.rootContexts=(0,f.f3M)(zi),this.navigationId=0,this.configLoader.onLoadEndListener=k=>this.events.next(new pt(k)),this.configLoader.onLoadStartListener=k=>this.events.next(new $e(k))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(y){const x=++this.navigationId;this.transitions?.next({...this.transitions.value,...y,id:x})}setupNavigations(y){return this.transitions=new V({id:0,targetPageId:0,currentUrlTree:y.currentUrlTree,currentRawUrl:y.currentUrlTree,extractedUrl:y.urlHandlingStrategy.extract(y.currentUrlTree),urlAfterRedirects:y.urlHandlingStrategy.extract(y.currentUrlTree),rawUrl:y.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:y.routerState.snapshot,targetSnapshot:null,currentRouterState:y.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ct.h)(x=>0!==x.id),(0,ae.U)(x=>({...x,extractedUrl:y.urlHandlingStrategy.extract(x.rawUrl)})),(0,De.w)(x=>{let k=!1,z=!1;return(0,C.of)(x).pipe((0,Lt.b)(X=>{this.currentNavigation={id:X.id,initialUrl:X.rawUrl,extractedUrl:X.extractedUrl,trigger:X.source,extras:X.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,De.w)(X=>{const Re=y.browserUrlTree.toString(),vt=!y.navigated||X.extractedUrl.toString()!==Re||Re!==y.currentUrlTree.toString();if(("reload"===y.onSameUrlNavigation||vt)&&y.urlHandlingStrategy.shouldProcessUrl(X.rawUrl))return _i(X.source)&&(y.browserUrlTree=X.extractedUrl),(0,C.of)(X).pipe((0,De.w)(Xt=>{const Xn=this.transitions?.getValue();return this.events.next(new Xr(Xt.id,this.urlSerializer.serialize(Xt.extractedUrl),Xt.source,Xt.restoredState)),Xn!==this.transitions?.getValue()?at.E:Promise.resolve(Xt)}),function Zo(b,E,y,x){return(0,De.w)(k=>function ba(b,E,y,x,k){return new fs(b,E,y,x,k).apply()}(b,E,y,k.extractedUrl,x).pipe((0,ae.U)(z=>({...k,urlAfterRedirects:z}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,y.config),(0,Lt.b)(Xt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Xt.urlAfterRedirects},x.urlAfterRedirects=Xt.urlAfterRedirects}),function Hn(b,E,y,x,k){return(0,Ot.z)(z=>function ki(b,E,y,x,k,z,X="emptyOnly"){return new au(b,E,y,x,k,X,z).recognize().pipe((0,De.w)(Re=>null===Re?function ns(b){return new Ie.y(E=>E.error(b))}(new io):(0,C.of)(Re)))}(b,E,y,z.urlAfterRedirects,x.serialize(z.urlAfterRedirects),x,k).pipe((0,ae.U)(X=>({...z,targetSnapshot:X}))))}(this.environmentInjector,y.rootComponentType,y.config,this.urlSerializer,y.paramsInheritanceStrategy),(0,Lt.b)(Xt=>{if(x.targetSnapshot=Xt.targetSnapshot,"eager"===y.urlUpdateStrategy){if(!Xt.extras.skipLocationChange){const ti=y.urlHandlingStrategy.merge(Xt.urlAfterRedirects,Xt.rawUrl);y.setBrowserUrl(ti,Xt)}y.browserUrlTree=Xt.urlAfterRedirects}const Xn=new ui(Xt.id,this.urlSerializer.serialize(Xt.extractedUrl),this.urlSerializer.serialize(Xt.urlAfterRedirects),Xt.targetSnapshot);this.events.next(Xn)}));if(vt&&y.rawUrlTree&&y.urlHandlingStrategy.shouldProcessUrl(y.rawUrlTree)){const{id:Xn,extractedUrl:ti,source:oi,restoredState:As,extras:Ci}=X,ao=new Xr(Xn,this.urlSerializer.serialize(ti),oi,As);this.events.next(ao);const Yo=Xs(ti,y.rootComponentType).snapshot;return x={...X,targetSnapshot:Yo,urlAfterRedirects:ti,extras:{...Ci,skipLocationChange:!1,replaceUrl:!1}},(0,C.of)(x)}return y.rawUrlTree=X.rawUrl,X.resolve(null),at.E}),(0,Lt.b)(X=>{const Re=new bs(X.id,this.urlSerializer.serialize(X.extractedUrl),this.urlSerializer.serialize(X.urlAfterRedirects),X.targetSnapshot);this.events.next(Re)}),(0,ae.U)(X=>x={...X,guards:_o(X.targetSnapshot,X.currentSnapshot,this.rootContexts)}),function En(b,E){return(0,Ot.z)(y=>{const{targetSnapshot:x,currentSnapshot:k,guards:{canActivateChecks:z,canDeactivateChecks:X}}=y;return 0===X.length&&0===z.length?(0,C.of)({...y,guardsResult:!0}):function Sn(b,E,y,x){return(0,h.D)(b).pipe((0,Ot.z)(k=>function Jn(b,E,y,x,k){const z=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!z||0===z.length)return(0,C.of)(!0);const X=z.map(Re=>{const vt=ds(E)??k,zt=qi(Re,vt);return qe(function Ae(b){return b&&no(b.canDeactivate)}(zt)?zt.canDeactivate(b,E,y,x):vt.runInContext(()=>zt(b,E,y,x))).pipe((0,Yt.P)())});return(0,C.of)(X).pipe(gt())}(k.component,k.route,y,E,x)),(0,Yt.P)(k=>!0!==k,!0))}(X,x,k,b).pipe((0,Ot.z)(Re=>Re&&function H(b){return"boolean"==typeof b}(Re)?function lr(b,E,y,x){return(0,h.D)(E).pipe(Nt(k=>(0,xe.z)(function di(b,E){return null!==b&&E&&E(new St(b)),(0,C.of)(!0)}(k.route.parent,x),function hr(b,E){return null!==b&&E&&E(new mn(b)),(0,C.of)(!0)}(k.route,x),function Mi(b,E,y){const x=E[E.length-1],z=E.slice(0,E.length-1).reverse().map(X=>function ts(b){const E=b.routeConfig?b.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:b,guards:E}:null}(X)).filter(X=>null!==X).map(X=>Xe(()=>{const Re=X.guards.map(vt=>{const zt=ds(X.node)??y,Xt=qi(vt,zt);return qe(function ue(b){return b&&no(b.canActivateChild)}(Xt)?Xt.canActivateChild(x,b):zt.runInContext(()=>Xt(x,b))).pipe((0,Yt.P)())});return(0,C.of)(Re).pipe(gt())}));return(0,C.of)(z).pipe(gt())}(b,k.path,y),function Rr(b,E,y){const x=E.routeConfig?E.routeConfig.canActivate:null;if(!x||0===x.length)return(0,C.of)(!0);const k=x.map(z=>Xe(()=>{const X=ds(E)??y,Re=qi(z,X);return qe(function ee(b){return b&&no(b.canActivate)}(Re)?Re.canActivate(E,b):X.runInContext(()=>Re(E,b))).pipe((0,Yt.P)())}));return(0,C.of)(k).pipe(gt())}(b,k.route,y))),(0,Yt.P)(k=>!0!==k,!0))}(x,z,b,E):(0,C.of)(Re)),(0,ae.U)(Re=>({...y,guardsResult:Re})))})}(this.environmentInjector,X=>this.events.next(X)),(0,Lt.b)(X=>{if(x.guardsResult=X.guardsResult,nr(X.guardsResult))throw eo(0,X.guardsResult);const Re=new rr(X.id,this.urlSerializer.serialize(X.extractedUrl),this.urlSerializer.serialize(X.urlAfterRedirects),X.targetSnapshot,!!X.guardsResult);this.events.next(Re)}),(0,Ct.h)(X=>!!X.guardsResult||(y.restoreHistory(X),this.cancelNavigationTransition(X,"",3,y),!1)),vr(X=>{if(X.guards.canActivateChecks.length)return(0,C.of)(X).pipe((0,Lt.b)(Re=>{const vt=new Te(Re.id,this.urlSerializer.serialize(Re.extractedUrl),this.urlSerializer.serialize(Re.urlAfterRedirects),Re.targetSnapshot);this.events.next(vt)}),(0,De.w)(Re=>{let vt=!1;return(0,C.of)(Re).pipe(function Rn(b,E){return(0,Ot.z)(y=>{const{targetSnapshot:x,guards:{canActivateChecks:k}}=y;if(!k.length)return(0,C.of)(y);let z=0;return(0,h.D)(k).pipe(Nt(X=>function qn(b,E,y,x){const k=b.routeConfig,z=b._resolve;return void 0!==k?.title&&!It(k)&&(z[Gn]=k.title),function Cr(b,E,y,x){const k=function Or(b){return[...Object.keys(b),...Object.getOwnPropertySymbols(b)]}(b);if(0===k.length)return(0,C.of)({});const z={};return(0,h.D)(k).pipe((0,Ot.z)(X=>function Vi(b,E,y,x){const k=ds(E)??x,z=qi(b,k);return qe(z.resolve?z.resolve(E,y):k.runInContext(()=>z(E,y)))}(b[X],E,y,x).pipe((0,Yt.P)(),(0,Lt.b)(Re=>{z[X]=Re}))),Wt(1),function wr(b){return(0,ae.U)(()=>b)}(z),Et(X=>Z(X)?at.E:Be(X)))}(z,b,E,x).pipe((0,ae.U)(X=>(b._resolvedData=X,b.data=us(b,y).resolve,k&&It(k)&&(b.data[Gn]=k.title),null)))}(X.route,x,b,E)),(0,Lt.b)(()=>z++),Wt(1),(0,Ot.z)(X=>z===k.length?(0,C.of)(y):at.E))})}(y.paramsInheritanceStrategy,this.environmentInjector),(0,Lt.b)({next:()=>vt=!0,complete:()=>{vt||(y.restoreHistory(Re),this.cancelNavigationTransition(Re,"",2,y))}}))}),(0,Lt.b)(Re=>{const vt=new Me(Re.id,this.urlSerializer.serialize(Re.extractedUrl),this.urlSerializer.serialize(Re.urlAfterRedirects),Re.targetSnapshot);this.events.next(vt)}))}),vr(X=>{const Re=vt=>{const zt=[];vt.routeConfig?.loadComponent&&!vt.routeConfig._loadedComponent&&zt.push(this.configLoader.loadComponent(vt.routeConfig).pipe((0,Lt.b)(Xt=>{vt.component=Xt}),(0,ae.U)(()=>{})));for(const Xt of vt.children)zt.push(...Re(Xt));return zt};return Ke(Re(X.targetSnapshot.root)).pipe((0,Ht.d)(),(0,ft.q)(1))}),vr(()=>y.afterPreactivation()),(0,ae.U)(X=>{const Re=function Gi(b,E,y){const x=Zs(b,E._root,y?y._root:void 0);return new ws(x,E)}(y.routeReuseStrategy,X.targetSnapshot,X.currentRouterState);return x={...X,targetRouterState:Re}}),(0,Lt.b)(X=>{y.currentUrlTree=X.urlAfterRedirects,y.rawUrlTree=y.urlHandlingStrategy.merge(X.urlAfterRedirects,X.rawUrl),y.routerState=X.targetRouterState,"deferred"===y.urlUpdateStrategy&&(X.extras.skipLocationChange||y.setBrowserUrl(y.rawUrlTree,X),y.browserUrlTree=X.urlAfterRedirects)}),((b,E,y)=>(0,ae.U)(x=>(new yi(E,x.targetRouterState,x.currentRouterState,y).activate(b),x)))(this.rootContexts,y.routeReuseStrategy,X=>this.events.next(X)),(0,Lt.b)({next:X=>{k=!0,this.lastSuccessfulNavigation=this.currentNavigation,y.navigated=!0,this.events.next(new yr(X.id,this.urlSerializer.serialize(X.extractedUrl),this.urlSerializer.serialize(y.currentUrlTree))),y.titleStrategy?.updateTitle(X.targetRouterState.snapshot),X.resolve(!0)},complete:()=>{k=!0}}),Pn(()=>{k||z||this.cancelNavigationTransition(x,"",1,y),this.currentNavigation?.id===x.id&&(this.currentNavigation=null)}),Et(X=>{if(z=!0,Gs(X)){cs(X)||(y.navigated=!0,y.restoreHistory(x,!0));const Re=new Br(x.id,this.urlSerializer.serialize(x.extractedUrl),X.message,X.cancellationCode);if(this.events.next(Re),cs(X)){const vt=y.urlHandlingStrategy.merge(X.url,y.rawUrlTree),zt={skipLocationChange:x.extras.skipLocationChange,replaceUrl:"eager"===y.urlUpdateStrategy||_i(x.source)};y.scheduleNavigation(vt,"imperative",null,zt,{resolve:x.resolve,reject:x.reject,promise:x.promise})}else x.resolve(!1)}else{y.restoreHistory(x,!0);const Re=new vs(x.id,this.urlSerializer.serialize(x.extractedUrl),X,x.targetSnapshot??void 0);this.events.next(Re);try{x.resolve(y.errorHandler(X))}catch(vt){x.reject(vt)}}return at.E}))}))}cancelNavigationTransition(y,x,k,z){const X=new Br(y.id,this.urlSerializer.serialize(y.extractedUrl),x,k);this.events.next(X),y.resolve(!1)}}return b.\u0275fac=function(y){return new(y||b)},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function _i(b){return"imperative"!==b}let Mo=(()=>{class b{buildTitle(y){let x,k=y.root;for(;void 0!==k;)x=this.getResolvedTitleForRoute(k)??x,k=k.children.find(z=>z.outlet===Jt);return x}getResolvedTitleForRoute(y){return y.data[Gn]}}return b.\u0275fac=function(y){return new(y||b)},b.\u0275prov=f.Yz7({token:b,factory:function(){return(0,f.f3M)(Ua)},providedIn:"root"}),b})(),Ua=(()=>{class b extends Mo{constructor(y){super(),this.title=y}updateTitle(y){const x=this.buildTitle(y);void 0!==x&&this.title.setTitle(x)}}return b.\u0275fac=function(y){return new(y||b)(f.LFG(Pr.Dx))},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})(),wa=(()=>{class b{}return b.\u0275fac=function(y){return new(y||b)},b.\u0275prov=f.Yz7({token:b,factory:function(){return(0,f.f3M)(uu)},providedIn:"root"}),b})();class Va{shouldDetach(E){return!1}store(E,y){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,y){return E.routeConfig===y.routeConfig}}let uu=(()=>{class b extends Va{}return b.\u0275fac=function(){let E;return function(x){return(E||(E=f.n5z(b)))(x||b)}}(),b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();const rs=new f.OlP("",{providedIn:"root",factory:()=>({})});let xu=(()=>{class b{}return b.\u0275fac=function(y){return new(y||b)},b.\u0275prov=f.Yz7({token:b,factory:function(){return(0,f.f3M)(Ba)},providedIn:"root"}),b})(),Ba=(()=>{class b{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,x){return y}}return b.\u0275fac=function(y){return new(y||b)},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function ja(b){throw b}function Un(b,E,y){return E.parse("/")}const zo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Mu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wn=(()=>{class b{constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,f.f3M)(f.c2e),this.isNgZoneEnabled=!1,this.options=(0,f.f3M)(rs,{optional:!0})||{},this.errorHandler=this.options.errorHandler||ja,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Un,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,C.of)(void 0),this.urlHandlingStrategy=(0,f.f3M)(xu),this.routeReuseStrategy=(0,f.f3M)(wa),this.titleStrategy=(0,f.f3M)(Mo),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=At((0,f.f3M)($t,{optional:!0})??[]),this.navigationTransitions=(0,f.f3M)(wt),this.urlSerializer=(0,f.f3M)(un),this.location=(0,f.f3M)(se.Ye),this.rootComponentType=null,this.isNgZoneEnabled=(0,f.f3M)(f.R0b)instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Mn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Xs(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(y=>{this.lastSuccessfulId=y.id,this.currentPageId=y.targetPageId},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(y){this.rootComponentType=y,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const x="popstate"===y.type?"popstate":"hashchange";"popstate"===x&&setTimeout(()=>{const k={replaceUrl:!0},z=y.state?.navigationId?y.state:null;if(y.state){const Re={...y.state};delete Re.navigationId,delete Re.\u0275routerPageId,0!==Object.keys(Re).length&&(k.state=Re)}const X=this.parseUrl(y.url);this.scheduleNavigation(X,x,z,k)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(y){this.config=y.map(Xi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,x={}){const{relativeTo:k,queryParams:z,fragment:X,queryParamsHandling:Re,preserveFragment:vt}=x,zt=k||this.routerState.root,Xt=vt?this.currentUrlTree.fragment:X;let Xn=null;switch(Re){case"merge":Xn={...this.currentUrlTree.queryParams,...z};break;case"preserve":Xn=this.currentUrlTree.queryParams;break;default:Xn=z||null}return null!==Xn&&(Xn=this.removeEmptyProps(Xn)),Qn(zt,this.currentUrlTree,y,Xn,Xt??null)}navigateByUrl(y,x={skipLocationChange:!1}){const k=nr(y)?y:this.parseUrl(y),z=this.urlHandlingStrategy.merge(k,this.rawUrlTree);return this.scheduleNavigation(z,"imperative",null,x)}navigate(y,x={skipLocationChange:!1}){return function gn(b){for(let E=0;E<b.length;E++){if(null==b[E])throw new f.vHH(4008,!1)}}(y),this.navigateByUrl(this.createUrlTree(y,x),x)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let x;try{x=this.urlSerializer.parse(y)}catch(k){x=this.malformedUriErrorHandler(k,this.urlSerializer,y)}return x}isActive(y,x){let k;if(k=!0===x?{...zo}:!1===x?{...Mu}:x,nr(y))return zn(this.currentUrlTree,y,k);const z=this.parseUrl(y);return zn(this.currentUrlTree,z,k)}removeEmptyProps(y){return Object.keys(y).reduce((x,k)=>{const z=y[k];return null!=z&&(x[k]=z),x},{})}scheduleNavigation(y,x,k,z,X){if(this.disposed)return Promise.resolve(!1);let Re,vt,zt,Xt;return X?(Re=X.resolve,vt=X.reject,zt=X.promise):zt=new Promise((Xn,ti)=>{Re=Xn,vt=ti}),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(k=this.location.getState()),Xt=k&&k.\u0275routerPageId?k.\u0275routerPageId:z.replaceUrl||z.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Xt=0,this.navigationTransitions.handleNavigationRequest({targetPageId:Xt,source:x,restoredState:k,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:y,extras:z,resolve:Re,reject:vt,promise:zt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),zt.catch(Xn=>Promise.reject(Xn))}setBrowserUrl(y,x){const k=this.urlSerializer.serialize(y),z={...x.extras.state,...this.generateNgRouterState(x.id,x.targetPageId)};this.location.isCurrentPathEqualTo(k)||x.extras.replaceUrl?this.location.replaceState(k,"",z):this.location.go(k,"",z)}restoreHistory(y,x=!1){if("computed"===this.canceledNavigationResolution){const k=this.currentPageId-y.targetPageId;"popstate"!==y.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===k?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===k&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(k)}else"replace"===this.canceledNavigationResolution&&(x&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(y,x){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:x}:{navigationId:y}}}return b.\u0275fac=function(y){return new(y||b)},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})(),Lo=(()=>{class b{constructor(y,x,k,z,X,Re){this.router=y,this.route=x,this.tabIndexAttribute=k,this.renderer=z,this.el=X,this.locationStrategy=Re,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new pe.x;const vt=X.nativeElement.tagName;this.isAnchorElement="A"===vt||"AREA"===vt,this.isAnchorElement?this.subscription=y.events.subscribe(zt=>{zt instanceof yr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(y){this._preserveFragment=(0,f.D6c)(y)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(y){this._skipLocationChange=(0,f.D6c)(y)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(y){this._replaceUrl=(0,f.D6c)(y)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(y){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",y)}ngOnChanges(y){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(y,x,k,z,X){return!!(null===this.urlTree||this.isAnchorElement&&(0!==y||x||k||z||X||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const y=null===this.href?null:(0,f.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",y)}applyAttributeValue(y,x){const k=this.renderer,z=this.el.nativeElement;null!==x?k.setAttribute(z,y,x):k.removeAttribute(z,y)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return b.\u0275fac=function(y){return new(y||b)(f.Y36(Wn),f.Y36(gi),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(se.S$))},b.\u0275dir=f.lG2({type:b,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(y,x){1&y&&f.NdJ("click",function(z){return x.onClick(z.button,z.ctrlKey,z.shiftKey,z.altKey,z.metaKey)}),2&y&&f.uIk("target",x.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[f.TTD]}),b})(),Zn=(()=>{class b{constructor(y,x,k,z,X){this.router=y,this.element=x,this.renderer=k,this.cdr=z,this.link=X,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new f.vpe,this.routerEventsSubscription=y.events.subscribe(Re=>{Re instanceof yr&&this.update()})}ngAfterContentInit(){(0,C.of)(this.links.changes,(0,C.of)(null)).pipe((0,_r.J)()).subscribe(y=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const y=[...this.links.toArray(),this.link].filter(x=>!!x).map(x=>x.onChanges);this.linkInputChangesSubscription=(0,h.D)(y).pipe((0,_r.J)()).subscribe(x=>{this.isActive!==this.isLinkActive(this.router)(x)&&this.update()})}set routerLinkActive(y){const x=Array.isArray(y)?y:y.split(" ");this.classes=x.filter(k=>!!k)}ngOnChanges(y){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const y=this.hasActiveLinks();this.isActive!==y&&(this.isActive=y,this.cdr.markForCheck(),this.classes.forEach(x=>{y?this.renderer.addClass(this.element.nativeElement,x):this.renderer.removeClass(this.element.nativeElement,x)}),y&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(y))})}isLinkActive(y){const x=function lu(b){return!!b.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return k=>!!k.urlTree&&y.isActive(k.urlTree,x)}hasActiveLinks(){const y=this.isLinkActive(this.router);return this.link&&y(this.link)||this.links.some(y)}}return b.\u0275fac=function(y){return new(y||b)(f.Y36(Wn),f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(f.sBO),f.Y36(Lo,8))},b.\u0275dir=f.lG2({type:b,selectors:[["","routerLinkActive",""]],contentQueries:function(y,x,k){if(1&y&&f.Suo(k,Lo,5),2&y){let z;f.iGM(z=f.CRH())&&(x.links=z)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[f.TTD]}),b})();class Yr{}let Ha=(()=>{class b{constructor(y,x,k,z,X){this.router=y,this.injector=k,this.preloadingStrategy=z,this.loader=X}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ct.h)(y=>y instanceof yr),Nt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,x){const k=[];for(const z of x){z.providers&&!z._injector&&(z._injector=(0,f.MMx)(z.providers,y,`Route: ${z.path}`));const X=z._injector??y,Re=z._loadedInjector??X;z.loadChildren&&!z._loadedRoutes&&void 0===z.canLoad||z.loadComponent&&!z._loadedComponent?k.push(this.preloadConfig(X,z)):(z.children||z._loadedRoutes)&&k.push(this.processRoutes(Re,z.children??z._loadedRoutes))}return(0,h.D)(k).pipe((0,_r.J)())}preloadConfig(y,x){return this.preloadingStrategy.preload(x,()=>{let k;k=x.loadChildren&&void 0===x.canLoad?this.loader.loadChildren(y,x):(0,C.of)(null);const z=k.pipe((0,Ot.z)(X=>null===X?(0,C.of)(void 0):(x._loadedRoutes=X.routes,x._loadedInjector=X.injector,this.processRoutes(X.injector??y,X.routes))));if(x.loadComponent&&!x._loadedComponent){const X=this.loader.loadComponent(x);return(0,h.D)([z,X]).pipe((0,_r.J)())}return z})}}return b.\u0275fac=function(y){return new(y||b)(f.LFG(Wn),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(Yr),f.LFG(Qt))},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();const Wi=new f.OlP("");let so=(()=>{class b{constructor(y,x,k,z,X={}){this.urlSerializer=y,this.transitions=x,this.viewportScroller=k,this.zone=z,this.options=X,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},X.scrollPositionRestoration=X.scrollPositionRestoration||"disabled",X.anchorScrolling=X.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof Xr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof yr&&(this.lastId=y.id,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof ir&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,x){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ir(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,x))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return b.\u0275fac=function(y){f.$Z()},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac}),b})();function Ko(b,E){return{\u0275kind:b,\u0275providers:E}}function aa(){const b=(0,f.f3M)(f.zs3);return E=>{const y=b.get(f.z2F);if(E!==y.components[0])return;const x=b.get(Wn),k=b.get(Ro);1===b.get(Ea)&&x.initialNavigation(),b.get(Gr,null,f.XFs.Optional)?.setUpPreloading(),b.get(Wi,null,f.XFs.Optional)?.init(),x.resetRootComponentType(y.componentTypes[0]),k.closed||(k.next(),k.unsubscribe())}}const Ro=new f.OlP("",{factory:()=>new pe.x}),Ea=new f.OlP("",{providedIn:"root",factory:()=>1});const Gr=new f.OlP("");function ua(b){return Ko(0,[{provide:Gr,useExisting:Ha},{provide:Yr,useExisting:b}])}const cu=new f.OlP("ROUTER_FORROOT_GUARD"),qa=[se.Ye,{provide:un,useClass:fn},Wn,zi,{provide:gi,useFactory:function Wo(b){return b.routerState.root},deps:[Wn]},Qt,[]];function el(){return new f.PXZ("Router",Wn)}let du=(()=>{class b{constructor(y){}static forRoot(y,x){return{ngModule:b,providers:[qa,[],{provide:$t,multi:!0,useValue:y},{provide:cu,useFactory:Da,deps:[[Wn,new f.FiY,new f.tp0]]},{provide:rs,useValue:x||{}},x?.useHash?{provide:se.S$,useClass:se.Do}:{provide:se.S$,useClass:se.b0},{provide:Wi,useFactory:()=>{const b=(0,f.f3M)(se.EM),E=(0,f.f3M)(f.R0b),y=(0,f.f3M)(rs),x=(0,f.f3M)(wt),k=(0,f.f3M)(un);return y.scrollOffset&&b.setOffset(y.scrollOffset),new so(k,x,b,E,y)}},x?.preloadingStrategy?ua(x.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:el},x?.initialNavigation?wo(x):[],[{provide:Wa,useFactory:aa},{provide:f.tb,multi:!0,useExisting:Wa}]]}}static forChild(y){return{ngModule:b,providers:[{provide:$t,multi:!0,useValue:y}]}}}return b.\u0275fac=function(y){return new(y||b)(f.LFG(cu,8))},b.\u0275mod=f.oAB({type:b}),b.\u0275inj=f.cJS({imports:[xi]}),b})();function Da(b){return"guarded"}function wo(b){return["disabled"===b.initialNavigation?Ko(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const E=(0,f.f3M)(Wn);return()=>{E.setUpLocationChangeListener()}}},{provide:Ea,useValue:2}]).\u0275providers:[],"enabledBlocking"===b.initialNavigation?Ko(2,[{provide:Ea,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:E=>{const y=E.get(se.V_,Promise.resolve());return()=>y.then(()=>new Promise(k=>{const z=E.get(Wn),X=E.get(Ro);(function x(k){E.get(Wn).events.pipe((0,Ct.h)(X=>X instanceof yr||X instanceof Br||X instanceof vs),(0,ae.U)(X=>X instanceof yr||X instanceof Br&&(0===X.code||1===X.code)&&null),(0,Ct.h)(X=>null!==X),(0,ft.q)(1)).subscribe(()=>{k()})})(()=>{k(!0)}),z.afterPreactivation=()=>(k(!0),X.closed?(0,C.of)(void 0):X),z.initialNavigation()}))}}]).\u0275providers:[]]}const Wa=new f.OlP("")},3942:(kt,Ze,P)=>{P.d(Ze,{Z:()=>Ke});var f=P(2090),h=P(4859),C=P(9681),pe=P(1877);class V{constructor(Ne,xe){this._delegate=Ne,this.firebase=xe,(0,C._addComponent)(Ne,new h.wA("app-compat",()=>this,"PUBLIC")),this.container=Ne.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ne){this._delegate.automaticDataCollectionEnabled=Ne}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ne=>{this._delegate.checkDestroyed(),Ne()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,C.deleteApp)(this._delegate)))}_getService(Ne,xe=C._DEFAULT_ENTRY_NAME){var Ve;this._delegate.checkDestroyed();const Xe=this._delegate.container.getProvider(Ne);return!Xe.isInitialized()&&"EXPLICIT"===(null===(Ve=Xe.getComponent())||void 0===Ve?void 0:Ve.instantiationMode)&&Xe.initialize(),Xe.getImmediate({identifier:xe})}_removeServiceInstance(Ne,xe=C._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ne).clearInstance(xe)}_addComponent(Ne){(0,C._addComponent)(this._delegate,Ne)}_addOrOverwriteComponent(Ne){(0,C._addOrOverwriteComponent)(this._delegate,Ne)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ie=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),re=function le(){const lt=function ye(lt){const Ne={},xe={__esModule:!0,initializeApp:function oe(Qe,he={}){const Oe=C.initializeApp(Qe,he);if((0,f.r3)(Ne,Oe.name))return Ne[Oe.name];const Y=new lt(Oe,xe);return Ne[Oe.name]=Y,Y},app:Xe,registerVersion:C.registerVersion,setLogLevel:C.setLogLevel,onLog:C.onLog,apps:null,SDK_VERSION:C.SDK_VERSION,INTERNAL:{registerComponent:function Be(Qe){const he=Qe.name,Oe=he.replace("-compat","");if(C._registerComponent(Qe)&&"PUBLIC"===Qe.type){const Y=(se=Xe())=>{if("function"!=typeof se[Oe])throw Ie.create("invalid-app-argument",{appName:he});return se[Oe]()};void 0!==Qe.serviceProps&&(0,f.ZB)(Y,Qe.serviceProps),xe[Oe]=Y,lt.prototype[Oe]=function(...se){return this._getService.bind(this,he).apply(this,Qe.multipleInstances?se:[])}}return"PUBLIC"===Qe.type?xe[Oe]:null},removeApp:function Ve(Qe){delete Ne[Qe]},useAsService:function at(Qe,he){return"serverAuth"===he?null:he},modularAPIs:C}};function Xe(Qe){if(!(0,f.r3)(Ne,Qe=Qe||C._DEFAULT_ENTRY_NAME))throw Ie.create("no-app",{appName:Qe});return Ne[Qe]}return xe.default=xe,Object.defineProperty(xe,"apps",{get:function He(){return Object.keys(Ne).map(Qe=>Ne[Qe])}}),Xe.App=lt,xe}(V);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function Ne(xe){(0,f.ZB)(lt,xe)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),lt}(),te=new pe.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){te.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&te.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ke=re;!function ze(lt){(0,C.registerVersion)("@firebase/app-compat","0.2.0",lt)}()},9681:(kt,Ze,P)=>{P.r(Ze),P.d(Ze,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>Pr,_DEFAULT_ENTRY_NAME:()=>Yt,_addComponent:()=>Zt,_addOrOverwriteComponent:()=>Wt,_apps:()=>Lt,_clearComponents:()=>Nn,_components:()=>Et,_getProvider:()=>Ht,_registerComponent:()=>bn,_removeServiceInstance:()=>On,deleteApp:()=>An,getApp:()=>Gn,getApps:()=>er,initializeApp:()=>Jt,onLog:()=>K,registerVersion:()=>ie,setLogLevel:()=>ut});var f=P(5861),h=P(4859),C=P(1877),pe=P(2090),V=P(8766);class _e{constructor(dt){this.container=dt}getPlatformInfoString(){return this.container.getProviders().map(Gt=>{if(function Ie(Mt){return"VERSION"===Mt.getComponent()?.type}(Gt)){const un=Gt.getImmediate();return`${un.library}/${un.version}`}return null}).filter(Gt=>Gt).join(" ")}}const ye="@firebase/app",re=new C.Yd("@firebase/app"),Yt="[DEFAULT]",Nt={[ye]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Lt=new Map,Et=new Map;function Zt(Mt,dt){try{Mt.container.addComponent(dt)}catch(Gt){re.debug(`Component ${dt.name} failed to register with FirebaseApp ${Mt.name}`,Gt)}}function Wt(Mt,dt){Mt.container.addOrOverwriteComponent(dt)}function bn(Mt){const dt=Mt.name;if(Et.has(dt))return re.debug(`There were multiple attempts to register component ${dt}.`),!1;Et.set(dt,Mt);for(const Gt of Lt.values())Zt(Gt,Mt);return!0}function Ht(Mt,dt){const Gt=Mt.container.getProvider("heartbeat").getImmediate({optional:!0});return Gt&&Gt.triggerHeartbeat(),Mt.container.getProvider(dt)}function On(Mt,dt,Gt=Yt){Ht(Mt,dt).clearInstance(Gt)}function Nn(){Et.clear()}const Pn=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class _r{constructor(dt,Gt,un){this._isDeleted=!1,this._options=Object.assign({},dt),this._config=Object.assign({},Gt),this._name=Gt.name,this._automaticDataCollectionEnabled=Gt.automaticDataCollectionEnabled,this._container=un,this.container.addComponent(new h.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(dt){this.checkDestroyed(),this._automaticDataCollectionEnabled=dt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(dt){this._isDeleted=dt}checkDestroyed(){if(this.isDeleted)throw Pn.create("app-deleted",{appName:this._name})}}const Pr="9.15.0";function Jt(Mt,dt={}){let Gt=Mt;"object"!=typeof dt&&(dt={name:dt});const un=Object.assign({name:Yt,automaticDataCollectionEnabled:!1},dt),fn=un.name;if("string"!=typeof fn||!fn)throw Pn.create("bad-app-name",{appName:String(fn)});if(Gt||(Gt=(0,pe.aH)()),!Gt)throw Pn.create("no-options");const rn=Lt.get(fn);if(rn){if((0,pe.vZ)(Gt,rn.options)&&(0,pe.vZ)(un,rn.config))return rn;throw Pn.create("duplicate-app",{appName:fn})}const be=new h.H0(fn);for(const Se of Et.values())be.addComponent(Se);const fe=new _r(Gt,un,be);return Lt.set(fn,fe),fe}function Gn(Mt=Yt){const dt=Lt.get(Mt);if(!dt&&Mt===Yt)return Jt();if(!dt)throw Pn.create("no-app",{appName:Mt});return dt}function er(){return Array.from(Lt.values())}function An(Mt){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,f.Z)(function*(Mt){const dt=Mt.name;Lt.has(dt)&&(Lt.delete(dt),yield Promise.all(Mt.container.getProviders().map(Gt=>Gt.delete())),Mt.isDeleted=!0)})).apply(this,arguments)}function ie(Mt,dt,Gt){var un;let fn=null!==(un=Nt[Mt])&&void 0!==un?un:Mt;Gt&&(fn+=`-${Gt}`);const rn=fn.match(/\s|\//),be=dt.match(/\s|\//);if(rn||be){const fe=[`Unable to register library "${fn}" with version "${dt}":`];return rn&&fe.push(`library name "${fn}" contains illegal characters (whitespace or "/")`),rn&&be&&fe.push("and"),be&&fe.push(`version name "${dt}" contains illegal characters (whitespace or "/")`),void re.warn(fe.join(" "))}bn(new h.wA(`${fn}-version`,()=>({library:fn,version:dt}),"VERSION"))}function K(Mt,dt){if(null!==Mt&&"function"!=typeof Mt)throw Pn.create("invalid-log-argument");(0,C.Am)(Mt,dt)}function ut(Mt){(0,C.Ub)(Mt)}const Fn="firebase-heartbeat-store";let rt=null;function qe(){return rt||(rt=(0,V.X3)("firebase-heartbeat-database",1,{upgrade:(Mt,dt)=>{0===dt&&Mt.createObjectStore(Fn)}}).catch(Mt=>{throw Pn.create("idb-open",{originalErrorMessage:Mt.message})})),rt}function Ut(){return(Ut=(0,f.Z)(function*(Mt){try{return(yield qe()).transaction(Fn).objectStore(Fn).get(or(Mt))}catch(dt){if(dt instanceof pe.ZR)re.warn(dt.message);else{const Gt=Pn.create("idb-get",{originalErrorMessage:dt?.message});re.warn(Gt.message)}}})).apply(this,arguments)}function Er(Mt,dt){return zn.apply(this,arguments)}function zn(){return(zn=(0,f.Z)(function*(Mt,dt){try{const un=(yield qe()).transaction(Fn,"readwrite");return yield un.objectStore(Fn).put(dt,or(Mt)),un.done}catch(Gt){if(Gt instanceof pe.ZR)re.warn(Gt.message);else{const un=Pn.create("idb-set",{originalErrorMessage:Gt?.message});re.warn(un.message)}}})).apply(this,arguments)}function or(Mt){return`${Mt.name}!${Mt.options.appId}`}class Bi{constructor(dt){this.container=dt,this._heartbeatsCache=null;const Gt=this.container.getProvider("app").getImmediate();this._storage=new Mn(Gt),this._heartbeatsCachePromise=this._storage.read().then(un=>(this._heartbeatsCache=un,un))}triggerHeartbeat(){var dt=this;return(0,f.Z)(function*(){const un=dt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),fn=Dn();if(null===dt._heartbeatsCache&&(dt._heartbeatsCache=yield dt._heartbeatsCachePromise),dt._heartbeatsCache.lastSentHeartbeatDate!==fn&&!dt._heartbeatsCache.heartbeats.some(rn=>rn.date===fn))return dt._heartbeatsCache.heartbeats.push({date:fn,agent:un}),dt._heartbeatsCache.heartbeats=dt._heartbeatsCache.heartbeats.filter(rn=>{const be=new Date(rn.date).valueOf();return Date.now()-be<=2592e6}),dt._storage.overwrite(dt._heartbeatsCache)})()}getHeartbeatsHeader(){var dt=this;return(0,f.Z)(function*(){if(null===dt._heartbeatsCache&&(yield dt._heartbeatsCachePromise),null===dt._heartbeatsCache||0===dt._heartbeatsCache.heartbeats.length)return"";const Gt=Dn(),{heartbeatsToSend:un,unsentEntries:fn}=function qr(Mt,dt=1024){const Gt=[];let un=Mt.slice();for(const fn of Mt){const rn=Gt.find(be=>be.agent===fn.agent);if(rn){if(rn.dates.push(fn.date),nn(Gt)>dt){rn.dates.pop();break}}else if(Gt.push({agent:fn.agent,dates:[fn.date]}),nn(Gt)>dt){Gt.pop();break}un=un.slice(1)}return{heartbeatsToSend:Gt,unsentEntries:un}}(dt._heartbeatsCache.heartbeats),rn=(0,pe.L)(JSON.stringify({version:2,heartbeats:un}));return dt._heartbeatsCache.lastSentHeartbeatDate=Gt,fn.length>0?(dt._heartbeatsCache.heartbeats=fn,yield dt._storage.overwrite(dt._heartbeatsCache)):(dt._heartbeatsCache.heartbeats=[],dt._storage.overwrite(dt._heartbeatsCache)),rn})()}}function Dn(){return(new Date).toISOString().substring(0,10)}class Mn{constructor(dt){this.app=dt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,pe.hl)()&&(0,pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var dt=this;return(0,f.Z)(function*(){return(yield dt._canUseIndexedDBPromise)&&(yield function Le(Mt){return Ut.apply(this,arguments)}(dt.app))||{heartbeats:[]}})()}overwrite(dt){var Gt=this;return(0,f.Z)(function*(){var un;if(yield Gt._canUseIndexedDBPromise){const rn=yield Gt.read();return Er(Gt.app,{lastSentHeartbeatDate:null!==(un=dt.lastSentHeartbeatDate)&&void 0!==un?un:rn.lastSentHeartbeatDate,heartbeats:dt.heartbeats})}})()}add(dt){var Gt=this;return(0,f.Z)(function*(){var un;if(yield Gt._canUseIndexedDBPromise){const rn=yield Gt.read();return Er(Gt.app,{lastSentHeartbeatDate:null!==(un=dt.lastSentHeartbeatDate)&&void 0!==un?un:rn.lastSentHeartbeatDate,heartbeats:[...rn.heartbeats,...dt.heartbeats]})}})()}}function nn(Mt){return(0,pe.L)(JSON.stringify({version:2,heartbeats:Mt})).length}!function ai(Mt){bn(new h.wA("platform-logger",dt=>new _e(dt),"PRIVATE")),bn(new h.wA("heartbeat",dt=>new Bi(dt),"PRIVATE")),ie(ye,"0.9.0",Mt),ie(ye,"0.9.0","esm2017"),ie("fire-js","")}("")},4859:(kt,Ze,P)=>{P.d(Ze,{H0:()=>ye,wA:()=>C});var f=P(5861),h=P(2090);class C{constructor(re,te,me){this.name=re,this.instanceFactory=te,this.type=me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const pe="[DEFAULT]";class V{constructor(re,te){this.name=re,this.container=te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const te=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(te)){const me=new h.BH;if(this.instancesDeferred.set(te,me),this.isInitialized(te)||this.shouldAutoInitialize())try{const nt=this.getOrInitializeService({instanceIdentifier:te});nt&&me.resolve(nt)}catch{}}return this.instancesDeferred.get(te).promise}getImmediate(re){var te;const me=this.normalizeInstanceIdentifier(re?.identifier),nt=null!==(te=re?.optional)&&void 0!==te&&te;if(!this.isInitialized(me)&&!this.shouldAutoInitialize()){if(nt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:me})}catch(ze){if(nt)return null;throw ze}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function Ie(le){return"EAGER"===le.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:pe})}catch{}for(const[te,me]of this.instancesDeferred.entries()){const nt=this.normalizeInstanceIdentifier(te);try{const ze=this.getOrInitializeService({instanceIdentifier:nt});me.resolve(ze)}catch{}}}}clearInstance(re=pe){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,f.Z)(function*(){const te=Array.from(re.instances.values());yield Promise.all([...te.filter(me=>"INTERNAL"in me).map(me=>me.INTERNAL.delete()),...te.filter(me=>"_delete"in me).map(me=>me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=pe){return this.instances.has(re)}getOptions(re=pe){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:te={}}=re,me=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(me))throw Error(`${this.name}(${me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const nt=this.getOrInitializeService({instanceIdentifier:me,options:te});for(const[ze,Ke]of this.instancesDeferred.entries())me===this.normalizeInstanceIdentifier(ze)&&Ke.resolve(nt);return nt}onInit(re,te){var me;const nt=this.normalizeInstanceIdentifier(te),ze=null!==(me=this.onInitCallbacks.get(nt))&&void 0!==me?me:new Set;ze.add(re),this.onInitCallbacks.set(nt,ze);const Ke=this.instances.get(nt);return Ke&&re(Ke,nt),()=>{ze.delete(re)}}invokeOnInitCallbacks(re,te){const me=this.onInitCallbacks.get(te);if(me)for(const nt of me)try{nt(re,te)}catch{}}getOrInitializeService({instanceIdentifier:re,options:te={}}){let me=this.instances.get(re);if(!me&&this.component&&(me=this.component.instanceFactory(this.container,{instanceIdentifier:(le=re,le===pe?void 0:le),options:te}),this.instances.set(re,me),this.instancesOptions.set(re,te),this.invokeOnInitCallbacks(me,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,me)}catch{}var le;return me||null}normalizeInstanceIdentifier(re=pe){return this.component?this.component.multipleInstances?re:pe:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ye{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const te=this.getProvider(re.name);if(te.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);te.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const te=new V(re,this);return this.providers.set(re,te),te}getProviders(){return Array.from(this.providers.values())}}},1877:(kt,Ze,P)=>{P.d(Ze,{Am:()=>le,Ub:()=>ye,Yd:()=>Ie,in:()=>h});const f=[];var h=(()=>{return(re=h||(h={}))[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",h;var re})();const C={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},pe=h.INFO,V={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},_e=(re,te,...me)=>{if(te<re.logLevel)return;const nt=(new Date).toISOString(),ze=V[te];if(!ze)throw new Error(`Attempted to log a message with an invalid logType (value: ${te})`);console[ze](`[${nt}]  ${re.name}:`,...me)};class Ie{constructor(te){this.name=te,this._logLevel=pe,this._logHandler=_e,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(te){if(!(te in h))throw new TypeError(`Invalid value "${te}" assigned to \`logLevel\``);this._logLevel=te}setLogLevel(te){this._logLevel="string"==typeof te?C[te]:te}get logHandler(){return this._logHandler}set logHandler(te){if("function"!=typeof te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=te}get userLogHandler(){return this._userLogHandler}set userLogHandler(te){this._userLogHandler=te}debug(...te){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...te),this._logHandler(this,h.DEBUG,...te)}log(...te){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...te),this._logHandler(this,h.VERBOSE,...te)}info(...te){this._userLogHandler&&this._userLogHandler(this,h.INFO,...te),this._logHandler(this,h.INFO,...te)}warn(...te){this._userLogHandler&&this._userLogHandler(this,h.WARN,...te),this._logHandler(this,h.WARN,...te)}error(...te){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...te),this._logHandler(this,h.ERROR,...te)}}function ye(re){f.forEach(te=>{te.setLogLevel(re)})}function le(re,te){for(const me of f){let nt=null;te&&te.level&&(nt=C[te.level]),me.userLogHandler=null===re?null:(ze,Ke,...lt)=>{const Ne=lt.map(xe=>{if(null==xe)return null;if("string"==typeof xe)return xe;if("number"==typeof xe||"boolean"==typeof xe)return xe.toString();if(xe instanceof Error)return xe.message;try{return JSON.stringify(xe)}catch{return null}}).filter(xe=>xe).join(" ");Ke>=(nt??ze.logLevel)&&re({level:h[Ke].toLowerCase(),message:Ne,args:lt,type:ze.name})}}}},259:(kt,Ze,P)=>{P.d(Ze,{C6:()=>f.getApps,Mq:()=>f.getApp});var f=P(9681);(0,f.registerVersion)("firebase","9.15.0","app")},9260:(kt,Ze,P)=>{P.d(Ze,{Z:()=>f.Z});var f=P(3942);f.Z.registerVersion("firebase","9.15.0","app-compat")},9169:(kt,Ze,P)=>{P.r(Ze);var f=P(5861),h=P(3942),C=P(2090),pe=P(9681),V=P(1877),_e=P(655),Ie=P(4859);const Ke=function nt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},lt=function ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ne=new C.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ve=new V.Yd("@firebase/auth");function Xe(_,...c){Ve.logLevel<=V.in.ERROR&&Ve.error(`Auth (${pe.SDK_VERSION}): ${_}`,...c)}function oe(_,...c){throw Qe(_,...c)}function He(_,...c){return Qe(_,...c)}function Be(_,c,g){const w=Object.assign(Object.assign({},lt()),{[c]:g});return new C.LL("auth","Firebase",w).create(c,{appName:_.name})}function at(_,c,g){if(!(c instanceof g))throw g.name!==c.constructor.name&&oe(_,"argument-error"),Be(_,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qe(_,...c){if("string"!=typeof _){const g=c[0],w=[...c.slice(1)];return w[0]&&(w[0].appName=_.name),_._errorFactory.create(g,...w)}return Ne.create(_,...c)}function he(_,c,...g){if(!_)throw Qe(c,...g)}function Oe(_){const c="INTERNAL ASSERTION FAILED: "+_;throw Xe(c),new Error(c)}function Y(_,c){_||Oe(c)}const se=new Map;function ae(_){Y(_ instanceof Function,"Expected a class definition");let c=se.get(_);return c?(Y(c instanceof _,"Instance stored in cache mismatched with class"),c):(c=new _,se.set(_,c),c)}function mt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Ct(){return"http:"===Ot()||"https:"===Ot()}function Ot(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Lt{constructor(c,g){this.shortDelay=c,this.longDelay=g,Y(g>c,"Short delay should be less than long delay!"),this.isMobile=(0,C.uI)()||(0,C.b$)()}get(){return function Yt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ct()||(0,C.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Et(_,c){Y(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return c?`${g}${c.startsWith("/")?c.slice(1):c}`:g}class Zt{static initialize(c,g,w){this.fetchImpl=c,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Oe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Oe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Oe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},bn=new Lt(3e4,6e4);function Ht(_,c){return _.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:_.tenantId}):c}function On(_,c,g,w){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,f.Z)(function*(_,c,g,w,j={}){return wr(_,j,(0,f.Z)(function*(){let J={},Pe={};w&&("GET"===c?Pe=w:J={body:JSON.stringify(w)});const ct=(0,C.xO)(Object.assign({key:_.config.apiKey},Pe)).slice(1),Bt=yield _._getAdditionalHeaders();return Bt["Content-Type"]="application/json",_.languageCode&&(Bt["X-Firebase-Locale"]=_.languageCode),Zt.fetch()(Jt(_,_.config.apiHost,g,ct),Object.assign({method:c,headers:Bt,referrerPolicy:"no-referrer"},J))}))})).apply(this,arguments)}function wr(_,c,g){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,f.Z)(function*(_,c,g){_._canInitEmulator=!1;const w=Object.assign(Object.assign({},Wt),c);try{const j=new Gn(_),J=yield Promise.race([g(),j.promise]);j.clearNetworkTimeout();const Pe=yield J.json();if("needConfirmation"in Pe)throw er(_,"account-exists-with-different-credential",Pe);if(J.ok&&!("errorMessage"in Pe))return Pe;{const ct=J.ok?Pe.errorMessage:Pe.error.message,[Bt,hn]=ct.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Bt)throw er(_,"credential-already-in-use",Pe);if("EMAIL_EXISTS"===Bt)throw er(_,"email-already-in-use",Pe);if("USER_DISABLED"===Bt)throw er(_,"user-disabled",Pe);const Vn=w[Bt]||Bt.toLowerCase().replace(/[_\s]+/g,"-");if(hn)throw Be(_,Vn,hn);oe(_,Vn)}}catch(j){if(j instanceof C.ZR)throw j;oe(_,"network-request-failed")}})).apply(this,arguments)}function _r(_,c,g,w){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,f.Z)(function*(_,c,g,w,j={}){const J=yield On(_,c,g,w,j);return"mfaPendingCredential"in J&&oe(_,"multi-factor-auth-required",{_serverResponse:J}),J})).apply(this,arguments)}function Jt(_,c,g,w){const j=`${c}${g}?${w}`;return _.config.emulator?Et(_.config,j):`${_.config.apiScheme}://${j}`}class Gn{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(He(this.auth,"network-request-failed")),bn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function er(_,c,g){const w={appName:_.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const j=He(_,c,w);return j.customData._tokenResponse=g,j}function Fe(){return(Fe=(0,f.Z)(function*(_,c){return On(_,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function ie(_,c){return K.apply(this,arguments)}function K(){return(K=(0,f.Z)(function*(_,c){return On(_,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function ut(_,c){return At.apply(this,arguments)}function At(){return(At=(0,f.Z)(function*(_,c){return On(_,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function Ft(_){if(_)try{const c=new Date(Number(_));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function qe(){return(qe=(0,f.Z)(function*(_,c=!1){const g=(0,C.m9)(_),w=yield g.getIdToken(c),j=Ut(w);he(j&&j.exp&&j.auth_time&&j.iat,g.auth,"internal-error");const J="object"==typeof j.firebase?j.firebase:void 0,Pe=J?.sign_in_provider;return{claims:j,token:w,authTime:Ft(Le(j.auth_time)),issuedAtTime:Ft(Le(j.iat)),expirationTime:Ft(Le(j.exp)),signInProvider:Pe||null,signInSecondFactor:J?.sign_in_second_factor||null}})).apply(this,arguments)}function Le(_){return 1e3*Number(_)}function Ut(_){const[c,g,w]=_.split(".");if(void 0===c||void 0===g||void 0===w)return Xe("JWT malformed, contained fewer than 3 sections"),null;try{const j=(0,C.tV)(g);return j?JSON.parse(j):(Xe("Failed to decode base64 JWT payload"),null)}catch(j){return Xe("Caught error parsing JWT payload as JSON",j?.toString()),null}}function zn(_,c){return or.apply(this,arguments)}function or(){return(or=(0,f.Z)(function*(_,c,g=!1){if(g)return c;try{return yield c}catch(w){throw w instanceof C.ZR&&fi(w)&&_.auth.currentUser===_&&(yield _.auth.signOut()),w}})).apply(this,arguments)}function fi({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class $r{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var g;if(c){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const j=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,j)}}schedule(c=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(c);this.timerId=setTimeout((0,f.Z)(function*(){yield g.iteration()}),w)}iteration(){var c=this;return(0,f.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&c.schedule(!0))}c.schedule()})()}}class Bi{constructor(c,g){this.createdAt=c,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ft(this.lastLoginAt),this.creationTime=Ft(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Dn(_){return qr.apply(this,arguments)}function qr(){return(qr=(0,f.Z)(function*(_){var c;const g=_.auth,w=yield _.getIdToken(),j=yield zn(_,ut(g,{idToken:w}));he(j?.users.length,g,"internal-error");const J=j.users[0];_._notifyReloadListener(J);const Pe=null!==(c=J.providerUserInfo)&&void 0!==c&&c.length?Mt(J.providerUserInfo):[],ct=ai(_.providerData,Pe),Vn=!!_.isAnonymous&&!(_.email&&J.passwordHash||ct?.length),In={uid:J.localId,displayName:J.displayName||null,photoURL:J.photoUrl||null,email:J.email||null,emailVerified:J.emailVerified||!1,phoneNumber:J.phoneNumber||null,tenantId:J.tenantId||null,providerData:ct,metadata:new Bi(J.createdAt,J.lastLoginAt),isAnonymous:Vn};Object.assign(_,In)})).apply(this,arguments)}function nn(){return(nn=(0,f.Z)(function*(_){const c=(0,C.m9)(_);yield Dn(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function ai(_,c){return[..._.filter(w=>!c.some(j=>j.providerId===w.providerId)),...c]}function Mt(_){return _.map(c=>{var{providerId:g}=c,w=(0,_e._T)(c,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Gt(){return(Gt=(0,f.Z)(function*(_,c){const g=yield wr(_,{},(0,f.Z)(function*(){const w=(0,C.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:j,apiKey:J}=_.config,Pe=Jt(_,j,"/v1/token",`key=${J}`),ct=yield _._getAdditionalHeaders();return ct["Content-Type"]="application/x-www-form-urlencoded",Zt.fetch()(Pe,{method:"POST",headers:ct,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class un{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){he(c.idToken,"internal-error"),he(typeof c.idToken<"u","internal-error"),he(typeof c.refreshToken<"u","internal-error");const g="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function Er(_){const c=Ut(_);return he(c,"internal-error"),he(typeof c.exp<"u","internal-error"),he(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,g)}getToken(c,g=!1){var w=this;return(0,f.Z)(function*(){return he(!w.accessToken||w.refreshToken,c,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(c,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,g){var w=this;return(0,f.Z)(function*(){const{accessToken:j,refreshToken:J,expiresIn:Pe}=yield function dt(_,c){return Gt.apply(this,arguments)}(c,g);w.updateTokensAndExpiration(j,J,Number(Pe))})()}updateTokensAndExpiration(c,g,w){this.refreshToken=g||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(c,g){const{refreshToken:w,accessToken:j,expirationTime:J}=g,Pe=new un;return w&&(he("string"==typeof w,"internal-error",{appName:c}),Pe.refreshToken=w),j&&(he("string"==typeof j,"internal-error",{appName:c}),Pe.accessToken=j),J&&(he("number"==typeof J,"internal-error",{appName:c}),Pe.expirationTime=J),Pe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new un,this.toJSON())}_performRefresh(){return Oe("not implemented")}}function fn(_,c){he("string"==typeof _||typeof _>"u","internal-error",{appName:c})}class rn{constructor(c){var{uid:g,auth:w,stsTokenManager:j}=c,J=(0,_e._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $r(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=j,this.accessToken=j.accessToken,this.displayName=J.displayName||null,this.email=J.email||null,this.emailVerified=J.emailVerified||!1,this.phoneNumber=J.phoneNumber||null,this.photoURL=J.photoURL||null,this.isAnonymous=J.isAnonymous||!1,this.tenantId=J.tenantId||null,this.providerData=J.providerData?[...J.providerData]:[],this.metadata=new Bi(J.createdAt||void 0,J.lastLoginAt||void 0)}getIdToken(c){var g=this;return(0,f.Z)(function*(){const w=yield zn(g,g.stsTokenManager.getToken(g.auth,c));return he(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(c){return function rt(_){return qe.apply(this,arguments)}(this,c)}reload(){return function Mn(_){return nn.apply(this,arguments)}(this)}_assign(c){this!==c&&(he(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(g=>Object.assign({},g)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){return new rn(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(c){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,g=!1){var w=this;return(0,f.Z)(function*(){let j=!1;c.idToken&&c.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(c),j=!0),g&&(yield Dn(w)),yield w.auth._persistUserIfCurrent(w),j&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var c=this;return(0,f.Z)(function*(){const g=yield c.getIdToken();return yield zn(c,function An(_,c){return Fe.apply(this,arguments)}(c.auth,{idToken:g})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,g){var w,j,J,Pe,ct,Bt,hn,Vn;const In=null!==(w=g.displayName)&&void 0!==w?w:void 0,gs=null!==(j=g.email)&&void 0!==j?j:void 0,ga=null!==(J=g.phoneNumber)&&void 0!==J?J:void 0,Zl=null!==(Pe=g.photoURL)&&void 0!==Pe?Pe:void 0,Fh=null!==(ct=g.tenantId)&&void 0!==ct?ct:void 0,Gl=null!==(Bt=g._redirectEventId)&&void 0!==Bt?Bt:void 0,Oa=null!==(hn=g.createdAt)&&void 0!==hn?hn:void 0,ma=null!==(Vn=g.lastLoginAt)&&void 0!==Vn?Vn:void 0,{uid:tu,emailVerified:Dc,isAnonymous:_d,providerData:vd,stsTokenManager:Do}=g;he(tu&&Do,c,"internal-error");const jg=un.fromJSON(this.name,Do);he("string"==typeof tu,c,"internal-error"),fn(In,c.name),fn(gs,c.name),he("boolean"==typeof Dc,c,"internal-error"),he("boolean"==typeof _d,c,"internal-error"),fn(ga,c.name),fn(Zl,c.name),fn(Fh,c.name),fn(Gl,c.name),fn(Oa,c.name),fn(ma,c.name);const dl=new rn({uid:tu,auth:c,email:gs,emailVerified:Dc,displayName:In,isAnonymous:_d,photoURL:Zl,phoneNumber:ga,tenantId:Fh,stsTokenManager:jg,createdAt:Oa,lastLoginAt:ma});return vd&&Array.isArray(vd)&&(dl.providerData=vd.map(Xo=>Object.assign({},Xo))),Gl&&(dl._redirectEventId=Gl),dl}static _fromIdTokenResponse(c,g,w=!1){return(0,f.Z)(function*(){const j=new un;j.updateFromServerResponse(g);const J=new rn({uid:g.localId,auth:c,stsTokenManager:j,isAnonymous:w});return yield Dn(J),J})()}}const fe=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(g,w){var j=this;return(0,f.Z)(function*(){j.storage[g]=w})()}_get(g){var w=this;return(0,f.Z)(function*(){const j=w.storage[g];return void 0===j?null:j})()}_remove(g){var w=this;return(0,f.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return _.type="NONE",_})();function Se(_,c,g){return`firebase:${_}:${c}:${g}`}class st{constructor(c,g,w){this.persistence=c,this.auth=g,this.userKey=w;const{config:j,name:J}=this.auth;this.fullUserKey=Se(this.userKey,j.apiKey,J),this.fullPersistenceKey=Se("persistence",j.apiKey,J),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,f.Z)(function*(){const g=yield c.persistence._get(c.fullUserKey);return g?rn._fromJSON(c.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var g=this;return(0,f.Z)(function*(){if(g.persistence===c)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=c,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,g,w="authUser"){return(0,f.Z)(function*(){if(!g.length)return new st(ae(fe),c,w);const j=(yield Promise.all(g.map(function(){var hn=(0,f.Z)(function*(Vn){if(yield Vn._isAvailable())return Vn});return function(Vn){return hn.apply(this,arguments)}}()))).filter(hn=>hn);let J=j[0]||ae(fe);const Pe=Se(w,c.config.apiKey,c.name);let ct=null;for(const hn of g)try{const Vn=yield hn._get(Pe);if(Vn){const In=rn._fromJSON(c,Vn);hn!==J&&(ct=In),J=hn;break}}catch{}const Bt=j.filter(hn=>hn._shouldAllowMigration);return J._shouldAllowMigration&&Bt.length?(J=Bt[0],ct&&(yield J._set(Pe,ct.toJSON())),yield Promise.all(g.map(function(){var hn=(0,f.Z)(function*(Vn){if(Vn!==J)try{yield Vn._remove(Pe)}catch{}});return function(Vn){return hn.apply(this,arguments)}}())),new st(J,c,w)):new st(J,c,w)})()}}function Ge(_){const c=_.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(ar(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(Rt(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(je(c))return"Blackberry";if(ve(c))return"Webos";if(yn(c))return"Safari";if((c.includes("chrome/")||Ln(c))&&!c.includes("edge/"))return"Chrome";if(ln(c))return"Android";{const w=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function Rt(_=(0,C.z$)()){return/firefox\//i.test(_)}function yn(_=(0,C.z$)()){const c=_.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function Ln(_=(0,C.z$)()){return/crios\//i.test(_)}function ar(_=(0,C.z$)()){return/iemobile/i.test(_)}function ln(_=(0,C.z$)()){return/android/i.test(_)}function je(_=(0,C.z$)()){return/blackberry/i.test(_)}function ve(_=(0,C.z$)()){return/webos/i.test(_)}function de(_=(0,C.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function sn(_=(0,C.z$)()){return de(_)||ln(_)||ve(_)||je(_)||/windows phone/i.test(_)||ar(_)}function Yn(_,c=[]){let g;switch(_){case"Browser":g=Ge((0,C.z$)());break;case"Worker":g=`${Ge((0,C.z$)())}-${_}`;break;default:g=_}const w=c.length?c.join(","):"FirebaseCore-web";return`${g}/JsCore/${pe.SDK_VERSION}/${w}`}class xr{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,g){const w=J=>new Promise((Pe,ct)=>{try{Pe(c(J))}catch(Bt){ct(Bt)}});w.onAbort=g,this.queue.push(w);const j=this.queue.length-1;return()=>{this.queue[j]=()=>Promise.resolve()}}runMiddleware(c){var g=this;return(0,f.Z)(function*(){if(g.auth.currentUser===c)return;const w=[];try{for(const j of g.queue)yield j(c),j.onAbort&&w.push(j.onAbort)}catch(j){w.reverse();for(const J of w)try{J()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:j?.message})}})()}}class Li{constructor(c,g,w){this.app=c,this.heartbeatServiceProvider=g,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rs(this),this.idTokenSubscription=new Rs(this),this.beforeStateQueue=new xr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ne,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(c,g){var w=this;return g&&(this._popupRedirectResolver=ae(g)),this._initializationPromise=this.queue((0,f.Z)(function*(){var j,J;if(!w._deleted&&(w.persistenceManager=yield st.create(w,c),!w._deleted)){if(null!==(j=w._popupRedirectResolver)&&void 0!==j&&j._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(J=w.currentUser)||void 0===J?void 0:J.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,f.Z)(function*(){if(c._deleted)return;const g=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||g){if(c.currentUser&&g&&c.currentUser.uid===g.uid)return c._currentUser._assign(g),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(g,!0)}})()}initializeCurrentUser(c){var g=this;return(0,f.Z)(function*(){var w;const j=yield g.assertedPersistence.getCurrentUser();let J=j,Pe=!1;if(c&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ct=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,Bt=J?._redirectEventId,hn=yield g.tryRedirectSignIn(c);(!ct||ct===Bt)&&hn?.user&&(J=hn.user,Pe=!0)}if(!J)return g.directlySetCurrentUser(null);if(!J._redirectEventId){if(Pe)try{yield g.beforeStateQueue.runMiddleware(J)}catch(ct){J=j,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ct))}return J?g.reloadAndSetCurrentUserOrClear(J):g.directlySetCurrentUser(null)}return he(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===J._redirectEventId?g.directlySetCurrentUser(J):g.reloadAndSetCurrentUserOrClear(J)})()}tryRedirectSignIn(c){var g=this;return(0,f.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,c,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(c){var g=this;return(0,f.Z)(function*(){try{yield Dn(c)}catch(w){if("auth/network-request-failed"!==w?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function Nt(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var c=this;return(0,f.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var g=this;return(0,f.Z)(function*(){const w=c?(0,C.m9)(c):null;return w&&he(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(c,g=!1){var w=this;return(0,f.Z)(function*(){if(!w._deleted)return c&&he(w.tenantId===c.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(c)),w.queue((0,f.Z)(function*(){yield w.directlySetCurrentUser(c),w.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,f.Z)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var g=this;return this.queue((0,f.Z)(function*(){yield g.assertedPersistence.setPersistence(ae(c))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new C.LL("auth","Firebase",c())}onAuthStateChanged(c,g,w){return this.registerStateListener(this.authStateSubscription,c,g,w)}beforeAuthStateChanged(c,g){return this.beforeStateQueue.pushCallback(c,g)}onIdTokenChanged(c,g,w){return this.registerStateListener(this.idTokenSubscription,c,g,w)}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,g){var w=this;return(0,f.Z)(function*(){const j=yield w.getOrInitRedirectPersistenceManager(g);return null===c?j.removeCurrentUser():j.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var g=this;return(0,f.Z)(function*(){if(!g.redirectPersistenceManager){const w=c&&ae(c)||g._popupRedirectResolver;he(w,g,"argument-error"),g.redirectPersistenceManager=yield st.create(g,[ae(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(c){var g=this;return(0,f.Z)(function*(){var w,j;return g._isInitialized&&(yield g.queue((0,f.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===c?g._currentUser:(null===(j=g.redirectUser)||void 0===j?void 0:j._redirectEventId)===c?g.redirectUser:null})()}_persistUserIfCurrent(c){var g=this;return(0,f.Z)(function*(){if(c===g.currentUser)return g.queue((0,f.Z)(function*(){return g.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,g,w,j){if(this._deleted)return()=>{};const J="function"==typeof g?g:g.next.bind(g),Pe=this._isInitialized?Promise.resolve():this._initializationPromise;return he(Pe,this,"internal-error"),Pe.then(()=>J(this.currentUser)),"function"==typeof g?c.addObserver(g,w,j):c.addObserver(g)}directlySetCurrentUser(c){var g=this;return(0,f.Z)(function*(){g.currentUser&&g.currentUser!==c&&g._currentUser._stopProactiveRefresh(),c&&g.isProactiveRefreshEnabled&&c._startProactiveRefresh(),g.currentUser=c,c?yield g.assertedPersistence.setCurrentUser(c):yield g.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=Yn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,f.Z)(function*(){var g;const w={"X-Client-Version":c.clientVersion};c.app.options.appId&&(w["X-Firebase-gmpid"]=c.app.options.appId);const j=yield null===(g=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return j&&(w["X-Firebase-Client"]=j),w})()}}function nr(_){return(0,C.m9)(_)}class Rs{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,C.ne)(g=>this.observer=g)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Si(_){const c=_.indexOf(":");return c<0?"":_.substr(0,c+1)}function Qn(_){if(!_)return null;const c=Number(_);return isNaN(c)?null:c}class Dr{constructor(c,g){this.providerId=c,this.signInMethod=g}toJSON(){return Oe("not implemented")}_getIdTokenResponse(c){return Oe("not implemented")}_linkToIdToken(c,g){return Oe("not implemented")}_getReauthenticationResolver(c){return Oe("not implemented")}}function Tr(_,c){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,f.Z)(function*(_,c){return On(_,"POST","/v1/accounts:resetPassword",Ht(_,c))})).apply(this,arguments)}function Ai(_,c){return jt.apply(this,arguments)}function jt(){return(jt=(0,f.Z)(function*(_,c){return On(_,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function pn(_,c){return mr.apply(this,arguments)}function mr(){return(mr=(0,f.Z)(function*(_,c){return On(_,"POST","/v1/accounts:update",Ht(_,c))})).apply(this,arguments)}function Jr(){return(Jr=(0,f.Z)(function*(_,c){return _r(_,"POST","/v1/accounts:signInWithPassword",Ht(_,c))})).apply(this,arguments)}function kr(_,c){return bi.apply(this,arguments)}function bi(){return(bi=(0,f.Z)(function*(_,c){return On(_,"POST","/v1/accounts:sendOobCode",Ht(_,c))})).apply(this,arguments)}function ur(_,c){return as.apply(this,arguments)}function as(){return(as=(0,f.Z)(function*(_,c){return kr(_,c)})).apply(this,arguments)}function Fr(_,c){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,f.Z)(function*(_,c){return kr(_,c)})).apply(this,arguments)}function wi(_,c){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,f.Z)(function*(_,c){return kr(_,c)})).apply(this,arguments)}function $i(_,c){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,f.Z)(function*(_,c){return kr(_,c)})).apply(this,arguments)}function Br(){return(Br=(0,f.Z)(function*(_,c){return _r(_,"POST","/v1/accounts:signInWithEmailLink",Ht(_,c))})).apply(this,arguments)}function ui(){return(ui=(0,f.Z)(function*(_,c){return _r(_,"POST","/v1/accounts:signInWithEmailLink",Ht(_,c))})).apply(this,arguments)}class bs extends Dr{constructor(c,g,w,j=null){super("password",w),this._email=c,this._password=g,this._tenantId=j}static _fromEmailAndPassword(c,g){return new bs(c,g,"password")}static _fromEmailAndCode(c,g,w=null){return new bs(c,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const g="string"==typeof c?JSON.parse(c):c;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(c){var g=this;return(0,f.Z)(function*(){switch(g.signInMethod){case"password":return function pi(_,c){return Jr.apply(this,arguments)}(c,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function yr(_,c){return Br.apply(this,arguments)}(c,{email:g._email,oobCode:g._password});default:oe(c,"internal-error")}})()}_linkToIdToken(c,g){var w=this;return(0,f.Z)(function*(){switch(w.signInMethod){case"password":return Ai(c,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function vs(_,c){return ui.apply(this,arguments)}(c,{idToken:g,email:w._email,oobCode:w._password});default:oe(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function rr(_,c){return Te.apply(this,arguments)}function Te(){return(Te=(0,f.Z)(function*(_,c){return _r(_,"POST","/v1/accounts:signInWithIdp",Ht(_,c))})).apply(this,arguments)}class $e extends Dr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const g=new $e(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(g.idToken=c.idToken),c.accessToken&&(g.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(g.nonce=c.nonce),c.pendingToken&&(g.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(g.accessToken=c.oauthToken,g.secret=c.oauthTokenSecret):oe("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const g="string"==typeof c?JSON.parse(c):c,{providerId:w,signInMethod:j}=g,J=(0,_e._T)(g,["providerId","signInMethod"]);if(!w||!j)return null;const Pe=new $e(w,j);return Pe.idToken=J.idToken||void 0,Pe.accessToken=J.accessToken||void 0,Pe.secret=J.secret,Pe.nonce=J.nonce,Pe.pendingToken=J.pendingToken||null,Pe}_getIdTokenResponse(c){return rr(c,this.buildRequest())}_linkToIdToken(c,g){const w=this.buildRequest();return w.idToken=g,rr(c,w)}_getReauthenticationResolver(c){const g=this.buildRequest();return g.autoCreate=!1,rr(c,g)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),c.postBody=(0,C.xO)(g)}return c}}function pt(_,c){return St.apply(this,arguments)}function St(){return(St=(0,f.Z)(function*(_,c){return On(_,"POST","/v1/accounts:sendVerificationCode",Ht(_,c))})).apply(this,arguments)}function mn(){return(mn=(0,f.Z)(function*(_,c){return _r(_,"POST","/v1/accounts:signInWithPhoneNumber",Ht(_,c))})).apply(this,arguments)}function ir(){return(ir=(0,f.Z)(function*(_,c){const g=yield _r(_,"POST","/v1/accounts:signInWithPhoneNumber",Ht(_,c));if(g.temporaryProof)throw er(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Lr={USER_NOT_FOUND:"user-not-found"};function ei(){return(ei=(0,f.Z)(function*(_,c){return _r(_,"POST","/v1/accounts:signInWithPhoneNumber",Ht(_,Object.assign(Object.assign({},c),{operation:"REAUTH"})),Lr)})).apply(this,arguments)}class ci extends Dr{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,g){return new ci({verificationId:c,verificationCode:g})}static _fromTokenResponse(c,g){return new ci({phoneNumber:c,temporaryProof:g})}_getIdTokenResponse(c){return function on(_,c){return mn.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,g){return function Bn(_,c){return ir.apply(this,arguments)}(c,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function li(_,c){return ei.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:g,verificationId:w,verificationCode:j}=this.params;return c&&g?{temporaryProof:c,phoneNumber:g}:{sessionInfo:w,code:j}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:g,verificationCode:w,phoneNumber:j,temporaryProof:J}=c;return w||g||j||J?new ci({verificationId:g,verificationCode:w,phoneNumber:j,temporaryProof:J}):null}}class ws{constructor(c){var g,w,j,J,Pe,ct;const Bt=(0,C.zd)((0,C.pd)(c)),hn=null!==(g=Bt.apiKey)&&void 0!==g?g:null,Vn=null!==(w=Bt.oobCode)&&void 0!==w?w:null,In=function Hi(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(j=Bt.mode)&&void 0!==j?j:null);he(hn&&Vn&&In,"argument-error"),this.apiKey=hn,this.operation=In,this.code=Vn,this.continueUrl=null!==(J=Bt.continueUrl)&&void 0!==J?J:null,this.languageCode=null!==(Pe=Bt.languageCode)&&void 0!==Pe?Pe:null,this.tenantId=null!==(ct=Bt.tenantId)&&void 0!==ct?ct:null}static parseLink(c){const g=function ii(_){const c=(0,C.zd)((0,C.pd)(_)).link,g=c?(0,C.zd)((0,C.pd)(c)).deep_link_id:null,w=(0,C.zd)((0,C.pd)(_)).deep_link_id;return(w?(0,C.zd)((0,C.pd)(w)).link:null)||w||g||c||_}(c);try{return new ws(g)}catch{return null}}}let js=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,w){return bs._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const j=ws.parseLink(w);return he(j,"argument-error"),bs._fromEmailAndCode(g,j.code,j.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class gi{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class us extends gi{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class $s extends us{static credentialFromJSON(c){const g="string"==typeof c?JSON.parse(c):c;return he("providerId"in g&&"signInMethod"in g,"argument-error"),$e._fromParams(g)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return he(c.idToken||c.accessToken,"argument-error"),$e._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return $s.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return $s.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:j,pendingToken:J,nonce:Pe,providerId:ct}=c;if(!w&&!j&&!g&&!J||!ct)return null;try{return new $s(ct)._credential({idToken:g,accessToken:w,nonce:Pe,pendingToken:J})}catch{return null}}}let Os=(()=>{class _ extends us{constructor(){super("facebook.com")}static credential(g){return $e._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Ns=(()=>{class _ extends us{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return $e._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:j}=g;if(!w&&!j)return null;try{return _.credential(w,j)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Es=(()=>{class _ extends us{constructor(){super("github.com")}static credential(g){return $e._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Ui extends Dr{constructor(c,g){super(c,c),this.pendingToken=g}_getIdTokenResponse(c){return rr(c,this.buildRequest())}_linkToIdToken(c,g){const w=this.buildRequest();return w.idToken=g,rr(c,w)}_getReauthenticationResolver(c){const g=this.buildRequest();return g.autoCreate=!1,rr(c,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const g="string"==typeof c?JSON.parse(c):c,{providerId:w,signInMethod:j,pendingToken:J}=g;return w&&j&&J&&w===j?new Ui(w,J):null}static _create(c,g){return new Ui(c,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Gi extends gi{constructor(c){he(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return Gi.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return Gi.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const g=Ui.fromJSON(c);return he(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:g,providerId:w}=c;if(!g||!w)return null;try{return Ui._create(w,g)}catch{return null}}}let Zs=(()=>{class _ extends us{constructor(){super("twitter.com")}static credential(g,w){return $e._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:j}=g;if(!w||!j)return null;try{return _.credential(w,j)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Po(_,c){return So.apply(this,arguments)}function So(){return(So=(0,f.Z)(function*(_,c){return _r(_,"POST","/v1/accounts:signUp",Ht(_,c))})).apply(this,arguments)}class mi{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,g,w,j=!1){return(0,f.Z)(function*(){const J=yield rn._fromIdTokenResponse(c,w,j),Pe=eo(w);return new mi({user:J,providerId:Pe,_tokenResponse:w,operationType:g})})()}static _forOperation(c,g,w){return(0,f.Z)(function*(){yield c._updateTokensIfNecessary(w,!0);const j=eo(w);return new mi({user:c,providerId:j,_tokenResponse:w,operationType:g})})()}}function eo(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function cs(){return(cs=(0,f.Z)(function*(_){var c;const g=nr(_);if(yield g._initializationPromise,null!==(c=g.currentUser)&&void 0!==c&&c.isAnonymous)return new mi({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield Po(g,{returnSecureToken:!0}),j=yield mi._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(j.user),j})).apply(this,arguments)}class Gs extends C.ZR{constructor(c,g,w,j){var J;super(g.code,g.message),this.operationType=w,this.user=j,Object.setPrototypeOf(this,Gs.prototype),this.customData={appName:c.name,tenantId:null!==(J=c.tenantId)&&void 0!==J?J:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(c,g,w,j){return new Gs(c,g,w,j)}}function Ji(_,c,g,w){return("reauthenticate"===c?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(J=>{throw"auth/multi-factor-auth-required"===J.code?Gs._fromErrorAndOperation(_,J,c,w):J})}function zi(_){return new Set(_.map(({providerId:c})=>c).filter(c=>!!c))}function Ni(){return(Ni=(0,f.Z)(function*(_,c){const g=(0,C.m9)(_);yield xi(!0,g,c);const{providerUserInfo:w}=yield ie(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[c]}),j=zi(w||[]);return g.providerData=g.providerData.filter(J=>j.has(J.providerId)),j.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Ps(_,c){return ks.apply(this,arguments)}function ks(){return(ks=(0,f.Z)(function*(_,c,g=!1){const w=yield zn(_,c._linkToIdToken(_.auth,yield _.getIdToken()),g);return mi._forOperation(_,"link",w)})).apply(this,arguments)}function xi(_,c,g){return zs.apply(this,arguments)}function zs(){return(zs=(0,f.Z)(function*(_,c,g){yield Dn(c);const j=!1===_?"provider-already-linked":"no-such-provider";he(zi(c.providerData).has(g)===_,c.auth,j)})).apply(this,arguments)}function qs(_,c){return to.apply(this,arguments)}function to(){return(to=(0,f.Z)(function*(_,c,g=!1){const{auth:w}=_,j="reauthenticate";try{const J=yield zn(_,Ji(w,j,c,_),g);he(J.idToken,w,"internal-error");const Pe=Ut(J.idToken);he(Pe,w,"internal-error");const{sub:ct}=Pe;return he(_.uid===ct,w,"user-mismatch"),mi._forOperation(_,j,J)}catch(J){throw"auth/user-not-found"===J?.code&&oe(w,"user-mismatch"),J}})).apply(this,arguments)}function yo(_,c){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,f.Z)(function*(_,c,g=!1){const w="signIn",j=yield Ji(_,w,c),J=yield mi._fromIdTokenResponse(_,w,j);return g||(yield _._updateCurrentUser(J.user)),J})).apply(this,arguments)}function Ir(_,c){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,f.Z)(function*(_,c){return yo(nr(_),c)})).apply(this,arguments)}function Hr(_,c){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,f.Z)(function*(_,c){const g=(0,C.m9)(_);return yield xi(!1,g,c.providerId),Ps(g,c)})).apply(this,arguments)}function Xi(_,c){return dr.apply(this,arguments)}function dr(){return(dr=(0,f.Z)(function*(_,c){return qs((0,C.m9)(_),c)})).apply(this,arguments)}function Ao(_,c){return ds.apply(this,arguments)}function ds(){return(ds=(0,f.Z)(function*(_,c){return _r(_,"POST","/v1/accounts:signInWithCustomToken",Ht(_,c))})).apply(this,arguments)}function yi(){return(yi=(0,f.Z)(function*(_,c){const g=nr(_),w=yield Ao(g,{token:c,returnSecureToken:!0}),j=yield mi._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(j.user),j})).apply(this,arguments)}class Cs{constructor(c,g){this.factorId=c,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(c,g){return"phoneInfo"in g?es._fromServerResponse(c,g):oe(c,"internal-error")}}class es extends Cs{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,g){return new es(g)}}function _o(_,c,g){var w;he((null===(w=g.url)||void 0===w?void 0:w.length)>0,_,"invalid-continue-uri"),he(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),c.continueUrl=g.url,c.dynamicLinkDomain=g.dynamicLinkDomain,c.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(he(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),c.iOSBundleId=g.iOS.bundleId),g.android&&(he(g.android.packageName.length>0,_,"missing-android-pkg-name"),c.androidInstallApp=g.android.installApp,c.androidMinimumVersionCode=g.android.minimumVersion,c.androidPackageName=g.android.packageName)}function qi(){return(qi=(0,f.Z)(function*(_,c,g){const w=(0,C.m9)(_),j={requestType:"PASSWORD_RESET",email:c};g&&_o(w,j,g),yield Fr(w,j)})).apply(this,arguments)}function wn(){return(wn=(0,f.Z)(function*(_,c,g){yield Tr((0,C.m9)(_),{oobCode:c,newPassword:g})})).apply(this,arguments)}function vo(){return(vo=(0,f.Z)(function*(_,c){yield pn((0,C.m9)(_),{oobCode:c})})).apply(this,arguments)}function no(_,c){return H.apply(this,arguments)}function H(){return(H=(0,f.Z)(function*(_,c){const g=(0,C.m9)(_),w=yield Tr(g,{oobCode:c}),j=w.requestType;switch(he(j,g,"internal-error"),j){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":he(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":he(w.mfaInfo,g,"internal-error");default:he(w.email,g,"internal-error")}let J=null;return w.mfaInfo&&(J=Cs._fromServerResponse(nr(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:J},operation:j}})).apply(this,arguments)}function ee(){return(ee=(0,f.Z)(function*(_,c){const{data:g}=yield no((0,C.m9)(_),c);return g.email})).apply(this,arguments)}function Ae(){return(Ae=(0,f.Z)(function*(_,c,g){const w=nr(_),j=yield Po(w,{returnSecureToken:!0,email:c,password:g}),J=yield mi._fromIdTokenResponse(w,"signIn",j);return yield w._updateCurrentUser(J.user),J})).apply(this,arguments)}function A(){return(A=(0,f.Z)(function*(_,c,g){const w=(0,C.m9)(_),j={requestType:"EMAIL_SIGNIN",email:c};he(g.handleCodeInApp,w,"argument-error"),g&&_o(w,j,g),yield wi(w,j)})).apply(this,arguments)}function gt(){return(gt=(0,f.Z)(function*(_,c,g){const w=(0,C.m9)(_),j=js.credentialWithLink(c,g||mt());return he(j._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Ir(w,j)})).apply(this,arguments)}function En(_,c){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,f.Z)(function*(_,c){return On(_,"POST","/v1/accounts:createAuthUri",Ht(_,c))})).apply(this,arguments)}function hr(){return(hr=(0,f.Z)(function*(_,c){const w={identifier:c,continueUri:Ct()?mt():"http://localhost"},{signinMethods:j}=yield En((0,C.m9)(_),w);return j||[]})).apply(this,arguments)}function Rr(){return(Rr=(0,f.Z)(function*(_,c){const g=(0,C.m9)(_),j={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};c&&_o(g.auth,j,c);const{email:J}=yield ur(g.auth,j);J!==_.email&&(yield _.reload())})).apply(this,arguments)}function Jn(){return(Jn=(0,f.Z)(function*(_,c,g){const w=(0,C.m9)(_),J={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:c};g&&_o(w.auth,J,g);const{email:Pe}=yield $i(w.auth,J);Pe!==_.email&&(yield _.reload())})).apply(this,arguments)}function Ur(_,c){return si.apply(this,arguments)}function si(){return(si=(0,f.Z)(function*(_,c){return On(_,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Kr(){return(Kr=(0,f.Z)(function*(_,{displayName:c,photoURL:g}){if(void 0===c&&void 0===g)return;const w=(0,C.m9)(_),J={idToken:yield w.getIdToken(),displayName:c,photoUrl:g,returnSecureToken:!0},Pe=yield zn(w,Ur(w.auth,J));w.displayName=Pe.displayName||null,w.photoURL=Pe.photoUrl||null;const ct=w.providerData.find(({providerId:Bt})=>"password"===Bt);ct&&(ct.displayName=w.displayName,ct.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Pe)})).apply(this,arguments)}function Ts(_,c,g){return jo.apply(this,arguments)}function jo(){return(jo=(0,f.Z)(function*(_,c,g){const{auth:w}=_,J={idToken:yield _.getIdToken(),returnSecureToken:!0};c&&(J.email=c),g&&(J.password=g);const Pe=yield zn(_,Ai(w,J));yield _._updateTokensIfNecessary(Pe,!0)})).apply(this,arguments)}class ko{constructor(c,g,w={}){this.isNewUser=c,this.providerId=g,this.profile=w}}class Fa extends ko{constructor(c,g,w,j){super(c,g,w),this.username=j}}class ro extends ko{constructor(c,g){super(c,"facebook.com",g)}}class va extends Fa{constructor(c,g){super(c,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class La extends ko{constructor(c,g){super(c,"google.com",g)}}class bo extends Fa{constructor(c,g,w){super(c,"twitter.com",g,w)}}function $o(_){const{user:c,_tokenResponse:g}=_;return c.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function ra(_){var c,g;if(!_)return null;const{providerId:w}=_,j=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},J=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!w&&_?.idToken){const Pe=null===(g=null===(c=Ut(_.idToken))||void 0===c?void 0:c.firebase)||void 0===g?void 0:g.sign_in_provider;if(Pe)return new ko(J,"anonymous"!==Pe&&"custom"!==Pe?Pe:null)}if(!w)return null;switch(w){case"facebook.com":return new ro(J,j);case"github.com":return new va(J,j);case"google.com":return new La(J,j);case"twitter.com":return new bo(J,j,_.screenName||null);case"custom":case"anonymous":return new ko(J,null);default:return new ko(J,w,j)}}(g)}class io{constructor(c,g,w){this.type=c,this.credential=g,this.auth=w}static _fromIdtoken(c,g){return new io("enroll",c,g)}static _fromMfaPendingCredential(c){return new io("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var g,w;if(c?.multiFactorSession){if(null!==(g=c.multiFactorSession)&&void 0!==g&&g.pendingCredential)return io._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(w=c.multiFactorSession)&&void 0!==w&&w.idToken)return io._fromIdtoken(c.multiFactorSession.idToken)}return null}}class ns{constructor(c,g,w){this.session=c,this.hints=g,this.signInResolver=w}static _fromError(c,g){const w=nr(c),j=g.customData._serverResponse,J=(j.mfaInfo||[]).map(ct=>Cs._fromServerResponse(w,ct));he(j.mfaPendingCredential,w,"internal-error");const Pe=io._fromMfaPendingCredential(j.mfaPendingCredential);return new ns(Pe,J,function(){var ct=(0,f.Z)(function*(Bt){const hn=yield Bt._process(w,Pe);delete j.mfaInfo,delete j.mfaPendingCredential;const Vn=Object.assign(Object.assign({},j),{idToken:hn.idToken,refreshToken:hn.refreshToken});switch(g.operationType){case"signIn":const In=yield mi._fromIdTokenResponse(w,g.operationType,Vn);return yield w._updateCurrentUser(In.user),In;case"reauthenticate":return he(g.user,w,"internal-error"),mi._forOperation(g.user,g.operationType,Vn);default:oe(w,"internal-error")}});return function(Bt){return ct.apply(this,arguments)}}())}resolveSignIn(c){var g=this;return(0,f.Z)(function*(){return g.signInResolver(c)})()}}function au(_,c){return On(_,"POST","/v2/accounts/mfaEnrollment:start",Ht(_,c))}class ${constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>Cs._fromServerResponse(c.auth,w)))})}static _fromUser(c){return new $(c)}getSession(){var c=this;return(0,f.Z)(function*(){return io._fromIdtoken(yield c.user.getIdToken(),c.user.auth)})()}enroll(c,g){var w=this;return(0,f.Z)(function*(){const j=c,J=yield w.getSession(),Pe=yield zn(w.user,j._process(w.user.auth,J,g));return yield w.user._updateTokensIfNecessary(Pe),w.user.reload()})()}unenroll(c){var g=this;return(0,f.Z)(function*(){const w="string"==typeof c?c:c.uid,j=yield g.user.getIdToken(),J=yield zn(g.user,function M(_,c){return On(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Ht(_,c))}(g.user.auth,{idToken:j,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Pe})=>Pe!==w),yield g.user._updateTokensIfNecessary(J);try{yield g.user.reload()}catch(Pe){if("auth/user-token-expired"!==Pe?.code)throw Pe}})()}}const R=new WeakMap,we="__sak";class it{constructor(c,g){this.storageRetriever=c,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(we,"1"),this.storage.removeItem(we),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,g){return this.storage.setItem(c,JSON.stringify(g)),Promise.resolve()}_get(c){const g=this.storage.getItem(c);return Promise.resolve(g?JSON.parse(g):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const Rn=(()=>{class _ extends it{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function yt(){const _=(0,C.z$)();return yn(_)||de(_)}()&&function kn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=sn(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const j=this.storage.getItem(w),J=this.localCache[w];j!==J&&g(w,J,j)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((ct,Bt,hn)=>{this.notifyListeners(ct,hn)});const j=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ct=this.storage.getItem(j);if(g.newValue!==ct)null!==g.newValue?this.storage.setItem(j,g.newValue):this.storage.removeItem(j);else if(this.localCache[j]===g.newValue&&!w)return}const J=()=>{const ct=this.storage.getItem(j);!w&&this.localCache[j]===ct||this.notifyListeners(j,ct)},Pe=this.storage.getItem(j);!function cn(){return(0,C.w1)()&&10===document.documentMode}()||Pe===g.newValue||g.newValue===g.oldValue?J():setTimeout(J,10)}notifyListeners(g,w){this.localCache[g]=w;const j=this.listeners[g];if(j)for(const J of Array.from(j))J(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,j)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:j}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var j=()=>super._set,J=this;return(0,f.Z)(function*(){yield j().call(J,g,w),J.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,j=this;return(0,f.Z)(function*(){const J=yield w().call(j,g);return j.localCache[g]=JSON.stringify(J),J})()}_remove(g){var w=()=>super._remove,j=this;return(0,f.Z)(function*(){yield w().call(j,g),delete j.localCache[g]})()}}return _.type="LOCAL",_})(),Cr=(()=>{class _ extends it{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return _.type="SESSION",_})();let Vi=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(J=>J.isListeningto(g));if(w)return w;const j=new _(g);return this.receivers.push(j),j}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,f.Z)(function*(){const j=g,{eventId:J,eventType:Pe,data:ct}=j.data,Bt=w.handlersMap[Pe];if(!Bt?.size)return;j.ports[0].postMessage({status:"ack",eventId:J,eventType:Pe});const hn=Array.from(Bt).map(function(){var In=(0,f.Z)(function*(gs){return gs(j.origin,ct)});return function(gs){return In.apply(this,arguments)}}()),Vn=yield function Or(_){return Promise.all(_.map(function(){var c=(0,f.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return c.apply(this,arguments)}}()))}(hn);j.ports[0].postMessage({status:"done",eventId:J,eventType:Pe,response:Vn})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function It(_="",c=10){let g="";for(let w=0;w<c;w++)g+=Math.floor(10*Math.random());return _+g}class vr{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,g,w=50){var j=this;return(0,f.Z)(function*(){const J=typeof MessageChannel<"u"?new MessageChannel:null;if(!J)throw new Error("connection_unavailable");let Pe,ct;return new Promise((Bt,hn)=>{const Vn=It("",20);J.port1.start();const In=setTimeout(()=>{hn(new Error("unsupported_event"))},w);ct={messageChannel:J,onMessage(gs){const ga=gs;if(ga.data.eventId===Vn)switch(ga.data.status){case"ack":clearTimeout(In),Pe=setTimeout(()=>{hn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Pe),Bt(ga.data.response);break;default:clearTimeout(In),clearTimeout(Pe),hn(new Error("invalid_response"))}}},j.handlers.add(ct),J.port1.addEventListener("message",ct.onMessage),j.target.postMessage({eventType:c,eventId:Vn,data:g},[J.port2])}).finally(()=>{ct&&j.removeMessageHandler(ct)})})()}}function br(){return window}function $t(){return typeof br().WorkerGlobalScope<"u"&&"function"==typeof br().importScripts}function oa(){return(oa=(0,f.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const wt="firebaseLocalStorageDb",Mo="firebaseLocalStorage",Ua="fbase_key";class wa{constructor(c){this.request=c}toPromise(){return new Promise((c,g)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Va(_,c){return _.transaction([Mo],c?"readwrite":"readonly").objectStore(Mo)}function Au(){const _=indexedDB.open(wt,1);return new Promise((c,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const w=_.result;try{w.createObjectStore(Mo,{keyPath:Ua})}catch(j){g(j)}}),_.addEventListener("success",(0,f.Z)(function*(){const w=_.result;w.objectStoreNames.contains(Mo)?c(w):(w.close(),yield function uu(){const _=indexedDB.deleteDatabase(wt);return new wa(_).toPromise()}(),c(yield Au()))}))})}function rs(_,c,g){return xu.apply(this,arguments)}function xu(){return(xu=(0,f.Z)(function*(_,c,g){const w=Va(_,!0).put({[Ua]:c,value:g});return new wa(w).toPromise()})).apply(this,arguments)}function Go(){return(Go=(0,f.Z)(function*(_,c){const g=Va(_,!1).get(c),w=yield new wa(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function ja(_,c){const g=Va(_,!0).delete(c);return new wa(g).toPromise()}const Wn=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,f.Z)(function*(){return g.db||(g.db=yield Au()),g.db})()}_withRetries(g){var w=this;return(0,f.Z)(function*(){let j=0;for(;;)try{const J=yield w._openDb();return yield g(J)}catch(J){if(j++>3)throw J;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,f.Z)(function*(){return $t()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,f.Z)(function*(){g.receiver=Vi._getInstance(function ot(){return $t()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,f.Z)(function*(j,J){return{keyProcessed:(yield g._poll()).includes(J.key)}});return function(j,J){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,f.Z)(function*(j,J){return["keyChanged"]});return function(j,J){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,f.Z)(function*(){var w,j;if(g.activeServiceWorker=yield function Qt(){return oa.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new vr(g.activeServiceWorker);const J=yield g.sender._send("ping",{},800);!J||(null===(w=J[0])||void 0===w?void 0:w.fulfilled)&&(null===(j=J[0])||void 0===j?void 0:j.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,f.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function qt(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Au();return yield rs(g,we,"1"),yield ja(g,we),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,f.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var j=this;return(0,f.Z)(function*(){return j._withPendingWrite((0,f.Z)(function*(){return yield j._withRetries(J=>rs(J,g,w)),j.localCache[g]=w,j.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,f.Z)(function*(){const j=yield w._withRetries(J=>function Ba(_,c){return Go.apply(this,arguments)}(J,g));return w.localCache[g]=j,j})()}_remove(g){var w=this;return(0,f.Z)(function*(){return w._withPendingWrite((0,f.Z)(function*(){return yield w._withRetries(j=>ja(j,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,f.Z)(function*(){const w=yield g._withRetries(Pe=>{const ct=Va(Pe,!1).getAll();return new wa(ct).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const j=[],J=new Set;for(const{fbase_key:Pe,value:ct}of w)J.add(Pe),JSON.stringify(g.localCache[Pe])!==JSON.stringify(ct)&&(g.notifyListeners(Pe,ct),j.push(Pe));for(const Pe of Object.keys(g.localCache))g.localCache[Pe]&&!J.has(Pe)&&(g.notifyListeners(Pe,null),j.push(Pe));return j})()}notifyListeners(g,w){this.localCache[g]=w;const j=this.listeners[g];if(j)for(const J of Array.from(j))J(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function gn(_,c){return On(_,"POST","/v2/accounts/mfaSignIn:start",Ht(_,c))}function lu(){return(lu=(0,f.Z)(function*(_){return(yield On(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pt(_){return new Promise((c,g)=>{const w=document.createElement("script");w.setAttribute("src",_),w.onload=c,w.onerror=j=>{const J=He("internal-error");J.customData=j,g(J)},w.type="text/javascript",w.charset="UTF-8",function Yr(){var _,c;return null!==(c=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==c?c:document}().appendChild(w)})}function $a(_){return`__${_}${Math.floor(1e6*Math.random())}`}const so=1e12;class qo{constructor(c){this.auth=c,this.counter=so,this._widgets=new Map}render(c,g){const w=this.counter;return this._widgets.set(w,new kl(c,this.auth.name,g||{})),this.counter++,w}reset(c){var g;const w=c||so;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(c){var g;return(null===(g=this._widgets.get(c||so))||void 0===g?void 0:g.getResponse())||""}execute(c){var g=this;return(0,f.Z)(function*(){var w;return null===(w=g._widgets.get(c||so))||void 0===w||w.execute(),""})()}}class kl{constructor(c,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const j="string"==typeof c?document.getElementById(c):c;he(j,"argument-error",{appName:g}),this.container=j,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Wo(_){const c=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<_;w++)c.push(g.charAt(Math.floor(Math.random()*g.length)));return c.join("")}(50);const{callback:c,"expired-callback":g}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ko=$a("rcb"),Za=new Lt(3e4,6e4);class Uo{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=br().grecaptcha)||void 0===c||!c.render)}load(c,g=""){return he(function Ga(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),c,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(br().grecaptcha):new Promise((w,j)=>{const J=br().setTimeout(()=>{j(He(c,"network-request-failed"))},Za.get());br()[Ko]=()=>{br().clearTimeout(J),delete br()[Ko];const ct=br().grecaptcha;if(!ct)return void j(He(c,"internal-error"));const Bt=ct.render;ct.render=(hn,Vn)=>{const In=Bt(hn,Vn);return this.counter++,In},this.hostLanguage=g,w(ct)},Pt(`https://www.google.com/recaptcha/api.js??${(0,C.xO)({onload:Ko,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(J),j(He(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var g;return!(null===(g=br().grecaptcha)||void 0===g||!g.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class aa{load(c){return(0,f.Z)(function*(){return new qo(c)})()}clearedOneInstance(){}}const Ro="recaptcha",Ea={theme:"light",type:"image"};class et{constructor(c,g=Object.assign({},Ea),w){this.parameters=g,this.type=Ro,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=nr(w),this.isInvisible="invisible"===this.parameters.size,he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const j="string"==typeof c?document.getElementById(c):c;he(j,this.auth,"argument-error"),this.container=j,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new aa:new Uo,this.validateStartingState()}verify(){var c=this;return(0,f.Z)(function*(){c.assertNotDestroyed();const g=yield c.render(),w=c.getAssertedRecaptcha();return w.getResponse(g)||new Promise(J=>{const Pe=ct=>{!ct||(c.tokenChangeListeners.delete(Pe),J(ct))};c.tokenChangeListeners.add(Pe),c.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){he(!this.parameters.sitekey,this.auth,"argument-error"),he(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof c)c(g);else if("string"==typeof c){const w=br()[c];"function"==typeof w&&w(g)}}}assertNotDestroyed(){he(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,f.Z)(function*(){if(yield c.init(),!c.widgetId){let g=c.container;if(!c.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}c.widgetId=c.getAssertedRecaptcha().render(g,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,f.Z)(function*(){he(Ct()&&!$t(),c.auth,"internal-error"),yield function Ru(){let _=null;return new Promise(c=>{"complete"!==document.readyState?(_=()=>c(),window.addEventListener("load",_)):c()}).catch(c=>{throw _&&window.removeEventListener("load",_),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const g=yield function Zn(_){return lu.apply(this,arguments)}(c.auth);he(g,c.auth,"internal-error"),c.parameters.sitekey=g})()}getAssertedRecaptcha(){return he(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class oo{constructor(c,g){this.verificationId=c,this.onConfirmation=g}confirm(c){const g=ci._fromVerification(this.verificationId,c);return this.onConfirmation(g)}}function ua(){return(ua=(0,f.Z)(function*(_,c,g){const w=nr(_),j=yield qa(w,c,(0,C.m9)(g));return new oo(j,J=>Ir(w,J))})).apply(this,arguments)}function Ca(){return(Ca=(0,f.Z)(function*(_,c,g){const w=(0,C.m9)(_);yield xi(!1,w,"phone");const j=yield qa(w.auth,c,(0,C.m9)(g));return new oo(j,J=>Hr(w,J))})).apply(this,arguments)}function cu(){return(cu=(0,f.Z)(function*(_,c,g){const w=(0,C.m9)(_),j=yield qa(w.auth,c,(0,C.m9)(g));return new oo(j,J=>Xi(w,J))})).apply(this,arguments)}function qa(_,c,g){return el.apply(this,arguments)}function el(){return(el=(0,f.Z)(function*(_,c,g){var w;const j=yield g.verify();try{let J;if(he("string"==typeof j,_,"argument-error"),he(g.type===Ro,_,"argument-error"),J="string"==typeof c?{phoneNumber:c}:c,"session"in J){const Pe=J.session;if("phoneNumber"in J)return he("enroll"===Pe.type,_,"internal-error"),(yield au(_,{idToken:Pe.credential,phoneEnrollmentInfo:{phoneNumber:J.phoneNumber,recaptchaToken:j}})).phoneSessionInfo.sessionInfo;{he("signin"===Pe.type,_,"internal-error");const ct=(null===(w=J.multiFactorHint)||void 0===w?void 0:w.uid)||J.multiFactorUid;return he(ct,_,"missing-multi-factor-info"),(yield gn(_,{mfaPendingCredential:Pe.credential,mfaEnrollmentId:ct,phoneSignInInfo:{recaptchaToken:j}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Pe}=yield pt(_,{phoneNumber:J.phoneNumber,recaptchaToken:j});return Pe}}finally{g._reset()}})).apply(this,arguments)}function Fs(){return(Fs=(0,f.Z)(function*(_,c){yield Ps((0,C.m9)(_),c)})).apply(this,arguments)}let hu=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=nr(g)}verifyPhoneNumber(g,w){return qa(this.auth,g,(0,C.m9)(w))}static credential(g,w){return ci._fromVerification(g,w)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:j}=g;return w&&j?ci._fromTokenResponse(w,j):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Sr(_,c){return c?ae(c):(he(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Da extends Dr{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return rr(c,this._buildIdpRequest())}_linkToIdToken(c,g){return rr(c,this._buildIdpRequest(g))}_getReauthenticationResolver(c){return rr(c,this._buildIdpRequest())}_buildIdpRequest(c){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(g.idToken=c),g}}function wo(_){return yo(_.auth,new Da(_),_.bypassAuthState)}function Wa(_){const{auth:c,user:g}=_;return he(g,c,"internal-error"),qs(g,new Da(_),_.bypassAuthState)}function Ki(_){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,f.Z)(function*(_){const{auth:c,user:g}=_;return he(g,c,"internal-error"),Ps(g,new Da(_),_.bypassAuthState)})).apply(this,arguments)}class b{constructor(c,g,w,j,J=!1){this.auth=c,this.resolver=w,this.user=j,this.bypassAuthState=J,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var c=this;return new Promise(function(){var g=(0,f.Z)(function*(w,j){c.pendingPromise={resolve:w,reject:j};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(J){c.reject(J)}});return function(w,j){return g.apply(this,arguments)}}())}onAuthEvent(c){var g=this;return(0,f.Z)(function*(){const{urlResponse:w,sessionId:j,postBody:J,tenantId:Pe,error:ct,type:Bt}=c;if(ct)return void g.reject(ct);const hn={auth:g.auth,requestUri:w,sessionId:j,tenantId:Pe||void 0,postBody:J||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Bt)(hn))}catch(Vn){g.reject(Vn)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return wo;case"linkViaPopup":case"linkViaRedirect":return Ki;case"reauthViaPopup":case"reauthViaRedirect":return Wa;default:oe(this.auth,"internal-error")}}resolve(c){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const E=new Lt(2e3,1e4);function x(){return(x=(0,f.Z)(function*(_,c,g){const w=nr(_);at(_,c,gi);const j=Sr(w,g);return new vt(w,"signInViaPopup",c,j).executeNotNull()})).apply(this,arguments)}function z(){return(z=(0,f.Z)(function*(_,c,g){const w=(0,C.m9)(_);at(w.auth,c,gi);const j=Sr(w.auth,g);return new vt(w.auth,"reauthViaPopup",c,j,w).executeNotNull()})).apply(this,arguments)}function Re(){return(Re=(0,f.Z)(function*(_,c,g){const w=(0,C.m9)(_);at(w.auth,c,gi);const j=Sr(w.auth,g);return new vt(w.auth,"linkViaPopup",c,j,w).executeNotNull()})).apply(this,arguments)}let vt=(()=>{class _ extends b{constructor(g,w,j,J,Pe){super(g,w,J,Pe),this.provider=j,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,f.Z)(function*(){const w=yield g.execute();return he(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,f.Z)(function*(){Y(1===g.filter.length,"Popup operations only handle one event");const w=It();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(j=>{g.reject(j)}),g.resolver._isIframeWebStorageSupported(g.auth,j=>{j||g.reject(He(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(He(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,j;this.pollId=null!==(j=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==j&&j.closed?window.setTimeout(()=>{this.pollId=null,this.reject(He(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,E.get())};g()}}return _.currentPopupAction=null,_})();const Xt=new Map;class Xn extends b{constructor(c,g,w=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var c=()=>super.execute,g=this;return(0,f.Z)(function*(){let w=Xt.get(g.auth._key());if(!w){try{const J=(yield function ti(_,c){return oi.apply(this,arguments)}(g.resolver,g.auth))?yield c().call(g):null;w=()=>Promise.resolve(J)}catch(j){w=()=>Promise.reject(j)}Xt.set(g.auth._key(),w)}return g.bypassAuthState||Xt.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(c){var g=()=>super.onAuthEvent,w=this;return(0,f.Z)(function*(){if("signInViaRedirect"===c.type)return g().call(w,c);if("unknown"!==c.type){if(c.eventId){const j=yield w.auth._redirectUserForId(c.eventId);if(j)return w.user=j,g().call(w,c);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function oi(){return(oi=(0,f.Z)(function*(_,c){const g=Eo(c),w=Vo(_);if(!(yield w._isAvailable()))return!1;const j="true"===(yield w._get(g));return yield w._remove(g),j})).apply(this,arguments)}function As(_,c){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,f.Z)(function*(_,c){return Vo(_)._set(Eo(c),"true")})).apply(this,arguments)}function Yo(_,c){Xt.set(_._key(),c)}function Vo(_){return ae(_._redirectPersistence)}function Eo(_){return Se("pendingRedirect",_.config.apiKey,_.name)}function N(){return(N=(0,f.Z)(function*(_,c,g){const w=nr(_);at(_,c,gi);const j=Sr(w,g);return yield As(j,w),j._openRedirect(w,c,"signInViaRedirect")})).apply(this,arguments)}function ge(){return(ge=(0,f.Z)(function*(_,c,g){const w=(0,C.m9)(_);at(w.auth,c,gi);const j=Sr(w.auth,g);yield As(j,w.auth);const J=yield $n(w);return j._openRedirect(w.auth,c,"reauthViaRedirect",J)})).apply(this,arguments)}function Dt(){return(Dt=(0,f.Z)(function*(_,c,g){const w=(0,C.m9)(_);at(w.auth,c,gi);const j=Sr(w.auth,g);yield xi(!1,w,c.providerId),yield As(j,w.auth);const J=yield $n(w);return j._openRedirect(w.auth,c,"linkViaRedirect",J)})).apply(this,arguments)}function _n(){return(_n=(0,f.Z)(function*(_,c){return yield nr(_)._initializationPromise,an(_,c,!1)})).apply(this,arguments)}function an(_,c){return tr.apply(this,arguments)}function tr(){return(tr=(0,f.Z)(function*(_,c,g=!1){const w=nr(_),j=Sr(w,c),Pe=yield new Xn(w,j,g).execute();return Pe&&!g&&(delete Pe.user._redirectEventId,yield w._persistUserIfCurrent(Pe.user),yield w._setRedirectUser(null,c)),Pe})).apply(this,arguments)}function $n(_){return uo.apply(this,arguments)}function uo(){return(uo=(0,f.Z)(function*(_){const c=It(`${_.uid}:::`);return _._redirectEventId=c,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),c})).apply(this,arguments)}class Nr{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(c,w)&&(g=!0,this.sendToConsumer(c,w),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function Oo(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Aa(_);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=c,g=!0)),g}sendToConsumer(c,g){var w;if(c.error&&!Aa(c)){const j=(null===(w=c.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(He(this.auth,j))}else g.onAuthEvent(c)}isEventForConsumer(c,g){const w=null===g.eventId||!!c.eventId&&c.eventId===g.eventId;return g.filter.includes(c.type)&&w}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sa(c))}saveEventToCache(c){this.cachedEventUids.add(Sa(c)),this.lastProcessedEventTime=Date.now()}}function Sa(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(c=>c).join("-")}function Aa({type:_,error:c}){return"unknown"===_&&"auth/no-auth-event"===c?.code}function Qo(_){return xa.apply(this,arguments)}function xa(){return(xa=(0,f.Z)(function*(_,c={}){return On(_,"GET","/v1/projects",c)})).apply(this,arguments)}const td=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Eh=/^https?/;function Ih(){return(Ih=(0,f.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:c}=yield Qo(_);for(const g of c)try{if(Ch(g))return}catch{}oe(_,"unauthorized-domain")})).apply(this,arguments)}function Ch(_){const c=mt(),{protocol:g,hostname:w}=new URL(c);if(_.startsWith("chrome-extension://")){const Pe=new URL(_);return""===Pe.hostname&&""===w?"chrome-extension:"===g&&_.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===g&&Pe.hostname===w}if(!Eh.test(g))return!1;if(td.test(_))return w===_;const j=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+j+"|"+j+")$","i").test(w)}const Lg=new Lt(3e4,6e4);function rd(){const _=br().___jsl;if(_?.H)for(const c of Object.keys(_.H))if(_.H[c].r=_.H[c].r||[],_.H[c].L=_.H[c].L||[],_.H[c].r=[..._.H[c].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Nu=null;function Ug(_){return Nu=Nu||function sp(_){return new Promise((c,g)=>{var w,j,J;function Pe(){rd(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{rd(),g(He(_,"network-request-failed"))},timeout:Lg.get()})}if(null!==(j=null===(w=br().gapi)||void 0===w?void 0:w.iframes)&&void 0!==j&&j.Iframe)c(gapi.iframes.getContext());else{if(null===(J=br().gapi)||void 0===J||!J.load){const ct=$a("iframefcb");return br()[ct]=()=>{gapi.load?Pe():g(He(_,"network-request-failed"))},Pt(`https://apis.google.com/js/api.js?onload=${ct}`).catch(Bt=>g(Bt))}Pe()}}).catch(c=>{throw Nu=null,c})}(_),Nu}const Vg=new Lt(5e3,15e3),is={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},id=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lo(_){const c=_.config;he(c.authDomain,_,"auth-domain-config-required");const g=c.emulator?Et(c,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,w={apiKey:c.apiKey,appName:_.name,v:pe.SDK_VERSION},j=id.get(_.config.apiHost);j&&(w.eid=j);const J=_._getFrameworks();return J.length&&(w.fw=J.join(",")),`${g}?${(0,C.xO)(w).slice(1)}`}function ac(){return ac=(0,f.Z)(function*(_){const c=yield Ug(_),g=br().gapi;return he(g,_,"internal-error"),c.open({where:document.body,url:lo(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:is,dontclear:!0},w=>new Promise(function(){var j=(0,f.Z)(function*(J,Pe){yield w.restyle({setHideOnLeave:!1});const ct=He(_,"network-request-failed"),Bt=br().setTimeout(()=>{Pe(ct)},Vg.get());function hn(){br().clearTimeout(Bt),J(w)}w.ping(hn).then(hn,()=>{Pe(ct)})});return function(J,Pe){return j.apply(this,arguments)}}()))}),ac.apply(this,arguments)}const Pu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class la{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pu(_,c,g,w,j,J){he(_.config.authDomain,_,"auth-domain-config-required"),he(_.config.apiKey,_,"invalid-api-key");const Pe={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:w,v:pe.SDK_VERSION,eventId:j};if(c instanceof gi){c.setDefaultLanguage(_.languageCode),Pe.providerId=c.providerId||"",(0,C.xb)(c.getCustomParameters())||(Pe.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Bt,hn]of Object.entries(J||{}))Pe[Bt]=hn}if(c instanceof us){const Bt=c.getScopes().filter(hn=>""!==hn);Bt.length>0&&(Pe.scopes=Bt.join(","))}_.tenantId&&(Pe.tid=_.tenantId);const ct=Pe;for(const Bt of Object.keys(ct))void 0===ct[Bt]&&delete ct[Bt];return`${function Dh({config:_}){return _.emulator?Et(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,C.xO)(ct).slice(1)}`}const uc="webStorageSupport",lc=class Ka{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cr,this._completeRedirectFn=an,this._overrideRedirectResult=Yo}_openPopup(c,g,w,j){var J=this;return(0,f.Z)(function*(){var Pe;Y(null===(Pe=J.eventManagers[c._key()])||void 0===Pe?void 0:Pe.manager,"_initialize() not called before _openPopup()");const ct=pu(c,g,w,mt(),j);return function od(_,c,g,w=500,j=600){const J=Math.max((window.screen.availHeight-j)/2,0).toString(),Pe=Math.max((window.screen.availWidth-w)/2,0).toString();let ct="";const Bt=Object.assign(Object.assign({},Pu),{width:w.toString(),height:j.toString(),top:J,left:Pe}),hn=(0,C.z$)().toLowerCase();g&&(ct=Ln(hn)?"_blank":g),Rt(hn)&&(c=c||"http://localhost",Bt.scrollbars="yes");const Vn=Object.entries(Bt).reduce((gs,[ga,Zl])=>`${gs}${ga}=${Zl},`,"");if(function ht(_=(0,C.z$)()){var c;return de(_)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(hn)&&"_self"!==ct)return function ku(_,c){const g=document.createElement("a");g.href=_,g.target=c;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(c||"",ct),new la(null);const In=window.open(c||"",ct,Vn);he(In,_,"popup-blocked");try{In.focus()}catch{}return new la(In)}(c,ct,It())})()}_openRedirect(c,g,w,j){var J=this;return(0,f.Z)(function*(){return yield J._originValidation(c),function ps(_){br().location.href=_}(pu(c,g,w,mt(),j)),new Promise(()=>{})})()}_initialize(c){const g=c._key();if(this.eventManagers[g]){const{manager:j,promise:J}=this.eventManagers[g];return j?Promise.resolve(j):(Y(J,"If manager is not set, promise should be"),J)}const w=this.initAndGetManager(c);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(c){var g=this;return(0,f.Z)(function*(){const w=yield function vi(_){return ac.apply(this,arguments)}(c),j=new Nr(c);return w.register("authEvent",J=>(he(J?.authEvent,c,"invalid-auth-event"),{status:j.onEvent(J.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[c._key()]={manager:j},g.iframes[c._key()]=w,j})()}_isIframeWebStorageSupported(c,g){this.iframes[c._key()].send(uc,{type:uc},j=>{var J;const Pe=null===(J=j?.[0])||void 0===J?void 0:J[uc];void 0!==Pe&&g(!!Pe),oe(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const g=c._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function nd(_){return Ih.apply(this,arguments)}(c)),this.originValidationPromises[g]}get _shouldInitProactively(){return sn()||yn()||de()}};class tl{constructor(c){this.factorId=c}_process(c,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(c,g.credential,w);case"signin":return this._finalizeSignIn(c,g.credential);default:return Oe("unexpected MultiFactorSessionType")}}}class cc extends tl{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new cc(c)}_finalizeEnroll(c,g,w){return function sa(_,c){return On(_,"POST","/v2/accounts/mfaEnrollment:finalize",Ht(_,c))}(c,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,g){return function Lo(_,c){return On(_,"POST","/v2/accounts/mfaSignIn:finalize",Ht(_,c))}(c,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let co=(()=>{class _{constructor(){}static assertion(g){return cc._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var Fu="@firebase/auth";class Ya{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var g=this;return(0,f.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const g=this.auth.onIdTokenChanged(w=>{c(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,g),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const g=this.internalListeners.get(c);!g||(this.internalListeners.delete(c),g(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Qa(){return window}function hc(){return(hc=(0,f.Z)(function*(_,c,g){var w;const{BuildInfo:j}=Qa();Y(c.sessionId,"AuthEvent did not contain a session ID");const J=yield sl(c.sessionId),Pe={};return de()?Pe.ibi=j.packageName:ln()?Pe.apn=j.packageName:oe(_,"operation-not-supported-in-this-environment"),j.displayName&&(Pe.appDisplayName=j.displayName),Pe.sessionId=J,pu(_,g,c.type,void 0,null!==(w=c.eventId)&&void 0!==w?w:void 0,Pe)})).apply(this,arguments)}function rl(){return(rl=(0,f.Z)(function*(_){const{BuildInfo:c}=Qa(),g={};de()?g.iosBundleId=c.packageName:ln()?g.androidPackageName=c.packageName:oe(_,"operation-not-supported-in-this-environment"),yield Qo(_,g)})).apply(this,arguments)}function Uu(){return(Uu=(0,f.Z)(function*(_,c,g){const{cordova:w}=Qa();let j=()=>{};try{yield new Promise((J,Pe)=>{let ct=null;function Bt(){var In;J();const gs=null===(In=w.plugins.browsertab)||void 0===In?void 0:In.close;"function"==typeof gs&&gs(),"function"==typeof g?.close&&g.close()}function hn(){ct||(ct=window.setTimeout(()=>{Pe(He(_,"redirect-cancelled-by-user"))},2e3))}function Vn(){"visible"===document?.visibilityState&&hn()}c.addPassiveListener(Bt),document.addEventListener("resume",hn,!1),ln()&&document.addEventListener("visibilitychange",Vn,!1),j=()=>{c.removePassiveListener(Bt),document.removeEventListener("resume",hn,!1),document.removeEventListener("visibilitychange",Vn,!1),ct&&window.clearTimeout(ct)}})}finally{j()}})).apply(this,arguments)}function sl(_){return ca.apply(this,arguments)}function ca(){return(ca=(0,f.Z)(function*(_){const c=fc(_),g=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(g)).map(j=>j.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function fc(_){if(Y(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const c=new ArrayBuffer(_.length),g=new Uint8Array(c);for(let w=0;w<_.length;w++)g[w]=_.charCodeAt(w);return g}(0,C.Pz)("authIdTokenMaxAge"),function Lu(_){(0,pe._registerComponent)(new Ie.wA("auth",(c,{options:g})=>{const w=c.getProvider("app").getImmediate(),j=c.getProvider("heartbeat"),{apiKey:J,authDomain:Pe}=w.options;return((ct,Bt)=>{he(J&&!J.includes(":"),"invalid-api-key",{appName:ct.name}),he(!Pe?.includes(":"),"argument-error",{appName:ct.name});const hn={apiKey:J,authDomain:Pe,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yn(_)},Vn=new Li(ct,Bt,hn);return function ft(_,c){const g=c?.persistence||[],w=(Array.isArray(g)?g:[g]).map(ae);c?.errorMap&&_._updateErrorMap(c.errorMap),_._initializeWithPersistence(w,c?.popupRedirectResolver)}(Vn,g),Vn})(w,j)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,g,w)=>{c.getProvider("auth-internal").initialize()})),(0,pe._registerComponent)(new Ie.wA("auth-internal",c=>{const g=nr(c.getProvider("auth").getImmediate());return new Ya(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,pe.registerVersion)(Fu,"0.21.0",function ni(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,pe.registerVersion)(Fu,"0.21.0","esm2017")}("Browser");class Vu extends Nr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(c)),super.onEvent(c)}initialized(){var c=this;return(0,f.Z)(function*(){yield c.initPromise})()}}function ld(_){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,f.Z)(function*(_){const c=yield Ti()._get(ol(_));return c&&(yield Ti()._remove(ol(_))),c})).apply(this,arguments)}function up(){const _=[],c="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const w=Math.floor(Math.random()*c.length);_.push(c.charAt(w))}return _.join("")}function Ti(){return ae(Rn)}function ol(_){return Se("authEvent",_.config.apiKey,_.name)}function Bl(_){if(!_?.includes("?"))return{};const[c,...g]=_.split("?");return(0,C.zd)(g.join("?"))}const gc=class Oh{constructor(){this._redirectPersistence=Cr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=an,this._overrideRedirectResult=Yo}_initialize(c){var g=this;return(0,f.Z)(function*(){const w=c._key();let j=g.eventManagers.get(w);return j||(j=new Vu(c),g.eventManagers.set(w,j),g.attachCallbackListeners(c,j)),j})()}_openPopup(c){oe(c,"operation-not-supported-in-this-environment")}_openRedirect(c,g,w,j){var J=this;return(0,f.Z)(function*(){!function Mh(_){var c,g,w,j,J,Pe,ct,Bt,hn,Vn;const In=Qa();he("function"==typeof(null===(c=In?.universalLinks)||void 0===c?void 0:c.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),he(typeof(null===(g=In?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),he("function"==typeof(null===(J=null===(j=null===(w=In?.cordova)||void 0===w?void 0:w.plugins)||void 0===j?void 0:j.browsertab)||void 0===J?void 0:J.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),he("function"==typeof(null===(Bt=null===(ct=null===(Pe=In?.cordova)||void 0===Pe?void 0:Pe.plugins)||void 0===ct?void 0:ct.browsertab)||void 0===Bt?void 0:Bt.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),he("function"==typeof(null===(Vn=null===(hn=In?.cordova)||void 0===hn?void 0:hn.InAppBrowser)||void 0===Vn?void 0:Vn.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const Pe=yield J._initialize(c);yield Pe.initialized(),Pe.resetRedirect(),function ao(){Xt.clear()}(),yield J._originValidation(c);const ct=function mu(_,c,g=null){return{type:c,eventId:g,urlResponse:null,sessionId:up(),postBody:null,tenantId:_.tenantId,error:He(_,"no-auth-event")}}(c,w,j);yield function ud(_,c){return Ti()._set(ol(_),c)}(c,ct);const Bt=yield function Ah(_,c,g){return hc.apply(this,arguments)}(c,ct,g),hn=yield function il(_){const{cordova:c}=Qa();return new Promise(g=>{c.plugins.browsertab.isAvailable(w=>{let j=null;w?c.plugins.browsertab.openUrl(_):j=c.InAppBrowser.open(_,function Je(_=(0,C.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(j)})})}(Bt);return function op(_,c,g){return Uu.apply(this,arguments)}(c,Pe,hn)})()}_isIframeWebStorageSupported(c,g){throw new Error("Method not implemented.")}_originValidation(c){const g=c._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function xh(_){return rl.apply(this,arguments)}(c)),this.originValidationPromises[g]}attachCallbackListeners(c,g){const{universalLinks:w,handleOpenURL:j,BuildInfo:J}=Qa(),Pe=setTimeout((0,f.Z)(function*(){yield ld(c),g.onEvent(ju())}),500),ct=function(){var Vn=(0,f.Z)(function*(In){clearTimeout(Pe);const gs=yield ld(c);let ga=null;gs&&In?.url&&(ga=function ap(_,c){var g,w;const j=function Rh(_){const c=Bl(_),g=c.link?decodeURIComponent(c.link):void 0,w=Bl(g).link,j=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return Bl(j).link||j||w||g||_}(c);if(j.includes("/__/auth/callback")){const J=Bl(j),Pe=J.firebaseError?function pc(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(J.firebaseError)):null,ct=null===(w=null===(g=Pe?.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],Bt=ct?He(ct):null;return Bt?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Bt,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:j,postBody:null}}return null}(gs,In.url)),g.onEvent(ga||ju())});return function(gs){return Vn.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,ct);const Bt=j,hn=`${J.packageName.toLowerCase()}://`;Qa().handleOpenURL=function(){var Vn=(0,f.Z)(function*(In){if(In.toLowerCase().startsWith(hn)&&ct({url:In}),"function"==typeof Bt)try{Bt(In)}catch(gs){console.error(gs)}});return function(In){return Vn.apply(this,arguments)}}()}};function ju(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:He("no-auth-event")}}function da(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function Nh(_=(0,C.z$)()){return!("file:"!==da()&&"ionic:"!==da()&&"capacitor:"!==da()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ma(){try{const _=self.localStorage,c=It();if(_)return _.setItem(c,"1"),_.removeItem(c),!function hd(_=(0,C.z$)()){return function Ar(){return(0,C.w1)()&&11===document?.documentMode}()||function Ph(_=(0,C.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,C.hl)()}catch{return yc()&&(0,C.hl)()}return!1}function yc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Vs(){return(function mc(){return"http:"===da()||"https:"===da()}()||(0,C.ru)()||Nh())&&!function xs(){return(0,C.b$)()||(0,C.UG)()}()&&Ma()&&!yc()}function _c(){return Nh()&&typeof document<"u"}function $u(){return($u=(0,f.Z)(function*(){return!!_c()&&new Promise(_=>{const c=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),_(!0)})})})).apply(this,arguments)}const ho={LOCAL:"local",NONE:"none",SESSION:"session"},fa=he,vc="persistence";function sr(_){return bc.apply(this,arguments)}function bc(){return(bc=(0,f.Z)(function*(_){yield _._initializationPromise;const c=al(),g=Se(vc,_.config.apiKey,_.name);c&&c.setItem(g,_._getPersistence())})).apply(this,arguments)}function al(){var _;try{return(null===(_=function ha(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const $l=he;class Jo{constructor(){this.browserResolver=ae(lc),this.cordovaResolver=ae(gc),this.underlyingResolver=null,this._redirectPersistence=Cr,this._completeRedirectFn=an,this._overrideRedirectResult=Yo}_initialize(c){var g=this;return(0,f.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,g,w,j){var J=this;return(0,f.Z)(function*(){return yield J.selectUnderlyingResolver(),J.assertedUnderlyingResolver._openPopup(c,g,w,j)})()}_openRedirect(c,g,w,j){var J=this;return(0,f.Z)(function*(){return yield J.selectUnderlyingResolver(),J.assertedUnderlyingResolver._openRedirect(c,g,w,j)})()}_isIframeWebStorageSupported(c,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,g)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return _c()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $l(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,f.Z)(function*(){if(c.underlyingResolver)return;const g=yield function _u(){return $u.apply(this,arguments)}();c.underlyingResolver=g?c.cordovaResolver:c.browserResolver})()}}function Ec(_){return _.unwrap()}function Ic(_){return fd(_)}function fd(_){const{_tokenResponse:c}=_ instanceof C.ZR?_.customData:_;if(!c)return null;if(!(_ instanceof C.ZR)&&"temporaryProof"in c&&"phoneNumber"in c)return hu.credentialFromResult(_);const g=c.providerId;if(!g||"password"===g)return null;let w;switch(g){case"google.com":w=Ns;break;case"facebook.com":w=Os;break;case"github.com":w=Es;break;case"twitter.com":w=Zs;break;default:const{oauthIdToken:j,oauthAccessToken:J,oauthTokenSecret:Pe,pendingToken:ct,nonce:Bt}=c;return J||Pe||j||ct?ct?g.startsWith("saml.")?Ui._create(g,ct):$e._fromParams({providerId:g,signInMethod:g,pendingToken:ct,idToken:j,accessToken:J}):new $s(g).credential({idToken:j,accessToken:J,rawNonce:Bt}):null}return _ instanceof C.ZR?w.credentialFromError(_):w.credentialFromResult(_)}function Co(_,c){return c.catch(g=>{throw g instanceof C.ZR&&function Hu(_,c){var g;const w=null===(g=c.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===c?.code)c.resolver=new gd(_,function ki(_,c){var g;const w=(0,C.m9)(_),j=c;return he(c.customData.operationType,w,"argument-error"),he(null===(g=j.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),ns._fromError(w,j)}(_,c));else if(w){const j=fd(c),J=c;j&&(J.credential=j,J.tenantId=w.tenantId||void 0,J.email=w.email||void 0,J.phoneNumber=w.phoneNumber||void 0)}}(_,g),g}).then(g=>{const j=g.user;return{operationType:g.operationType,credential:Ic(g),additionalUserInfo:$o(g),user:eu.getOrCreate(j)}})}function kh(_,c){return pd.apply(this,arguments)}function pd(){return(pd=(0,f.Z)(function*(_,c){const g=yield c;return{verificationId:g.verificationId,confirm:w=>Co(_,g.confirm(w))}})).apply(this,arguments)}class gd{constructor(c,g){this.resolver=g,this.auth=function Hl(_){return _.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return Co(Ec(this.auth),this.resolver.resolveSignIn(c))}}class eu{constructor(c){this._delegate=c,this.multiFactor=function W(_){const c=(0,C.m9)(_);return R.has(c)||R.set(c,$._fromUser(c)),R.get(c)}(c)}static getOrCreate(c){return eu.USER_MAP.has(c)||eu.USER_MAP.set(c,new eu(c)),eu.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var g=this;return(0,f.Z)(function*(){return Co(g.auth,Hr(g._delegate,c))})()}linkWithPhoneNumber(c,g){var w=this;return(0,f.Z)(function*(){return kh(w.auth,function Ia(_,c,g){return Ca.apply(this,arguments)}(w._delegate,c,g))})()}linkWithPopup(c){var g=this;return(0,f.Z)(function*(){return Co(g.auth,function X(_,c,g){return Re.apply(this,arguments)}(g._delegate,c,Jo))})()}linkWithRedirect(c){var g=this;return(0,f.Z)(function*(){return yield sr(nr(g.auth)),function Ue(_,c,g){return function tt(_,c,g){return Dt.apply(this,arguments)}(_,c,g)}(g._delegate,c,Jo)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var g=this;return(0,f.Z)(function*(){return Co(g.auth,Xi(g._delegate,c))})()}reauthenticateWithPhoneNumber(c,g){return kh(this.auth,function za(_,c,g){return cu.apply(this,arguments)}(this._delegate,c,g))}reauthenticateWithPopup(c){return Co(this.auth,function k(_,c,g){return z.apply(this,arguments)}(this._delegate,c,Jo))}reauthenticateWithRedirect(c){var g=this;return(0,f.Z)(function*(){return yield sr(nr(g.auth)),function F(_,c,g){return function q(_,c,g){return ge.apply(this,arguments)}(_,c,g)}(g._delegate,c,Jo)})()}sendEmailVerification(c){return function di(_,c){return Rr.apply(this,arguments)}(this._delegate,c)}unlink(c){var g=this;return(0,f.Z)(function*(){return yield function cr(_,c){return Ni.apply(this,arguments)}(g._delegate,c),g})()}updateEmail(c){return function Bo(_,c){return Ts((0,C.m9)(_),c,null)}(this._delegate,c)}updatePassword(c){return function Ds(_,c){return Ts((0,C.m9)(_),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function du(_,c){return Fs.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function Pi(_,c){return Kr.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,g){return function Mi(_,c,g){return Jn.apply(this,arguments)}(this._delegate,c,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}eu.USER_MAP=new WeakMap;const pa=he;let ul=(()=>{class _{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:j}=g.options;pa(j,"invalid-api-key",{appName:g.name}),pa(j,"invalid-api-key",{appName:g.name});const J=typeof window<"u"?Jo:void 0;this._delegate=w.initialize({options:{persistence:Yi(j,g.name),popupRedirectResolver:J}}),this._delegate._updateErrorMap(Ke),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?eu.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function ji(_,c,g){const w=nr(_);he(w._canInitEmulator,w,"emulator-config-failed"),he(/^https?:\/\//.test(c),w,"invalid-emulator-scheme");const j=!!g?.disableWarnings,J=Si(c),{host:Pe,port:ct}=function os(_){const c=Si(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(c.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",j=/^(\[[^\]]+\])(:|$)/.exec(w);if(j){const J=j[1];return{host:J,port:Qn(w.substr(J.length+1))}}{const[J,Pe]=w.split(":");return{host:J,port:Qn(Pe)}}}(c);w.config.emulator={url:`${J}//${Pe}${null===ct?"":`:${ct}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Pe,port:ct,protocol:J.replace(":",""),options:Object.freeze({disableWarnings:j})}),j||function Mr(){function _(){const c=document.createElement("p"),g=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,w)}applyActionCode(g){return function xo(_,c){return vo.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return no(this._delegate,g)}confirmPasswordReset(g,w){return function hs(_,c,g){return wn.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var j=this;return(0,f.Z)(function*(){return Co(j._delegate,function ue(_,c,g){return Ae.apply(this,arguments)}(j._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function lr(_,c){return hr.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Z(_,c){return"EMAIL_SIGNIN"===ws.parseLink(c)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,f.Z)(function*(){pa(Vs(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function dn(_,c){return _n.apply(this,arguments)}(g._delegate,Jo);return w?Co(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Xa(_,c){nr(_)._logFramework(c)}(this._delegate,g)}onAuthStateChanged(g,w,j){const{next:J,error:Pe,complete:ct}=Cc(g,w,j);return this._delegate.onAuthStateChanged(J,Pe,ct)}onIdTokenChanged(g,w,j){const{next:J,error:Pe,complete:ct}=Cc(g,w,j);return this._delegate.onIdTokenChanged(J,Pe,ct)}sendSignInLinkToEmail(g,w){return function S(_,c,g){return A.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function ts(_,c,g){return qi.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,f.Z)(function*(){let j;switch(function jl(_,c){fa(Object.values(ho).includes(c),_,"invalid-persistence-type"),(0,C.b$)()?fa(c!==ho.SESSION,_,"unsupported-persistence-type"):(0,C.UG)()?fa(c===ho.NONE,_,"unsupported-persistence-type"):yc()?fa(c===ho.NONE||c===ho.LOCAL&&(0,C.hl)(),_,"unsupported-persistence-type"):fa(c===ho.NONE||Ma(),_,"unsupported-persistence-type")}(w._delegate,g),g){case ho.SESSION:j=Cr;break;case ho.LOCAL:j=(yield ae(Wn)._isAvailable())?Wn:Rn;break;case ho.NONE:j=fe;break;default:return oe("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(j)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Co(this._delegate,function ls(_){return cs.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Co(this._delegate,Ir(this._delegate,g))}signInWithCustomToken(g){return Co(this._delegate,function Is(_,c){return yi.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return Co(this._delegate,function I(_,c,g){return Ir((0,C.m9)(_),js.credential(c,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return Co(this._delegate,function Ce(_,c,g){return gt.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return kh(this._delegate,function Gr(_,c,g){return ua.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,f.Z)(function*(){return pa(Vs(),w._delegate,"operation-not-supported-in-this-environment"),Co(w._delegate,function y(_,c,g){return x.apply(this,arguments)}(w._delegate,g,Jo))})()}signInWithRedirect(g){var w=this;return(0,f.Z)(function*(){return pa(Vs(),w._delegate,"operation-not-supported-in-this-environment"),yield sr(w._delegate),function Ou(_,c,g){return function Ta(_,c,g){return N.apply(this,arguments)}(_,c,g)}(w._delegate,g,Jo)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function L(_,c){return ee.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=ho,_})();function Cc(_,c,g){let w=_;"function"!=typeof _&&({next:w,error:c,complete:g}=_);const j=w;return{next:Pe=>j(Pe&&eu.getOrCreate(Pe)),error:c,complete:g}}function Yi(_,c){const g=function wc(_,c){const g=al();if(!g)return[];const w=Se(vc,_,c);switch(g.getItem(w)){case ho.NONE:return[fe];case ho.LOCAL:return[Wn,Cr];case ho.SESSION:return[Cr];default:return[]}}(_,c);if(typeof self<"u"&&!g.includes(Wn)&&g.push(Wn),typeof window<"u")for(const w of[Rn,Cr])g.includes(w)||g.push(w);return g.includes(fe)||g.push(fe),g}class ll{constructor(){this.providerId="phone",this._delegate=new hu(Ec(h.Z.auth()))}static credential(c,g){return hu.credential(c,g)}verifyPhoneNumber(c,g){return this._delegate.verifyPhoneNumber(c,g)}unwrap(){return this._delegate}}ll.PHONE_SIGN_IN_METHOD=hu.PHONE_SIGN_IN_METHOD,ll.PROVIDER_ID=hu.PROVIDER_ID;const md=he;class cl{constructor(c,g,w=h.Z.app()){var j;md(null===(j=w.options)||void 0===j?void 0:j.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new et(c,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function yd(_){_.INTERNAL.registerComponent(new Ie.wA("auth-compat",c=>{const g=c.getProvider("app-compat").getImmediate(),w=c.getProvider("auth");return new ul(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:js,FacebookAuthProvider:Os,GithubAuthProvider:Es,GoogleAuthProvider:Ns,OAuthProvider:$s,SAMLAuthProvider:Gi,PhoneAuthProvider:ll,PhoneMultiFactorGenerator:co,RecaptchaVerifier:cl,TwitterAuthProvider:Zs,Auth:ul,AuthCredential:Dr,Error:C.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.3.0")}(h.Z)},8766:(kt,Ze,P)=>{P.d(Ze,{Lj:()=>oe,X3:()=>Xe});var f=P(5861);let C,pe;const Ie=new WeakMap,ye=new WeakMap,le=new WeakMap,re=new WeakMap,te=new WeakMap;let ze={get(he,Oe,Y){if(he instanceof IDBTransaction){if("done"===Oe)return ye.get(he);if("objectStoreNames"===Oe)return he.objectStoreNames||le.get(he);if("store"===Oe)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return xe(he[Oe])},set:(he,Oe,Y)=>(he[Oe]=Y,!0),has:(he,Oe)=>he instanceof IDBTransaction&&("done"===Oe||"store"===Oe)||Oe in he};function Ne(he){return"function"==typeof he?function lt(he){return he!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _e(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(he)?function(...Oe){return he.apply(Ve(this),Oe),xe(Ie.get(this))}:function(...Oe){return xe(he.apply(Ve(this),Oe))}:function(Oe,...Y){const se=he.call(Ve(this),Oe,...Y);return le.set(se,Oe.sort?Oe.sort():[Oe]),xe(se)}}(he):(he instanceof IDBTransaction&&function nt(he){if(ye.has(he))return;const Oe=new Promise((Y,se)=>{const ae=()=>{he.removeEventListener("complete",De),he.removeEventListener("error",ft),he.removeEventListener("abort",ft)},De=()=>{Y(),ae()},ft=()=>{se(he.error||new DOMException("AbortError","AbortError")),ae()};he.addEventListener("complete",De),he.addEventListener("error",ft),he.addEventListener("abort",ft)});ye.set(he,Oe)}(he),((he,Oe)=>Oe.some(Y=>he instanceof Y))(he,function V(){return C||(C=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(he,ze):he)}function xe(he){if(he instanceof IDBRequest)return function me(he){const Oe=new Promise((Y,se)=>{const ae=()=>{he.removeEventListener("success",De),he.removeEventListener("error",ft)},De=()=>{Y(xe(he.result)),ae()},ft=()=>{se(he.error),ae()};he.addEventListener("success",De),he.addEventListener("error",ft)});return Oe.then(Y=>{Y instanceof IDBCursor&&Ie.set(Y,he)}).catch(()=>{}),te.set(Oe,he),Oe}(he);if(re.has(he))return re.get(he);const Oe=Ne(he);return Oe!==he&&(re.set(he,Oe),te.set(Oe,he)),Oe}const Ve=he=>te.get(he);function Xe(he,Oe,{blocked:Y,upgrade:se,blocking:ae,terminated:De}={}){const ft=indexedDB.open(he,Oe),mt=xe(ft);return se&&ft.addEventListener("upgradeneeded",Ct=>{se(xe(ft.result),Ct.oldVersion,Ct.newVersion,xe(ft.transaction))}),Y&&ft.addEventListener("blocked",()=>Y()),mt.then(Ct=>{De&&Ct.addEventListener("close",()=>De()),ae&&Ct.addEventListener("versionchange",()=>ae())}).catch(()=>{}),mt}function oe(he,{blocked:Oe}={}){const Y=indexedDB.deleteDatabase(he);return Oe&&Y.addEventListener("blocked",()=>Oe()),xe(Y).then(()=>{})}const He=["get","getKey","getAll","getAllKeys","count"],Be=["put","add","delete","clear"],at=new Map;function Qe(he,Oe){if(!(he instanceof IDBDatabase)||Oe in he||"string"!=typeof Oe)return;if(at.get(Oe))return at.get(Oe);const Y=Oe.replace(/FromIndex$/,""),se=Oe!==Y,ae=Be.includes(Y);if(!(Y in(se?IDBIndex:IDBObjectStore).prototype)||!ae&&!He.includes(Y))return;const De=function(){var ft=(0,f.Z)(function*(mt,...Ct){const Ot=this.transaction(mt,ae?"readwrite":"readonly");let Yt=Ot.store;return se&&(Yt=Yt.index(Ct.shift())),(yield Promise.all([Yt[Y](...Ct),ae&&Ot.done]))[0]});return function(Ct){return ft.apply(this,arguments)}}();return at.set(Oe,De),De}!function Ke(he){ze=he(ze)}(he=>({...he,get:(Oe,Y,se)=>Qe(Oe,Y)||he.get(Oe,Y,se),has:(Oe,Y)=>!!Qe(Oe,Y)||he.has(Oe,Y)}))},5861:(kt,Ze,P)=>{function f(C,pe,V,_e,Ie,ye,le){try{var re=C[ye](le),te=re.value}catch(me){return void V(me)}re.done?pe(te):Promise.resolve(te).then(_e,Ie)}function h(C){return function(){var pe=this,V=arguments;return new Promise(function(_e,Ie){var ye=C.apply(pe,V);function le(te){f(ye,_e,Ie,le,re,"next",te)}function re(te){f(ye,_e,Ie,le,re,"throw",te)}le(void 0)})}}P.d(Ze,{Z:()=>h})}},kt=>{kt(kt.s=521)}]);